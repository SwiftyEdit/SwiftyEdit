/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],o=Object.getPrototypeOf,i=n.slice,r=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,h=u.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var o,i,r=(n=n||m).createElement("script");if(r.text=e,t)for(o in v)(i=t[o]||t.getAttribute&&t.getAttribute(o))&&r.setAttribute(o,i);n.head.appendChild(r).parentNode.removeChild(r)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var w="3.7.1",C=/HTML$/i,x=function(e,t){return new x.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!f(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function _(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}x.fn=x.prototype={jquery:w,constructor:x,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,n,o,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&s!==o&&(c&&o&&(x.isPlainObject(o)||(i=Array.isArray(o)))?(n=s[t],r=i&&!Array.isArray(n)?[]:i||x.isPlainObject(n)?n:{},i=!1,s[t]=x.extend(c,r,o)):void 0!==o&&(s[t]=o));return s},x.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=o(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||u.call(n)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(S(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},text:function(e){var t,n="",o=0,i=e.nodeType;if(!i)for(;t=e[o++];)n+=x.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?x.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!C.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,s=!n;i<r;i++)!t(e[i],i)!==s&&o.push(e[i]);return o},map:function(e,t,n){var o,i,s=0,a=[];if(S(e))for(o=e.length;s<o;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return r(a)},guid:1,support:p}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var k=n.pop,E=n.sort,A=n.splice,T="[\\x20\\t\\r\\n\\f]",L=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");x.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}x.escapeSelector=function(e){return(e+"").replace(R,M)};var D=m,O=s;!function(){var t,o,r,s,l,c,u,h,f,g,m=O,v=x.expando,y=0,b=0,w=te(),C=te(),S=te(),R=te(),M=function(e,t){return e===t&&(l=!0),0},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+T+"*("+I+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+T+"*\\]",P=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(T+"+","g"),H=new RegExp("^"+T+"*,"+T+"*"),z=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),W=new RegExp(T+"|>"),U=new RegExp(P),j=new RegExp("^"+I+"$"),V={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),Q=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){le()},J=he((function(e){return!0===e.disabled&&_(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(n=i.call(D.childNodes),D.childNodes),n[D.childNodes.length].nodeType}catch(t){m={apply:function(e,t){O.apply(e,i.call(t))},call:function(e){O.apply(e,i.call(arguments,1))}}}function ee(e,t,n,o){var i,r,s,a,l,d,u,g=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!o&&(le(t),t=t||c,h)){if(11!==y&&(l=G.exec(e)))if(i=l[1]){if(9===y){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(g&&(s=g.getElementById(i))&&ee.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(l[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(R[e+" "]||f&&f.test(e))){if(u=e,g=t,1===y&&(W.test(e)||z.test(e))){for((g=Y.test(e)&&ae(t.parentNode)||t)==t&&p.scope||((a=t.getAttribute("id"))?a=x.escapeSelector(a):t.setAttribute("id",a=v)),r=(d=de(e)).length;r--;)d[r]=(a?"#"+a:":scope")+" "+ue(d[r]);u=d.join(",")}try{return m.apply(n,g.querySelectorAll(u)),n}catch(t){R(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return ye(e.replace(L,"$1"),t,n,o)}function te(){var e=[];return function t(n,i){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ne(e){return e[v]=!0,e}function $(e){var t=c.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e){return function(t){return _(t,"input")&&t.type===e}}function ie(e){return function(t){return(_(t,"input")||_(t,"button"))&&t.type===e}}function re(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return ne((function(t){return t=+t,ne((function(n,o){for(var i,r=e([],n.length,t),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(o[i]=n[i]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var t,n=e?e.ownerDocument||e:D;return n!=c&&9===n.nodeType&&n.documentElement&&(u=(c=n).documentElement,h=!x.isXMLDoc(c),g=u.matches||u.webkitMatchesSelector||u.msMatchesSelector,u.msMatchesSelector&&D!=c&&(t=c.defaultView)&&t.top!==t&&t.addEventListener("unload",Z),p.getById=$((function(e){return u.appendChild(e).id=x.expando,!c.getElementsByName||!c.getElementsByName(x.expando).length})),p.disconnectedMatch=$((function(e){return g.call(e,"*")})),p.scope=$((function(){return c.querySelectorAll(":scope")})),p.cssHas=$((function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),p.getById?(o.filter.ID=function(e){var t=e.replace(X,Q);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(X,Q);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,o,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),o=0;r=i[o++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),o.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},o.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},f=[],$((function(e){var t;u.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+T+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+v+"-]").length||f.push("~="),e.querySelectorAll("a#"+v+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll(":checked").length||f.push(":checked"),(t=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),u.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),(t=c.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")})),p.cssHas||f.push(":has"),f=f.length&&new RegExp(f.join("|")),M=function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument==D&&ee.contains(D,e)?-1:t===c||t.ownerDocument==D&&ee.contains(D,t)?1:s?a.call(s,e)-a.call(s,t):0:4&n?-1:1)}),c}for(t in ee.matches=function(e,t){return ee(e,null,null,t)},ee.matchesSelector=function(e,t){if(le(e),h&&!R[t+" "]&&(!f||!f.test(t)))try{var n=g.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){R(t,!0)}return 0<ee(t,c,null,[e]).length},ee.contains=function(e,t){return(e.ownerDocument||e)!=c&&le(e),x.contains(e,t)},ee.attr=function(e,t){(e.ownerDocument||e)!=c&&le(e);var n=o.attrHandle[t.toLowerCase()],i=n&&d.call(o.attrHandle,t.toLowerCase())?n(e,t,!h):void 0;return void 0!==i?i:e.getAttribute(t)},ee.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],o=0,r=0;if(l=!p.sortStable,s=!p.sortStable&&i.call(e,0),E.call(e,M),l){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)A.call(e,n[o],1)}return s=null,e},x.fn.uniqueSort=function(){return this.pushStack(x.uniqueSort(i.apply(this)))},(o=x.expr={cacheLength:50,createPseudo:ne,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,Q),e[3]=(e[3]||e[4]||e[5]||"").replace(X,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ee.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ee.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,Q).toLowerCase();return"*"===e?function(){return!0}:function(e){return _(e,t)}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+T+")"+e+"("+T+"|$)"))&&w(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var i=ee.attr(o,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&-1<i.indexOf(n):"$="===t?n&&i.slice(-n.length)===n:"~="===t?-1<(" "+i.replace(B," ")+" ").indexOf(n):"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f=r!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),b=!l&&!a,w=!1;if(g){if(r){for(;f;){for(u=t;u=u[f];)if(a?_(u,m):1===u.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(w=(h=(c=(d=g[v]||(g[v]={}))[e]||[])[0]===y&&c[1])&&c[2],u=h&&g.childNodes[h];u=++h&&u&&u[f]||(w=h=0)||p.pop();)if(1===u.nodeType&&++w&&u===t){d[e]=[y,h,w];break}}else if(b&&(w=h=(c=(d=t[v]||(t[v]={}))[e]||[])[0]===y&&c[1]),!1===w)for(;(u=++h&&u&&u[f]||(w=h=0)||p.pop())&&(!(a?_(u,m):1===u.nodeType)||!++w||(b&&((d=u[v]||(u[v]={}))[e]=[y,w]),u!==t)););return(w-=i)===o||w%o==0&&0<=w/o}}},PSEUDO:function(e,t){var n,i=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ee.error("unsupported pseudo: "+e);return i[v]?i(t):1<i.length?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ne((function(e,n){for(var o,r=i(e,t),s=r.length;s--;)e[o=a.call(e,r[s])]=!(n[o]=r[s])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ne((function(e){var t=[],n=[],o=ve(e.replace(L,"$1"));return o[v]?ne((function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))})):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}})),has:ne((function(e){return function(t){return 0<ee(e,t).length}})),contains:ne((function(e){return e=e.replace(X,Q),function(t){return-1<(t.textContent||x.text(t)).indexOf(e)}})),lang:ne((function(e){return j.test(e||"")||ee.error("unsupported lang: "+e),e=e.replace(X,Q).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===u},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:re(!1),disabled:re(!0),checked:function(e){return _(e,"input")&&!!e.checked||_(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){return _(e,"input")&&"button"===e.type||_(e,"button")},text:function(e){var t;return _(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var o;for(o=n<0?n+t:t<n?t:n;0<=--o;)e.push(o);return e})),gt:se((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=oe(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=ie(t);function ce(){}function de(e,t){var n,i,r,s,a,l,c,d=C[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=o.preFilter;a;){for(s in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=z.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(L," ")}),a=a.slice(n.length)),o.filter)!(i=V[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ee.error(e):C(e,l).slice(0)}function ue(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function he(e,t,n){var o=t.dir,i=t.next,r=i||o,s=n&&"parentNode"===r,a=b++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,d,u=[y,a];if(l){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(d=t[v]||(t[v]={}),i&&_(t,i))t=t[o]||t;else{if((c=d[r])&&c[0]===y&&c[1]===a)return u[2]=c[2];if((d[r]=u)[2]=e(t,n,l))return!0}return!1}}function pe(e){return 1<e.length?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function fe(e,t,n,o,i){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,o,i)||(s.push(r),c&&t.push(a)));return s}function ge(e,t,n,o,i,r){return o&&!o[v]&&(o=ge(o)),i&&!i[v]&&(i=ge(i,r)),ne((function(r,s,l,c){var d,u,h,p,f=[],g=[],v=s.length,y=r||function(e,t,n){for(var o=0,i=t.length;o<i;o++)ee(e,t[o],n);return n}(t||"*",l.nodeType?[l]:l,[]),b=!e||!r&&t?y:fe(y,f,e,l,c);if(n?n(b,p=i||(r?e:v||o)?[]:s,l,c):p=b,o)for(d=fe(p,g),o(d,[],l,c),u=d.length;u--;)(h=d[u])&&(p[g[u]]=!(b[g[u]]=h));if(r){if(i||e){if(i){for(d=[],u=p.length;u--;)(h=p[u])&&d.push(b[u]=h);i(null,p=[],d,c)}for(u=p.length;u--;)(h=p[u])&&-1<(d=i?a.call(r,h):f[u])&&(r[d]=!(s[d]=h))}}else p=fe(p===s?p.splice(v,p.length):p),i?i(null,s,p,c):m.apply(s,p)}))}function me(e){for(var t,n,i,s=e.length,l=o.relative[e[0].type],c=l||o.relative[" "],d=l?1:0,u=he((function(e){return e===t}),c,!0),h=he((function(e){return-1<a.call(t,e)}),c,!0),p=[function(e,n,o){var i=!l&&(o||n!=r)||((t=n).nodeType?u(e,n,o):h(e,n,o));return t=null,i}];d<s;d++)if(n=o.relative[e[d].type])p=[he(pe(p),n)];else{if((n=o.filter[e[d].type].apply(null,e[d].matches))[v]){for(i=++d;i<s&&!o.relative[e[i].type];i++);return ge(1<d&&pe(p),1<d&&ue(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(L,"$1"),n,d<i&&me(e.slice(d,i)),i<s&&me(e=e.slice(i)),i<s&&ue(e))}p.push(n)}return pe(p)}function ve(e,t){var n,i,s,a,l,d,u=[],p=[],f=S[e+" "];if(!f){for(t||(t=de(e)),n=t.length;n--;)(f=me(t[n]))[v]?u.push(f):p.push(f);(f=S(e,(i=p,a=0<(s=u).length,l=0<i.length,d=function(e,t,n,d,u){var p,f,g,v=0,b="0",w=e&&[],C=[],S=r,_=e||l&&o.find.TAG("*",u),E=y+=null==S?1:Math.random()||.1,A=_.length;for(u&&(r=t==c||t||u);b!==A&&null!=(p=_[b]);b++){if(l&&p){for(f=0,t||p.ownerDocument==c||(le(p),n=!h);g=i[f++];)if(g(p,t||c,n)){m.call(d,p);break}u&&(y=E)}a&&((p=!g&&p)&&v--,e&&w.push(p))}if(v+=b,a&&b!==v){for(f=0;g=s[f++];)g(w,C,t,n);if(e){if(0<v)for(;b--;)w[b]||C[b]||(C[b]=k.call(d));C=fe(C)}m.apply(d,C),u&&!e&&0<C.length&&1<v+s.length&&x.uniqueSort(d)}return u&&(y=E,r=S),w},a?ne(d):d))).selector=e}return f}function ye(e,t,n,i){var r,s,a,l,c,d="function"==typeof e&&e,u=!i&&de(e=d.selector||e);if(n=n||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(a=s[0]).type&&9===t.nodeType&&h&&o.relative[s[1].type]){if(!(t=(o.find.ID(a.matches[0].replace(X,Q),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=V.needsContext.test(e)?0:s.length;r--&&(a=s[r],!o.relative[l=a.type]);)if((c=o.find[l])&&(i=c(a.matches[0].replace(X,Q),Y.test(s[0].type)&&ae(t.parentNode)||t))){if(s.splice(r,1),!(e=i.length&&ue(s)))return m.apply(n,i),n;break}}return(d||ve(e,u))(i,t,!h,n,!t||Y.test(e)&&ae(t.parentNode)||t),n}ce.prototype=o.filters=o.pseudos,o.setFilters=new ce,p.sortStable=v.split("").sort(M).join("")===v,le(),p.sortDetached=$((function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))})),x.find=ee,x.expr[":"]=x.expr.pseudos,x.unique=x.uniqueSort,ee.compile=ve,ee.select=ye,ee.setDocument=le,ee.tokenize=de,ee.escape=x.escapeSelector,ee.getText=x.text,ee.isXML=x.isXMLDoc,ee.selectors=x.expr,ee.support=x.support,ee.uniqueSort=x.uniqueSort}();var N=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&x(e).is(n))break;o.push(e)}return o},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=x.expr.match.needsContext,P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(e,t,n){return f(t)?x.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return-1<a.call(t,e)!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?x.find.matchesSelector(o,e)?[o]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<o;t++)if(x.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)x.find(e,i[t],n);return 1<o?x.uniqueSort(n):n},filter:function(e){return this.pushStack(B(this,e||[],!1))},not:function(e){return this.pushStack(B(this,e||[],!0))},is:function(e){return!!B(this,"string"==typeof e&&F.test(e)?x(e):e||[],!1).length}});var H,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:z.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),P.test(o[1])&&x.isPlainObject(t))for(o in t)f(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=m.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,H=x(m);var W=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,i=this.length,r=[],s="string"!=typeof e&&x(e);if(!F.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&x.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?x.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?a.call(x(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},parentsUntil:function(e,t,n){return N(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return N(e,"nextSibling")},prevAll:function(e){return N(e,"previousSibling")},nextUntil:function(e,t,n){return N(e,"nextSibling",n)},prevUntil:function(e,t,n){return N(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(_(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,o){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=x.filter(o,i)),1<this.length&&(U[e]||x.uniqueSort(i),W.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function q(e){return e}function K(e){throw e}function G(e,t,n,o){var i;try{e&&f(i=e.promise)?i.call(e).done(t).fail(n):e&&f(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},x.each(t.match(V)||[],(function(e,t){n[t]=!0})),n):x.extend({},e);var o,i,r,s,a=[],l=[],c=-1,d=function(){for(s=s||e.once,r=o=!0;l.length;c=-1)for(i=l.shift();++c<a.length;)!1===a[c].apply(i[0],i[1])&&e.stopOnFalse&&(c=a.length,i=!1);e.memory||(i=!1),o=!1,s&&(a=i?[]:"")},u={add:function(){return a&&(i&&!o&&(c=a.length-1,l.push(i)),function t(n){x.each(n,(function(n,o){f(o)?e.unique&&u.has(o)||a.push(o):o&&o.length&&"string"!==b(o)&&t(o)}))}(arguments),i&&!o&&d()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;-1<(n=x.inArray(t,a,n));)a.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<x.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=i="",this},disabled:function(){return!a},lock:function(){return s=l=[],i||o||(a=i=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},x.extend({Deferred:function(t){var n=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(t){x.each(n,(function(n,o){var i=f(e[o[4]])&&e[o[4]];r[o[1]]((function(){var e=i&&i.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,o,i){var r=0;function s(t,n,o,i){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<r)){if((e=o.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(c)?i?c.call(e,s(r,n,q,i),s(r,n,K,i)):(r++,c.call(e,s(r,n,q,i),s(r,n,K,i),s(r,n,q,n.notifyWith))):(o!==q&&(a=void 0,l=[e]),(i||n.resolveWith)(a,l))}},d=i?c:function(){try{c()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,d.error),r<=t+1&&(o!==K&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?d():(x.Deferred.getErrorHook?d.error=x.Deferred.getErrorHook():x.Deferred.getStackHook&&(d.error=x.Deferred.getStackHook()),e.setTimeout(d))}}return x.Deferred((function(e){n[0][3].add(s(0,e,f(i)?i:q,e.notifyWith)),n[1][3].add(s(0,e,f(t)?t:q)),n[2][3].add(s(0,e,f(o)?o:K))})).promise()},promise:function(e){return null!=e?x.extend(e,i):i}},r={};return x.each(n,(function(e,t){var s=t[2],a=t[5];i[t[1]]=s.add,a&&s.add((function(){o=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith})),i.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,o=Array(n),r=i.call(arguments),s=x.Deferred(),a=function(e){return function(n){o[e]=this,r[e]=1<arguments.length?i.call(arguments):n,--t||s.resolveWith(o,r)}};if(t<=1&&(G(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||f(r[n]&&r[n].then)))return s.then();for(;n--;)G(r[n],a(n),s.reject);return s.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Y.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},x.readyException=function(t){e.setTimeout((function(){throw t}))};var X=x.Deferred();function Q(){m.removeEventListener("DOMContentLoaded",Q),e.removeEventListener("load",Q),x.ready()}x.fn.ready=function(e){return X.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0)!==e&&0<--x.readyWait||X.resolveWith(m,[x])}}),x.ready.then=X.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(x.ready):(m.addEventListener("DOMContentLoaded",Q),e.addEventListener("load",Q));var Z=function(e,t,n,o,i,r,s){var a=0,l=e.length,c=null==n;if("object"===b(n))for(a in i=!0,n)Z(e,t,a,n[a],!0,r,s);else if(void 0!==o&&(i=!0,f(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):r},J=/^-ms-/,ee=/-([a-z])/g;function te(e,t){return t.toUpperCase()}function ne(e){return e.replace(J,"ms-").replace(ee,te)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=x.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[ne(t)]=n;else for(o in t)i[ne(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ne(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ne):(t=ne(t))in o?[t]:t.match(V)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||x.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var ie=new oe,re=new oe,se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;function le(e,t,n){var o,i;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(ae,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:se.test(i)?JSON.parse(i):i)}catch(e){}re.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return re.hasData(e)||ie.hasData(e)},data:function(e,t,n){return re.access(e,t,n)},removeData:function(e,t){re.remove(e,t)},_data:function(e,t,n){return ie.access(e,t,n)},_removeData:function(e,t){ie.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,o,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=re.get(r),1===r.nodeType&&!ie.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(o=s[n].name).indexOf("data-")&&(o=ne(o.slice(5)),le(r,o,i[o]));ie.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){re.set(this,e)})):Z(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=re.get(r,e))||void 0!==(n=le(r,e))?n:void 0;this.each((function(){re.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){re.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=ie.get(e,t),n&&(!o||Array.isArray(n)?o=ie.access(e,t,x.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx"
;var n=x.queue(e,t),o=n.length,i=n.shift(),r=x._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,(function(){x.dequeue(e,t)}),r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie.get(e,n)||ie.access(e,n,{empty:x.Callbacks("once memory").add((function(){ie.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=x.Deferred(),r=this,s=this.length,a=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ie.get(r[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(t)}});var ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),ue=["Top","Right","Bottom","Left"],he=m.documentElement,pe=function(e){return x.contains(e.ownerDocument,e)},fe={composed:!0};he.getRootNode&&(pe=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(fe)===e.ownerDocument});var ge=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&pe(e)&&"none"===x.css(e,"display")};function me(e,t,n,o){var i,r,s=20,a=o?function(){return o.cur()}:function(){return x.css(e,t,"")},l=a(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),d=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&de.exec(x.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)x.style(e,t,d+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),d/=r;d*=2,x.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=d,o.end=i)),i}var ve={};function ye(e,t){for(var n,o,i,r,s,a,l,c=[],d=0,u=e.length;d<u;d++)(o=e[d]).style&&(n=o.style.display,t?("none"===n&&(c[d]=ie.get(o,"display")||null,c[d]||(o.style.display="")),""===o.style.display&&ge(o)&&(c[d]=(l=s=r=void 0,s=(i=o).ownerDocument,a=i.nodeName,(l=ve[a])||(r=s.body.appendChild(s.createElement(a)),l=x.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),ve[a]=l)))):"none"!==n&&(c[d]="none",ie.set(o,"display",n)));for(d=0;d<u;d++)null!=c[d]&&(e[d].style.display=c[d]);return e}x.fn.extend({show:function(){return ye(this,!0)},hide:function(){return ye(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ge(this)?x(this).show():x(this).hide()}))}});var be,we,Ce=/^(?:checkbox|radio)$/i,xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Se=/^$|^module$|\/(?:java|ecma)script/i;be=m.createDocumentFragment().appendChild(m.createElement("div")),(we=m.createElement("input")).setAttribute("type","radio"),we.setAttribute("checked","checked"),we.setAttribute("name","t"),be.appendChild(we),p.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue,be.innerHTML="<option></option>",p.option=!!be.lastChild;var _e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ke(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&_(e,t)?x.merge([e],n):n}function Ee(e,t){for(var n=0,o=e.length;n<o;n++)ie.set(e[n],"globalEval",!t||ie.get(t[n],"globalEval"))}_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,p.option||(_e.optgroup=_e.option=[1,"<select multiple='multiple'>","</select>"]);var Ae=/<|&#?\w+;/;function $e(e,t,n,o,i){for(var r,s,a,l,c,d,u=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===b(r))x.merge(h,r.nodeType?[r]:r);else if(Ae.test(r)){for(s=s||u.appendChild(t.createElement("div")),a=(xe.exec(r)||["",""])[1].toLowerCase(),l=_e[a]||_e._default,s.innerHTML=l[1]+x.htmlPrefilter(r)+l[2],d=l[0];d--;)s=s.lastChild;x.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(t.createTextNode(r));for(u.textContent="",p=0;r=h[p++];)if(o&&-1<x.inArray(r,o))i&&i.push(r);else if(c=pe(r),s=ke(u.appendChild(r),"script"),c&&Ee(s),n)for(d=0;r=s[d++];)Se.test(r.type||"")&&n.push(r);return u}var Te=/^([^.]*)(?:\.(.+)|)/;function Le(){return!0}function Re(){return!1}function Me(e,t,n,o,i,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(o=o||n,n=void 0),t)Me(e,a,n,o,t[a],r);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=Re;else if(!i)return e;return 1===r&&(s=i,(i=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),e.each((function(){x.event.add(this,t,i,o,n)}))}function De(e,t,n){n?(ie.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var n,o=ie.get(this,t);if(1&e.isTrigger&&this[t]){if(o)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=i.call(arguments),ie.set(this,t,o),this[t](),n=ie.get(this,t),ie.set(this,t,!1),o!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else o&&(ie.set(this,t,x.event.trigger(o[0],o.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Le)}})):void 0===ie.get(e,t)&&x.event.add(e,t,Le)}x.event={global:{},add:function(e,t,n,o,i){var r,s,a,l,c,d,u,h,p,f,g,m=ie.get(e);if($(e))for(n.handler&&(n=(r=n).handler,i=r.selector),i&&x.find.matchesSelector(he,i),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(V)||[""]).length;c--;)p=g=(a=Te.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=x.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=x.event.special[p]||{},d=x.extend({type:p,origType:g,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,o,f,s)||e.addEventListener&&e.addEventListener(p,s)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[p]=!0)},remove:function(e,t,n,o,i){var r,s,a,l,c,d,u,h,p,f,g,m=ie.hasData(e)&&ie.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(V)||[""]).length;c--;)if(p=g=(a=Te.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=x.event.special[p]||{},h=l[p=(o?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)d=h[r],!i&&g!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&("**"!==o||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));s&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||x.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)x.event.remove(e,p+t[c],n,o,!0);x.isEmptyObject(l)&&ie.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r,s,a=new Array(arguments.length),l=x.event.fix(e),c=(ie.get(this,"events")||Object.create(null))[l.type]||[],d=x.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=x.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(o=((x.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,o,i,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[i=(o=t[n]).selector+" "]&&(s[i]=o.needsContext?-1<x(i,this).index(c):x.find(i,this,null,[c]).length),s[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ce.test(t.type)&&t.click&&_(t,"input")&&De(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ce.test(t.type)&&t.click&&_(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return Ce.test(t.type)&&t.click&&_(t,"input")&&ie.get(t,"click")||_(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Le:Re,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Le,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Le,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Le,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(m.documentMode){var n=ie.get(this,"handle"),o=x.event.fix(e);o.type="focusin"===e.type?"focus":"blur",o.isSimulated=!0,n(e),o.target===o.currentTarget&&n(o)}else x.event.simulate(t,e.target,x.event.fix(e))}x.event.special[e]={setup:function(){var o;if(De(this,e,!0),!m.documentMode)return!1;(o=ie.get(this,t))||this.addEventListener(t,n),ie.set(this,t,(o||0)+1)},trigger:function(){return De(this,e),!0},teardown:function(){var e;if(!m.documentMode)return!1;(e=ie.get(this,t)-1)?ie.set(this,t,e):(this.removeEventListener(t,n),ie.remove(this,t))},_default:function(t){return ie.get(t.target,e)},delegateType:t},x.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,i=m.documentMode?this:o,r=ie.get(i,t);r||(m.documentMode?this.addEventListener(t,n):o.addEventListener(e,n,!0)),ie.set(i,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=m.documentMode?this:o,r=ie.get(i,t)-1;r?ie.set(i,t,r):(m.documentMode?this.removeEventListener(t,n):o.removeEventListener(e,n,!0),ie.remove(i,t))}}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,i=e.handleObj;return o&&(o===this||x.contains(this,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,o){return Me(this,e,t,n,o)},one:function(e,t,n,o){return Me(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,x(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Re),this.each((function(){x.event.remove(this,e,n,t)}))}});var Oe=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(e,t){return _(e,"table")&&_(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,o,i,r,s,a;if(1===t.nodeType){if(ie.hasData(e)&&(a=ie.get(e).events))for(i in ie.remove(t,"handle events"),a)for(n=0,o=a[i].length;n<o;n++)x.event.add(t,i,a[i][n]);re.hasData(e)&&(r=re.access(e),s=x.extend({},r),re.set(t,s))}}function ze(e,t,n,o){t=r(t);var i,s,a,l,c,d,u=0,h=e.length,g=h-1,m=t[0],v=f(m);if(v||1<h&&"string"==typeof m&&!p.checkClone&&Ne.test(m))return e.each((function(i){var r=e.eq(i);v&&(t[0]=m.call(this,i,r.html())),ze(r,t,n,o)}));if(h&&(s=(i=$e(t,e[0].ownerDocument,!1,e,o)).firstChild,1===i.childNodes.length&&(i=s),s||o)){for(l=(a=x.map(ke(i,"script"),Pe)).length;u<h;u++)c=i,u!==g&&(c=x.clone(c,!0,!0),l&&x.merge(a,ke(c,"script"))),n.call(e[u],c,u);if(l)for(d=a[a.length-1].ownerDocument,x.map(a,Be),u=0;u<l;u++)c=a[u],Se.test(c.type||"")&&!ie.access(c,"globalEval")&&x.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&!c.noModule&&x._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):y(c.textContent.replace(Ie,""),c,d))}return e}function We(e,t,n){for(var o,i=t?x.filter(t,e):e,r=0;null!=(o=i[r]);r++)n||1!==o.nodeType||x.cleanData(ke(o)),o.parentNode&&(n&&pe(o)&&Ee(ke(o,"script")),o.parentNode.removeChild(o));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,i,r,s,a,l,c,d=e.cloneNode(!0),u=pe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=ke(d),o=0,i=(r=ke(e)).length;o<i;o++)a=r[o],"input"===(c=(l=s[o]).nodeName.toLowerCase())&&Ce.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||ke(e),s=s||ke(d),o=0,i=r.length;o<i;o++)He(r[o],s[o]);else He(e,d);return 0<(s=ke(d,"script")).length&&Ee(s,!u&&ke(e,"script")),d},cleanData:function(e){for(var t,n,o,i=x.event.special,r=0;void 0!==(n=e[r]);r++)if($(n)){if(t=n[ie.expando]){if(t.events)for(o in t.events)i[o]?x.event.remove(n,o):x.removeEvent(n,o,t.handle);n[ie.expando]=void 0}n[re.expando]&&(n[re.expando]=void 0)}}}),x.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return Z(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(ke(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return Z(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!_e[(xe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(ke(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(ke(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,o=[],i=x(e),r=i.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),x(i[a])[t](n),s.apply(o,n.get());return this.pushStack(o)}}));var Ue=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),je=/^--/,Ve=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=function(e,t,n){var o,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in o=n.call(e),t)e.style[i]=r[i];return o},Ke=new RegExp(ue.join("|"),"i");function Ge(e,t,n){var o,i,r,s,a=je.test(t),l=e.style;return(n=n||Ve(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(L,"$1")||void 0),""!==s||pe(e)||(s=x.style(e,t)),!p.pixelBoxStyles()&&Ue.test(s)&&Ke.test(t)&&(o=l.width,i=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=o,l.minWidth=i,l.maxWidth=r)),void 0!==s?s+"":s}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",he.appendChild(c).appendChild(d);var t=e.getComputedStyle(d);o="1%"!==t.top,l=12===n(t.marginLeft),d.style.right="60%",s=36===n(t.right),i=36===n(t.width),d.style.position="absolute",r=12===n(d.offsetWidth/3),he.removeChild(c),d=null}}function n(e){return Math.round(parseFloat(e))}var o,i,r,s,a,l,c=m.createElement("div"),d=m.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,x.extend(p,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,n,o,i;return null==a&&(t=m.createElement("table"),n=m.createElement("tr"),o=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="box-sizing:content-box;border:1px solid",n.style.height="1px",o.style.height="9px",o.style.display="block",he.appendChild(t).appendChild(n).appendChild(o),i=e.getComputedStyle(n),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,he.removeChild(t)),a}}))}();var Xe=["Webkit","Moz","ms"],Qe=m.createElement("div").style,Ze={};function Je(e){return x.cssProps[e]||Ze[e]||(e in Qe?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Qe)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function ot(e,t,n){var o=de.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function it(e,t,n,o,i,r){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=x.css(e,n+ue[s],!0,i)),o?("content"===n&&(l-=x.css(e,"padding"+ue[s],!0,i)),"margin"!==n&&(l-=x.css(e,"border"+ue[s]+"Width",!0,i))):(l+=x.css(e,"padding"+ue[s],!0,i),"padding"!==n?l+=x.css(e,"border"+ue[s]+"Width",!0,i):a+=x.css(e,"border"+ue[s]+"Width",!0,i));return!o&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l+c}function rt(e,t,n){var o=Ve(e),i=(!p.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,o),r=i,s=Ge(e,t,o),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(s)){if(!n)return s;s="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&_(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,o))&&e.getClientRects().length&&(i="border-box"===x.css(e,"boxSizing",!1,o),(r=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+it(e,t,n||(i?"border":"content"),r,o,s)+"px"}function st(e,t,n,o,i){return new st.prototype.init(e,t,n,o,i)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,a=ne(t),l=je.test(t),c=e.style;if(l||(t=Je(a)),s=x.cssHooks[t]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,o))?i:c[t];"string"==(r=typeof n)&&(i=de.exec(n))&&i[1]&&(n=me(e,t,i),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=i&&i[3]||(x.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,r,s,a=ne(t);return je.test(t)||(t=Je(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ge(e,t,o)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,o){if(n)return!et.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,o):qe(e,tt,(function(){return rt(e,t,o)}))},set:function(e,n,o){var i,r=Ve(e),s=!p.scrollboxSize()&&"absolute"===r.position,a=(s||o)&&"border-box"===x.css(e,"boxSizing",!1,r),l=o?it(e,t,o,a,r):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-it(e,t,"border",!1,r)-.5)),l&&(i=de.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),ot(0,n,l)}}})),x.cssHooks.marginLeft=Ye(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+ue[o]+t]=r[o]||r[o-2]||r[0];return i}},"margin"!==e&&(x.cssHooks[e+t].set=ot)})),x.fn.extend({css:function(e,t){return Z(this,(function(e,t,n){var o,i,r={},s=0;if(Array.isArray(t)){for(o=Ve(e),i=t.length;s<i;s++)r[t[s]]=x.css(e,t[s],!1,o);return r}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,1<arguments.length)}}),((x.Tween=st).prototype={constructor:st,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(x.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=st.prototype.init,x.fx.step={};var at,lt,ct,dt,ut=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function pt(){lt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(pt):e.setTimeout(pt,x.fx.interval),x.fx.tick())}function ft(){return e.setTimeout((function(){at=void 0})),at=Date.now()}function gt(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=ue[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function mt(e,t,n){for(var o,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),r=0,s=i.length;r<s;r++)if(o=i[r].call(n,t,e))return o}function vt(e,t,n){var o,i,r=0,s=vt.prefilters.length,a=x.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=at||ft(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,n]),o<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||ft(),duration:n.duration,tweens:[],createTween:function(t,n){var o=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,o,i,r,s;for(n in e)if(i=t[o=ne(n)],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),(s=x.cssHooks[o])&&"expand"in s)for(n in r=s.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=i);else t[o]=i}(d,c.opts.specialEasing);r<s;r++)if(o=vt.prefilters[r].call(c,e,d,c.opts))return f(o.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return x.map(d,mt,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return me(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(V);for(var n,o=0,i=e.length;o<i;o++)n=e[o],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,i,r,s,a,l,c,d,u="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&ge(e),m=ie.get(e,"fxshow");for(o in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[o],ut.test(i)){if(delete t[o],r=r||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[o])continue;g=!0}p[o]=m&&m[o]||x.style(e,o)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(o in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=ie.get(e,"display")),"none"===(d=x.css(e,"display"))&&(c?d=c:(ye([e],!0),c=e.style.display||c,d=x.css(e,"display"),ye([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===x.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=ie.access(e,"fxshow",{display:c}),r&&(m.hidden=!g),g&&ye([e],!0),h.done((function(){for(o in g||ye([e]),ie.remove(e,"fxshow"),p)x.style(e,o,p[o])}))),l=mt(g?m[o]:0,o,h),o in m||(m[o]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),x.speed=function(e,t,n){var o=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return x.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in x.fx.speeds?o.duration=x.fx.speeds[o.duration]:o.duration=x.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){f(o.old)&&o.old.call(this),o.queue&&x.dequeue(this,o.queue)},o},x.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ge).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=x.isEmptyObject(e),r=x.speed(t,n,o),s=function(){var t=vt(this,x.extend({},e),r);(i||ie.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=x.timers,s=ie.get(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&ht.test(i)&&o(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ie.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=x.timers,s=o?o.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,o,i)}})),x.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),at=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){lt||(lt=!0,pt())},x.fx.stop=function(){lt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,n){return t=x.fx&&x.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,o){var i=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(i)}}))},ct=m.createElement("input"),dt=m.createElement("select").appendChild(m.createElement("option")),ct.type="checkbox",p.checkOn=""!==ct.value,p.optSelected=dt.selected,(ct=m.createElement("input")).value="t",ct.type="radio",p.radioValue="t"===ct.value;var yt,bt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return Z(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?x.prop(e,t,n):(1===r&&x.isXMLDoc(e)||(i=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=x.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&_(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(V)
;if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=bt[t]||x.find.attr;bt[t]=function(e,t,o){var i,r,s=t.toLowerCase();return o||(r=bt[s],bt[s]=i,i=null!=n(e,t,o)?s:null,bt[s]=r),i}}));var wt=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;function xt(e){return(e.match(V)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}x.fn.extend({prop:function(e,t){return Z(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&x.isXMLDoc(e)||(t=x.propFix[t]||t,i=x.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,o,i,r,s;return f(e)?this.each((function(t){x(this).addClass(e.call(this,t,St(this)))})):(t=_t(e)).length?this.each((function(){if(o=St(this),n=1===this.nodeType&&" "+xt(o)+" "){for(r=0;r<t.length;r++)i=t[r],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=xt(n),o!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,o,i,r,s;return f(e)?this.each((function(t){x(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=_t(e)).length?this.each((function(){if(o=St(this),n=1===this.nodeType&&" "+xt(o)+" "){for(r=0;r<t.length;r++)for(i=t[r];-1<n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");s=xt(n),o!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,o,i,r,s=typeof e,a="string"===s||Array.isArray(e);return f(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,St(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=_t(e),this.each((function(){if(a)for(r=x(this),i=0;i<n.length;i++)o=n[i],r.hasClass(o)?r.removeClass(o):r.addClass(o);else void 0!==e&&"boolean"!==s||((o=St(this))&&ie.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===e?"":ie.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&-1<(" "+xt(St(n))+" ").indexOf(t))return!0;return!1}});var kt=/\r/g;x.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=f(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,x(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(kt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:xt(x.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:i.length;for(o=r<0?l:s?r:0;o<l;o++)if(((n=i[o]).selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!_(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,o,i=e.options,r=x.makeArray(t),s=i.length;s--;)((o=i[s]).selected=-1<x.inArray(x.valHooks.option.get(o),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<x.inArray(x(e).val(),t)}},p.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Et=e.location,At={guid:Date.now()},$t=/\?/;x.parseXML=function(t){var n,o;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return o=n&&n.getElementsByTagName("parsererror")[0],n&&!o||x.error("Invalid XML: "+(o?x.map(o.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Tt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(t,n,o,i){var r,s,a,l,c,u,h,p,v=[o||m],y=d.call(t,"type")?t.type:t,b=d.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=o=o||m,3!==o.nodeType&&8!==o.nodeType&&!Tt.test(y+x.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[x.expando]?t:new x.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:x.makeArray(n,[t]),h=x.event.special[y]||{},i||!h.trigger||!1!==h.trigger.apply(o,n))){if(!i&&!h.noBubble&&!g(o)){for(l=h.delegateType||y,Tt.test(l+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),a=s;a===(o.ownerDocument||m)&&v.push(a.defaultView||a.parentWindow||e)}for(r=0;(s=v[r++])&&!t.isPropagationStopped();)p=s,t.type=1<r?l:h.bindType||y,(u=(ie.get(s,"events")||Object.create(null))[t.type]&&ie.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&$(s)&&(t.result=u.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),n)||!$(o)||c&&f(o[y])&&!g(o)&&((a=o[c])&&(o[c]=null),x.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Lt),o[y](),t.isPropagationStopped()&&p.removeEventListener(y,Lt),x.event.triggered=void 0,a&&(o[c]=a)),t.result}},simulate:function(e,t,n){var o=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(o,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,Mt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,o){var i;if(Array.isArray(t))x.each(t,(function(t,i){n||Rt.test(e)?o(e,i):Nt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)}));else if(n||"object"!==b(t))o(e,t);else for(i in t)Nt(e+"["+i+"]",t[i],n,o)}x.param=function(e,t){var n,o=[],i=function(e,t){var n=f(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){i(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,i);return o.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Ot.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Ce.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}})):{name:t.name,value:n.replace(Mt,"\r\n")}})).get()}});var It=/%20/g,Ft=/#.*$/,Pt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,zt=/^\/\//,Wt={},Ut={},jt="*/".concat("*"),Vt=m.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(V)||[];if(f(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Kt(e,t,n,o){var i={},r=e===Ut;function s(a){var l;return i[a]=!0,x.each(e[a]||[],(function(e,a){var c=a(t,n,o);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Gt(e,t){var n,o,i=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&x.extend(!0,e,o),e}Vt.href=Et.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,x.ajaxSettings),t):Gt(x.ajaxSettings,e)},ajaxPrefilter:qt(Wt),ajaxTransport:qt(Ut),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,r,s,a,l,c,d,u,h,p=x.ajaxSetup({},n),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?x(f):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=p.statusCode||{},w={},C={},S="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(r);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return o&&o.abort(t),k(0,t),this}};if(v.promise(_),p.url=((t||p.url||Et.href)+"").replace(zt,Et.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(V)||[""],null==p.crossDomain){l=m.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),Kt(Wt,p,n,_),c)return _;for(u in(d=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ht.test(p.type),i=p.url.replace(Ft,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(It,"+")):(h=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=($t.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Pt,"$1"),h=($t.test(i)?"&":"?")+"_="+At.guid+++h),p.url=i+h),p.ifModified&&(x.lastModified[i]&&_.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&_.setRequestHeader("If-None-Match",x.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+jt+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,_,p)||c))return _.abort();if(S="abort",y.add(p.complete),_.done(p.success),_.fail(p.error),o=Kt(Ut,p,n,_)){if(_.readyState=1,d&&g.trigger("ajaxSend",[_,p]),c)return _;p.async&&0<p.timeout&&(a=e.setTimeout((function(){_.abort("timeout")}),p.timeout));try{c=!1,o.send(w,k)}catch(t){if(c)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,n,s,l){var u,h,m,w,C,S=n;c||(c=!0,a&&e.clearTimeout(a),o=void 0,r=l||"",_.readyState=0<t?4:0,u=200<=t&&t<300||304===t,s&&(w=function(e,t,n){for(var o,i,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(p,_,s)),!u&&-1<x.inArray("script",p.dataTypes)&&x.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,o){var i,r,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(i in c)if((a=i.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(r=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,w,_,u),u?(p.ifModified&&((C=_.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=C),(C=_.getResponseHeader("etag"))&&(x.etag[i]=C)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=w.state,h=w.data,u=!(m=w.error))):(m=S,!t&&S||(S="error",t<0&&(t=0))),_.status=t,_.statusText=(n||S)+"",u?v.resolveWith(f,[h,S,_]):v.rejectWith(f,[_,S,m]),_.statusCode(b),b=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[_,p,u?h:m]),y.fireWith(f,[_,S]),d&&(g.trigger("ajaxComplete",[_,p]),--x.active||x.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,o,i){return f(n)&&(i=i||o,o=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:i,data:n,success:o},x.isPlainObject(e)&&e))}})),x.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Xt=x.ajaxSettings.xhr();p.cors=!!Xt&&"withCredentials"in Xt,p.ajax=Xt=!!Xt,x.ajaxTransport((function(t){var n,o;if(p.cors||Xt&&!t.crossDomain)return{send:function(i,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Yt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&o()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(i){if(n)throw i}},abort:function(){n&&n()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,i){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Qt,Zt=[],Jt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||x.expando+"_"+At.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(t,n,o){var i,r,s,a=!1!==t.jsonp&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Jt,"$1"+i):!1!==t.jsonp&&(t.url+=($t.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){s=arguments},o.always((function(){void 0===r?x(e).removeProp(i):e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(i)),s&&f(r)&&r(s[0]),s=r=void 0})),"script"})),p.createHTMLDocument=((Qt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((o=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(o)):t=m),r=!n&&[],(i=P.exec(e))?[t.createElement(i[1])]:(i=$e([e],t,r),r&&r.length&&x(r).remove(),x.merge([],i.childNodes)));var o,i,r},x.fn.load=function(e,t,n){var o,i,r,s=this,a=e.indexOf(" ");return-1<a&&(o=xt(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<s.length&&x.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,s.html(o?x("<div>").append(x.parseHTML(e)).find(o):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var o,i,r,s,a,l,c=x.css(e,"position"),d=x(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),r=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(s=(o=d.position()).top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),f(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):d.css(u)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===x.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),i.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-x.css(o,"marginTop",!0),left:t.left-i.left-x.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||he}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(o){return Z(this,(function(e,o,i){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[o];r?r.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[o]=i}),e,o,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ye(p.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),Ue.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){x.fn[o]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return Z(this,(function(t,n,i){var r;return g(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?x.css(t,n,a):x.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return o=i.call(arguments,2),(r=function(){return e.apply(t||this,o.concat(i.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=_,x.isFunction=f,x.isWindow=g,x.camelCase=ne,x.type=b,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return x}));var tn=e.jQuery,nn=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=nn),t&&e.jQuery===x&&(e.jQuery=tn),x},void 0===t&&(e.jQuery=e.$=x),x})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(exports){"use strict";function e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function t(t){return t instanceof e(t).Element||t instanceof Element}function n(t){return t instanceof e(t).HTMLElement||t instanceof HTMLElement}function o(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}var i=Math.max,r=Math.min,s=Math.round;function a(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function l(){return!/^((?!chrome|android).)*safari/i.test(a())}function c(o,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var a=o.getBoundingClientRect(),c=1,d=1;i&&n(o)&&(c=o.offsetWidth>0&&s(a.width)/o.offsetWidth||1,d=o.offsetHeight>0&&s(a.height)/o.offsetHeight||1);var u=(t(o)?e(o):window).visualViewport,h=!l()&&r,p=(a.left+(h&&u?u.offsetLeft:0))/c,f=(a.top+(h&&u?u.offsetTop:0))/d,g=a.width/c,m=a.height/d;return{width:g,height:m,top:f,right:p+g,bottom:f+m,left:p,x:p,y:f}}function d(t){var n=e(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function u(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((t(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return c(h(e)).left+d(e).scrollLeft}function f(t){return e(t).getComputedStyle(t)}function g(e){var t=f(e),n=t.overflow,o=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+o)}function m(t,o,i){void 0===i&&(i=!1);var r,a,l=n(o),f=n(o)&&function(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,o=s(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(o),m=h(o),v=c(t,f,i),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(l||!l&&!i)&&(("body"!==u(o)||g(m))&&(y=(r=o)!==e(r)&&n(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:d(r)),n(o)?((b=c(o,!0)).x+=o.clientLeft,b.y+=o.clientTop):m&&(b.x=p(m))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function v(e){var t=c(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function y(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||h(e)}function b(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:n(e)&&g(e)?e:b(y(e))}function w(t,n){var o;void 0===n&&(n=[]);var i=b(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),s=e(i),a=r?[s].concat(s.visualViewport||[],g(i)?i:[]):i,l=n.concat(a);return r?l:l.concat(w(y(a)))}function C(e){return["table","td","th"].indexOf(u(e))>=0}function x(e){return n(e)&&"fixed"!==f(e).position?e.offsetParent:null}function S(t){for(var i=e(t),r=x(t);r&&C(r)&&"static"===f(r).position;)r=x(r);return r&&("html"===u(r)||"body"===u(r)&&"static"===f(r).position)?i:r||function(e){var t=/firefox/i.test(a());if(/Trident/i.test(a())&&n(e)&&"fixed"===f(e).position)return null;var i=y(e);for(o(i)&&(i=i.host);n(i)&&["html","body"].indexOf(u(i))<0;){var r=f(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(t)||i}var _="top",k="bottom",E="right",A="left",T="auto",L=[_,k,E,A],R="start",M="end",D="viewport",O="popper",N=L.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+M])}),[]),I=[].concat(L,[T]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+M])}),[]),F=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P(e){var t=new Map,n=new Set,o=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&i(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),o}function B(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function H(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z(n,o,r){return o===D?H(function(t,n){var o=e(t),i=h(t),r=o.visualViewport,s=i.clientWidth,a=i.clientHeight,c=0,d=0;if(r){s=r.width,a=r.height;var u=l();(u||!u&&"fixed"===n)&&(c=r.offsetLeft,d=r.offsetTop)}return{width:s,height:a,x:c+p(t),y:d}}(n,r)):t(o)?function(e,t){var n=c(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(o,r):H(function(e){var t,n=h(e),o=d(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=i(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=i(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-o.scrollLeft+p(e),c=-o.scrollTop;return"rtl"===f(r||n).direction&&(l+=i(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}(h(n)))}function W(e,o,s,a){var l="clippingParents"===o?function(e){var o=w(y(e)),i=["absolute","fixed"].indexOf(f(e).position)>=0&&n(e)?S(e):e;return t(i)?o.filter((function(e){return t(e)&&B(e,i)&&"body"!==u(e)})):[]}(e):[].concat(o),c=[].concat(l,[s]),d=c[0],h=c.reduce((function(t,n){var o=z(e,n,a);return t.top=i(o.top,t.top),t.right=r(o.right,t.right),t.bottom=r(o.bottom,t.bottom),t.left=i(o.left,t.left),t}),z(e,d,a));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function U(e){return e.split("-")[0]}function j(e){return e.split("-")[1]}function V(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,o=e.element,i=e.placement,r=i?U(i):null,s=i?j(i):null,a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(r){case _:t={x:a,y:n.y-o.height};break;case k:t={x:a,y:n.y+n.height};break;case E:t={x:n.x+n.width,y:l};break;case A:t={x:n.x-o.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?V(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case R:t[c]=t[c]-(n[d]/2-o[d]/2);break;case M:t[c]=t[c]+(n[d]/2-o[d]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function G(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Y(e,n){void 0===n&&(n={});var o=n,i=o.placement,r=void 0===i?e.placement:i,s=o.strategy,a=void 0===s?e.strategy:s,l=o.boundary,d=void 0===l?"clippingParents":l,u=o.rootBoundary,p=void 0===u?D:u,f=o.elementContext,g=void 0===f?O:f,m=o.altBoundary,v=void 0!==m&&m,y=o.padding,b=void 0===y?0:y,w=K("number"!=typeof b?b:G(b,L)),C=g===O?"reference":O,x=e.rects.popper,S=e.elements[v?C:g],A=W(t(S)?S:S.contextElement||h(e.elements.popper),d,p,a),T=c(e.elements.reference),R=q({reference:T,element:x,strategy:"absolute",placement:r}),M=H(Object.assign({},x,R)),N=g===O?M:T,I={top:A.top-N.top+w.top,bottom:N.bottom-A.bottom+w.bottom,left:A.left-N.left+w.left,right:N.right-A.right+w.right},F=e.modifiersData.offset;if(g===O&&F){var P=F[r];Object.keys(I).forEach((function(e){var t=[E,k].indexOf(e)>=0?1:-1,n=[_,k].indexOf(e)>=0?"y":"x";I[e]+=P[n]*t}))}return I}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Z(e){void 0===e&&(e={});var n=e,o=n.defaultModifiers,i=void 0===o?[]:o,r=n.defaultOptions,s=void 0===r?X:r;return function(e,n,o){void 0===o&&(o=s);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,s),modifiersData:{},elements:{reference:e,popper:n},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(o){var r="function"==typeof o?o(l.options):o;h(),l.options=Object.assign({},s,l.options,r),l.scrollParents={reference:t(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(n)};var a,d,p=function(e){var t=P(e);return F.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(i,l.options.modifiers),d=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return l.orderedModifiers=p.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var r=i({state:l,name:t,instance:u,options:o}),s=function(){};c.push(r||s)}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(Q(t,n)){l.rects={
reference:m(t,S(n),"fixed"===l.options.strategy),popper:v(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<l.orderedModifiers.length;o++)if(!0!==l.reset){var i=l.orderedModifiers[o],r=i.fn,s=i.options,a=void 0===s?{}:s,c=i.name;"function"==typeof r&&(l=r({state:l,options:a,name:c,instance:u})||l)}else l.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){h(),d=!0}};if(!Q(e,n))return u;function h(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(o).then((function(e){!d&&o.onFirstUpdate&&o.onFirstUpdate(e)})),u}}var J={passive:!0};var ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,o=t.instance,i=t.options,r=i.scroll,s=void 0===r||r,a=i.resize,l=void 0===a||a,c=e(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",o.update,J)})),l&&c.addEventListener("resize",o.update,J),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",o.update,J)})),l&&c.removeEventListener("resize",o.update,J)}},data:{}};var te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(t){var n,o=t.popper,i=t.popperRect,r=t.placement,a=t.variation,l=t.offsets,c=t.position,d=t.gpuAcceleration,u=t.adaptive,p=t.roundOffsets,g=t.isFixed,m=l.x,v=void 0===m?0:m,y=l.y,b=void 0===y?0:y,w="function"==typeof p?p({x:v,y:b}):{x:v,y:b};v=w.x,b=w.y;var C=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),T=A,L=_,R=window;if(u){var D=S(o),O="clientHeight",N="clientWidth";if(D===e(o)&&"static"!==f(D=h(o)).position&&"absolute"===c&&(O="scrollHeight",N="scrollWidth"),r===_||(r===A||r===E)&&a===M)L=k,b-=(g&&D===R&&R.visualViewport?R.visualViewport.height:D[O])-i.height,b*=d?1:-1;if(r===A||(r===_||r===k)&&a===M)T=E,v-=(g&&D===R&&R.visualViewport?R.visualViewport.width:D[N])-i.width,v*=d?1:-1}var I,F=Object.assign({position:c},u&&ne),P=!0===p?function(e,t){var n=e.x,o=e.y,i=t.devicePixelRatio||1;return{x:s(n*i)/i||0,y:s(o*i)/i||0}}({x:v,y:b},e(o)):{x:v,y:b};return v=P.x,b=P.y,d?Object.assign({},F,((I={})[L]=x?"0":"",I[T]=C?"0":"",I.transform=(R.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",I)):Object.assign({},F,((n={})[L]=x?b+"px":"",n[T]=C?v+"px":"",n.transform="",n))}var ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,i=void 0===o||o,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,l=void 0===a||a,c={placement:U(t.placement),variation:j(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var re={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var o=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];n(r)&&u(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:o[e]).reduce((function(e,t){return e[t]="",e}),{});n(i)&&u(i)&&(Object.assign(i.style,s),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};var se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,i=n.offset,r=void 0===i?[0,0]:i,s=I.reduce((function(e,n){return e[n]=function(e,t,n){var o=U(e),i=[A,_].indexOf(o)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*i,[A,E].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=s}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var ce={start:"end",end:"start"};function de(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function ue(e,t){void 0===t&&(t={});var n=t,o=n.placement,i=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?I:l,d=j(o),u=d?a?N:N.filter((function(e){return j(e)===d})):L,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=Y(e,{placement:n,boundary:i,rootBoundary:r,padding:s})[U(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var he={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var i=n.mainAxis,r=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=U(m),y=l||(v===m||!f?[le(m)]:function(e){if(U(e)===T)return[];var t=le(e);return[de(e),t,de(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(U(n)===T?ue(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,C=t.rects.popper,x=new Map,S=!0,L=b[0],M=0;M<b.length;M++){var D=b[M],O=U(D),N=j(D)===R,I=[_,k].indexOf(O)>=0,F=I?"width":"height",P=Y(t,{placement:D,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),B=I?N?E:A:N?k:_;w[F]>C[F]&&(B=le(B));var H=le(B),z=[];if(r&&z.push(P[O]<=0),a&&z.push(P[B]<=0,P[H]<=0),z.every((function(e){return e}))){L=D,S=!1;break}x.set(D,z)}if(S)for(var W=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return L=t,"break"},V=f?3:1;V>0;V--){if("break"===W(V))break}t.placement!==L&&(t.modifiersData[o]._skip=!0,t.placement=L,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pe(e,t,n){return i(e,r(t,n))}var fe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,s=n.mainAxis,a=void 0===s||s,l=n.altAxis,c=void 0!==l&&l,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,g=void 0===f||f,m=n.tetherOffset,y=void 0===m?0:m,b=Y(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),w=U(t.placement),C=j(t.placement),x=!C,T=V(w),L="x"===T?"y":"x",M=t.modifiersData.popperOffsets,D=t.rects.reference,O=t.rects.popper,N="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,I="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(M){if(a){var B,H="y"===T?_:A,z="y"===T?k:E,W="y"===T?"height":"width",q=M[T],K=q+b[H],G=q-b[z],X=g?-O[W]/2:0,Q=C===R?D[W]:O[W],Z=C===R?-O[W]:-D[W],J=t.elements.arrow,ee=g&&J?v(J):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ne=te[H],oe=te[z],ie=pe(0,D[W],ee[W]),re=x?D[W]/2-X-ie-ne-I.mainAxis:Q-ie-ne-I.mainAxis,se=x?-D[W]/2+X+ie+oe+I.mainAxis:Z+ie+oe+I.mainAxis,ae=t.elements.arrow&&S(t.elements.arrow),le=ae?"y"===T?ae.clientTop||0:ae.clientLeft||0:0,ce=null!=(B=null==F?void 0:F[T])?B:0,de=q+se-ce,ue=pe(g?r(K,q+re-ce-le):K,q,g?i(G,de):G);M[T]=ue,P[T]=ue-q}if(c){var he,fe="x"===T?_:A,ge="x"===T?k:E,me=M[L],ve="y"===L?"height":"width",ye=me+b[fe],be=me-b[ge],we=-1!==[_,A].indexOf(w),Ce=null!=(he=null==F?void 0:F[L])?he:0,xe=we?ye:me-D[ve]-O[ve]-Ce+I.altAxis,Se=we?me+D[ve]+O[ve]-Ce-I.altAxis:be,_e=g&&we?function(e,t,n){var o=pe(e,t,n);return o>n?n:o}(xe,me,Se):pe(g?xe:ye,me,g?Se:be);M[L]=_e,P[L]=_e-me}t.modifiersData[o]=P}},requiresIfExists:["offset"]};var ge={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,i=e.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=U(n.placement),l=V(a),c=[A,E].indexOf(a)>=0?"height":"width";if(r&&s){var d=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:G(e,L))}(i.padding,n),u=v(r),h="y"===l?_:A,p="y"===l?k:E,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],g=s[l]-n.rects.reference[l],m=S(r),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=f/2-g/2,w=d[h],C=y-u[c]-d[p],x=y/2-u[c]/2+b,T=pe(w,x,C),R=l;n.modifiersData[o]=((t={})[R]=T,t.centerOffset=T-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&B(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function me(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ve(e){return[_,E,k,A].some((function(t){return e[t]>=0}))}var ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,s=Y(t,{elementContext:"reference"}),a=Y(t,{altBoundary:!0}),l=me(s,o),c=me(a,i,r),d=ve(l),u=ve(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},be=Z({defaultModifiers:[ee,te,ie,re]}),we=[ee,te,ie,re,se,he,fe,ge,ye],Ce=Z({defaultModifiers:we});exports.applyStyles=re,exports.arrow=ge,exports.computeStyles=ie,exports.createPopper=Ce,exports.createPopperLite=be,exports.defaultModifiers=we,exports.detectOverflow=Y,exports.eventListeners=ee,exports.flip=he,exports.hide=ye,exports.offset=se,exports.popperGenerator=Z,exports.popperOffsets=te,exports.preventOverflow=fe,Object.defineProperty(exports,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t(e.Popper)}(this,(function(e){"use strict";const t=function(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const n in e)if("default"!==n){const o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>e[n]})}return t.default=e,Object.freeze(t)}(e),n=new Map,o={set(e,t,o){n.has(e)||n.set(e,new Map);const i=n.get(e);i.has(t)||0===i.size?i.set(t,o):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>n.has(e)&&n.get(e).get(t)||null,remove(e,t){if(!n.has(e))return;const o=n.get(e);o.delete(t),0===o.size&&n.delete(e)}},i="transitionend",r=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),s=e=>{e.dispatchEvent(new Event(i))},a=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),l=e=>a(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(r(e)):null,c=e=>{if(!a(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},d=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),u=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?u(e.parentNode):null},h=()=>{},p=e=>{e.offsetHeight},f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,g=[],m=()=>"rtl"===document.documentElement.dir,v=e=>{var t;t=()=>{const t=f();if(t){const n=e.NAME,o=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=o,e.jQueryInterface)}},"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of g)e()})),g.push(t)):t()},y=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,b=(e,t,n=!0)=>{if(!n)return void y(e);const o=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),i=Number.parseFloat(n);return o||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let r=!1;const a=({target:n})=>{n===t&&(r=!0,t.removeEventListener(i,a),y(e))};t.addEventListener(i,a),setTimeout((()=>{r||s(t)}),o)},w=(e,t,n,o)=>{const i=e.length;let r=e.indexOf(t);return-1===r?!n&&o?e[i-1]:e[0]:(r+=n?1:-1,o&&(r=(r+i)%i),e[Math.max(0,Math.min(r,i-1))])},C=/[^.]*(?=\..*)\.|.*/,x=/\..*/,S=/::\d+$/,_={};let k=1;const $={mouseenter:"mouseover",mouseleave:"mouseout"},E=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(e,t){return t&&`${t}::${k++}`||e.uidEvent||k++}function T(e){const t=A(e);return e.uidEvent=t,_[t]=_[t]||{},_[t]}function L(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function R(e,t,n){const o="string"==typeof t,i=o?n:t||n;let r=N(e);return E.has(r)||(r=e),[o,i,r]}function M(e,t,n,o,i){if("string"!=typeof t||!e)return;let[r,s,a]=R(t,n,o);if(t in $){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=T(e),c=l[a]||(l[a]={}),d=L(c,s,r?n:null);if(d)return void(d.oneOff=d.oneOff&&i);const u=A(s,t.replace(C,"")),h=r?function(e,t,n){return function o(i){const r=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const a of r)if(a===s)return F(i,{delegateTarget:s}),o.oneOff&&I.off(e,i.type,t,n),n.apply(s,[i])}}(e,n,s):function(e,t){return function n(o){return F(o,{delegateTarget:e}),n.oneOff&&I.off(e,o.type,t),t.apply(e,[o])}}(e,s);h.delegationSelector=r?n:null,h.callable=s,h.oneOff=i,h.uidEvent=u,c[u]=h,e.addEventListener(a,h,r)}function D(e,t,n,o,i){const r=L(t[n],o,i);r&&(e.removeEventListener(n,r,Boolean(i)),delete t[n][r.uidEvent])}function O(e,t,n,o){const i=t[n]||{};for(const[r,s]of Object.entries(i))r.includes(o)&&D(e,t,n,s.callable,s.delegationSelector)}function N(e){return e=e.replace(x,""),$[e]||e}const I={on(e,t,n,o){M(e,t,n,o,!1)},one(e,t,n,o){M(e,t,n,o,!0)},off(e,t,n,o){if("string"!=typeof t||!e)return;const[i,r,s]=R(t,n,o),a=s!==t,l=T(e),c=l[s]||{},d=t.startsWith(".");if(void 0===r){if(d)for(const n of Object.keys(l))O(e,l,n,t.slice(1));for(const[n,o]of Object.entries(c)){const i=n.replace(S,"");a&&!t.includes(i)||D(e,l,s,o.callable,o.delegationSelector)}}else{if(!Object.keys(c).length)return;D(e,l,s,r,i?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const o=f();let i=null,r=!0,s=!0,a=!1;t!==N(t)&&o&&(i=o.Event(t,n),o(e).trigger(i),r=!i.isPropagationStopped(),s=!i.isImmediatePropagationStopped(),a=i.isDefaultPrevented());const l=F(new Event(t,{bubbles:r,cancelable:!0}),n);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function F(e,t={}){for(const[n,o]of Object.entries(t))try{e[n]=o}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>o})}return e}function P(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function B(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const H={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${B(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${B(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const o of n){let n=o.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=P(e.dataset[o])}return t},getDataAttribute:(e,t)=>P(e.getAttribute(`data-bs-${B(t)}`))};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=a(t)?H.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...a(t)?H.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[o,i]of Object.entries(t)){const t=e[o],r=a(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${r}" but expected type "${i}".`)}var n}}class W extends z{constructor(e,t){super(),(e=l(e))&&(this._element=e,this._config=this._getConfig(t),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){b(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return o.get(l(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const U=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?r(n.trim()):null}return t},j={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let o=e.parentNode.closest(t);for(;o;)n.push(o),o=o.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!d(e)&&c(e)))},getSelectorFromElement(e){const t=U(e);return t&&j.findOne(t)?t:null},getElementFromSelector(e){const t=U(e);return t?j.findOne(t):null},getMultipleElementsFromSelector(e){const t=U(e);return t?j.find(t):[]}},V=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;I.on(document,n,`[data-bs-dismiss="${o}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),d(this))return;const i=j.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(i)[t]()}))},q=".bs.alert",K=`close${q}`,G=`closed${q}`;class Y extends W{static get NAME(){return"alert"}close(){if(I.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),I.trigger(this._element,G),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Y.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}V(Y,"close"),v(Y);const X='[data-bs-toggle="button"]';class Q extends W{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Q.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}I.on(document,"click.bs.button.data-api",X,(e=>{e.preventDefault();const t=e.target.closest(X);Q.getOrCreateInstance(t).toggle()})),v(Q);const Z=".bs.swipe",J=`touchstart${Z}`,ee=`touchmove${Z}`,te=`touchend${Z}`,ne=`pointerdown${Z}`,oe=`pointerup${Z}`,ie={endCallback:null,leftCallback:null,rightCallback:null},re={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class se extends z{constructor(e,t){super(),this._element=e,e&&se.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ie}static get DefaultType(){return re}static get NAME(){return"swipe"}dispose(){I.off(this._element,Z)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),y(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&y(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(I.on(this._element,ne,(e=>this._start(e))),I.on(this._element,oe,(e=>this._end(e))),this._element.classList.add("pointer-event")):(I.on(this._element,J,(e=>this._start(e))),I.on(this._element,ee,(e=>this._move(e))),I.on(this._element,te,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ae=".bs.carousel",le=".data-api",ce="next",de="prev",ue="left",he="right",pe=`slide${ae}`,fe=`slid${ae}`,ge=`keydown${ae}`,me=`mouseenter${ae}`,ve=`mouseleave${ae}`,ye=`dragstart${ae}`,be=`load${ae}${le}`,we=`click${ae}${le}`,Ce="carousel",xe="active",Se=".active",_e=".carousel-item",ke={ArrowLeft:he,ArrowRight:ue},Ee={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ae={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $e extends W{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=j.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ce&&this.cycle()}static get Default(){return Ee}static get DefaultType(){return Ae}static get NAME(){return"carousel"}next(){this._slide(ce)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(de)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?I.one(this._element,fe,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void I.one(this._element,fe,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?ce:de;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&I.on(this._element,ge,(e=>this._keydown(e))),"hover"===this._config.pause&&(I.on(this._element,me,(()=>this.pause())),I.on(this._element,ve,(()=>this._maybeEnableCycle()))),this._config.touch&&se.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of j.find(".carousel-item img",this._element))I.on(e,ye,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(ue)),rightCallback:()=>this._slide(this._directionToOrder(he)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new se(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ke[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=j.findOne(Se,this._indicatorsElement);t.classList.remove(xe),t.removeAttribute("aria-current");const n=j.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(xe),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===ce,i=t||w(this._getItems(),n,o,this._config.wrap);if(i===n)return;const r=this._getItemIndex(i),s=t=>I.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r});if(s(pe).defaultPrevented)return;if(!n||!i)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=i;const l=o?"carousel-item-start":"carousel-item-end",c=o?"carousel-item-next":"carousel-item-prev";i.classList.add(c),p(i),n.classList.add(l),i.classList.add(l),this._queueCallback((()=>{i.classList.remove(l,c),i.classList.add(xe),n.classList.remove(xe,c,l),this._isSliding=!1,s(fe)}),n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return j.findOne(".active.carousel-item",this._element)}_getItems(){return j.find(_e,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return m()?e===ue?de:ce:e===ue?ce:de}_orderToDirection(e){return m()?e===de?ue:he:e===de?he:ue}static jQueryInterface(e){return this.each((function(){const t=$e.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}I.on(document,we,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=j.getElementFromSelector(this);if(!t||!t.classList.contains(Ce))return;e.preventDefault();const n=$e.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");return o?(n.to(o),void n._maybeEnableCycle()):"next"===H.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),I.on(window,be,(()=>{const e=j.find('[data-bs-ride="carousel"]');for(const t of e)$e.getOrCreateInstance(t)})),v($e);const Te=".bs.collapse",Le=`show${Te}`,Re=`shown${Te}`,Me=`hide${Te}`,De=`hidden${Te}`,Oe=`click${Te}.data-api`,Ne="show",Ie="collapse",Fe="collapsing",Pe=`:scope .${Ie} .${Ie}`,Be='[data-bs-toggle="collapse"]',He={parent:null,toggle:!0},ze={parent:"(null|element)",toggle:"boolean"};class We extends W{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=j.find(Be);for(const e of n){const t=j.getSelectorFromElement(e),n=j.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return He}static get DefaultType(){return ze}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>We.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(I.trigger(this._element,Le).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Ie),this._element.classList.add(Fe),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Ie,Ne),this._element.style[t]="",I.trigger(this._element,Re)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(I.trigger(this._element,Me).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,p(this._element),this._element.classList.add(Fe),this._element.classList.remove(Ie,Ne);for(const e of this._triggerArray){const t=j.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Ie),I.trigger(this._element,De)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ne)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=l(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Be);for(const t of e){const e=j.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=j.find(Pe,this._config.parent);return j.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}
static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=We.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}I.on(document,Oe,Be,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of j.getMultipleElementsFromSelector(this))We.getOrCreateInstance(e,{toggle:!1}).toggle()})),v(We);const Ue="dropdown",je=".bs.dropdown",Ve=".data-api",qe="ArrowUp",Ke="ArrowDown",Ge=`hide${je}`,Ye=`hidden${je}`,Xe=`show${je}`,Qe=`shown${je}`,Ze=`click${je}${Ve}`,Je=`keydown${je}${Ve}`,et=`keyup${je}${Ve}`,tt="show",nt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ot=`${nt}.show`,it=".dropdown-menu",rt=m()?"top-end":"top-start",st=m()?"top-start":"top-end",at=m()?"bottom-end":"bottom-start",lt=m()?"bottom-start":"bottom-end",ct=m()?"left-start":"right-start",dt=m()?"right-start":"left-start",ut={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ht={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class pt extends W{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=j.next(this._element,it)[0]||j.prev(this._element,it)[0]||j.findOne(it,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ut}static get DefaultType(){return ht}static get NAME(){return Ue}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!I.trigger(this._element,Xe,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))I.on(e,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(tt),this._element.classList.add(tt),I.trigger(this._element,Qe,e)}}hide(){if(d(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!I.trigger(this._element,Ge,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))I.off(e,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(tt),this._element.classList.remove(tt),this._element.setAttribute("aria-expanded","false"),H.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,Ye,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!a(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Ue.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===t)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:a(this._config.reference)?e=l(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=t.createPopper(e,this._menu,n)}_isShown(){return this._menu.classList.contains(tt)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return ct;if(e.classList.contains("dropstart"))return dt;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?st:rt:t?lt:at}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(H.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...y(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=j.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>c(e)));n.length&&w(n,t,e===Ke,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=pt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=j.find(ot);for(const n of t){const t=pt.getInstance(n);if(!t||!1===t._config.autoClose)continue;const o=e.composedPath(),i=o.includes(t._menu);if(o.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const r={relatedTarget:t._element};"click"===e.type&&(r.clickEvent=e),t._completeHide(r)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,o=[qe,Ke].includes(e.key);if(!o&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(nt)?this:j.prev(this,nt)[0]||j.next(this,nt)[0]||j.findOne(nt,e.delegateTarget.parentNode),r=pt.getOrCreateInstance(i);if(o)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),i.focus())}}I.on(document,Je,nt,pt.dataApiKeydownHandler),I.on(document,Je,it,pt.dataApiKeydownHandler),I.on(document,Ze,pt.clearMenus),I.on(document,et,pt.clearMenus),I.on(document,Ze,nt,(function(e){e.preventDefault(),pt.getOrCreateInstance(this).toggle()})),v(pt);const ft="backdrop",gt="show",mt=`mousedown.bs.${ft}`,vt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},yt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class bt extends z{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return vt}static get DefaultType(){return yt}static get NAME(){return ft}show(e){if(!this._config.isVisible)return void y(e);this._append();const t=this._getElement();this._config.isAnimated&&p(t),t.classList.add(gt),this._emulateAnimation((()=>{y(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(gt),this._emulateAnimation((()=>{this.dispose(),y(e)}))):y(e)}dispose(){this._isAppended&&(I.off(this._element,mt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=l(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),I.on(e,mt,(()=>{y(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){b(e,this._getElement(),this._config.isAnimated)}}const wt=".bs.focustrap",Ct=`focusin${wt}`,xt=`keydown.tab${wt}`,St="backward",_t={autofocus:!0,trapElement:null},kt={autofocus:"boolean",trapElement:"element"};class Et extends z{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _t}static get DefaultType(){return kt}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),I.off(document,wt),I.on(document,Ct,(e=>this._handleFocusin(e))),I.on(document,xt,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,wt))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=j.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===St?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?St:"forward")}}const At=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$t=".sticky-top",Tt="padding-right",Lt="margin-right";class Rt{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Tt,(t=>t+e)),this._setElementAttributes(At,Tt,(t=>t+e)),this._setElementAttributes($t,Lt,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Tt),this._resetElementAttributes(At,Tt),this._resetElementAttributes($t,Lt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+o)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&H.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=H.getDataAttribute(e,t);null!==n?(H.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(a(e))t(e);else for(const n of j.find(e,this._element))t(n)}}const Mt=".bs.modal",Dt=`hide${Mt}`,Ot=`hidePrevented${Mt}`,Nt=`hidden${Mt}`,It=`show${Mt}`,Ft=`shown${Mt}`,Pt=`resize${Mt}`,Bt=`click.dismiss${Mt}`,Ht=`mousedown.dismiss${Mt}`,zt=`keydown.dismiss${Mt}`,Wt=`click${Mt}.data-api`,Ut="modal-open",jt="show",Vt="modal-static",qt={backdrop:!0,focus:!0,keyboard:!0},Kt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gt extends W{constructor(e,t){super(e,t),this._dialog=j.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rt,this._addEventListeners()}static get Default(){return qt}static get DefaultType(){return Kt}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||I.trigger(this._element,It,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ut),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(I.trigger(this._element,Dt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jt),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){I.off(window,Mt),I.off(this._dialog,Mt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Et({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=j.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),p(this._element),this._element.classList.add(jt),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,Ft,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){I.on(this._element,zt,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),I.on(window,Pt,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),I.on(this._element,Ht,(e=>{I.one(this._element,Bt,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Ut),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,Nt)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,Ot).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Vt)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Vt),this._queueCallback((()=>{this._element.classList.remove(Vt),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=m()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=m()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Gt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}I.on(document,Wt,'[data-bs-toggle="modal"]',(function(e){const t=j.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),I.one(t,It,(e=>{e.defaultPrevented||I.one(t,Nt,(()=>{c(this)&&this.focus()}))}));const n=j.findOne(".modal.show");n&&Gt.getInstance(n).hide(),Gt.getOrCreateInstance(t).toggle(this)})),V(Gt),v(Gt);const Yt=".bs.offcanvas",Xt=".data-api",Qt=`load${Yt}${Xt}`,Zt="show",Jt="showing",en="hiding",tn=".offcanvas.show",nn=`show${Yt}`,on=`shown${Yt}`,rn=`hide${Yt}`,sn=`hidePrevented${Yt}`,an=`hidden${Yt}`,ln=`resize${Yt}`,cn=`click${Yt}${Xt}`,dn=`keydown.dismiss${Yt}`,un={backdrop:!0,keyboard:!0,scroll:!1},hn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pn extends W{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return un}static get DefaultType(){return hn}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||I.trigger(this._element,nn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Rt).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Jt),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Zt),this._element.classList.remove(Jt),I.trigger(this._element,on,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,rn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(en),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Zt,en),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Rt).reset(),I.trigger(this._element,an)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new bt({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():I.trigger(this._element,sn)}:null})}_initializeFocusTrap(){return new Et({trapElement:this._element})}_addEventListeners(){I.on(this._element,dn,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():I.trigger(this._element,sn))}))}static jQueryInterface(e){return this.each((function(){const t=pn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}I.on(document,cn,'[data-bs-toggle="offcanvas"]',(function(e){const t=j.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),d(this))return;I.one(t,an,(()=>{c(this)&&this.focus()}));const n=j.findOne(tn);n&&n!==t&&pn.getInstance(n).hide(),pn.getOrCreateInstance(t).toggle(this)})),I.on(window,Qt,(()=>{for(const e of j.find(tn))pn.getOrCreateInstance(e).show()})),I.on(window,ln,(()=>{for(const e of j.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&pn.getOrCreateInstance(e).hide()})),V(pn),v(pn);const fn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,vn=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!gn.has(n)||Boolean(mn.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))},yn={allowList:fn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},bn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wn={entry:"(string|element|function|null)",selector:"(string|element)"};class Cn extends z{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return yn}static get DefaultType(){return bn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},wn)}_setContent(e,t,n){const o=j.findOne(n,e);o&&((t=this._resolvePossibleFunction(t))?a(t)?this._putElementInTemplate(l(t),o):this._config.html?o.innerHTML=this._maybeSanitize(t):o.textContent=t:o.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const o=(new window.DOMParser).parseFromString(e,"text/html"),i=[].concat(...o.body.querySelectorAll("*"));for(const e of i){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const o=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[n]||[]);for(const t of o)vn(t,i)||e.removeAttribute(t.nodeName)}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return y(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const xn=new Set(["sanitize","allowList","sanitizeFn"]),Sn="fade",_n="show",kn=".modal",En="hide.bs.modal",An="hover",$n="focus",Tn={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},Ln={allowList:fn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Mn extends W{constructor(e,n){if(void 0===t)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ln}static get DefaultType(){return Rn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(kn),En,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=I.trigger(this._element,this.constructor.eventName("show")),t=(u(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(n),I.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(_n),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))I.on(e,"mouseover",h);this._queueCallback((()=>{I.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!I.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(_n),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))I.off(e,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger[$n]=!1,this._activeTrigger[An]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Sn,_n),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Sn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Cn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Sn)}_isShown(){return this.tip&&this.tip.classList.contains(_n)}_createPopper(e){const n=y(this._config.placement,[this,e,this._element]),o=Tn[n.toUpperCase()];return t.createPopper(this._element,e,this._getPopperConfig(o))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return y(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...y(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)I.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===An?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===An?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");I.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?$n:An]=!0,t._enter()})),I.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?$n:An]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(kn),En,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=H.getDataAttributes(this._element);for(const e of Object.keys(t))xn.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:l(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Mn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}v(Mn);const Dn={...Mn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},On={...Mn.DefaultType,content:"(null|string|element|function)"};class Nn extends Mn{static get Default(){return Dn}static get DefaultType(){return On}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Nn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}v(Nn);const In=".bs.scrollspy",Fn=`activate${In}`,Pn=`click${In}`,Bn=`load${In}.data-api`,Hn="active",zn="[href]",Wn=".nav-link",Un=`${Wn}, .nav-item > ${Wn}, .list-group-item`,jn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class qn extends W{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jn}static get DefaultType(){return Vn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=l(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(I.off(this._config.target,Pn),I.on(this._config.target,Pn,zn,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:o,behavior:"smooth"});n.scrollTop=o}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},o=(this._rootElement||document.documentElement).scrollTop,i=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}
const e=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(r),!o)return}else i||e||n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=j.find(zn,this._config.target);for(const t of e){if(!t.hash||d(t))continue;const e=j.findOne(decodeURI(t.hash),this._element);c(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Hn),this._activateParents(e),I.trigger(this._element,Fn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))j.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Hn);else for(const t of j.parents(e,".nav, .list-group"))for(const e of j.prev(t,Un))e.classList.add(Hn)}_clearActiveClass(e){e.classList.remove(Hn);const t=j.find(`${zn}.${Hn}`,e);for(const e of t)e.classList.remove(Hn)}static jQueryInterface(e){return this.each((function(){const t=qn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}I.on(window,Bn,(()=>{for(const e of j.find('[data-bs-spy="scroll"]'))qn.getOrCreateInstance(e)})),v(qn);const Kn=".bs.tab",Gn=`hide${Kn}`,Yn=`hidden${Kn}`,Xn=`show${Kn}`,Qn=`shown${Kn}`,Zn=`click${Kn}`,Jn=`keydown${Kn}`,eo=`load${Kn}`,to="ArrowLeft",no="ArrowRight",oo="ArrowUp",io="ArrowDown",ro="Home",so="End",ao="active",lo="fade",co="show",uo=".dropdown-toggle",ho=`:not(${uo})`,po='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fo=`.nav-link${ho}, .list-group-item${ho}, [role="tab"]${ho}, ${po}`,go=`.${ao}[data-bs-toggle="tab"], .${ao}[data-bs-toggle="pill"], .${ao}[data-bs-toggle="list"]`;class mo extends W{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),I.on(this._element,Jn,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?I.trigger(t,Gn,{relatedTarget:e}):null;I.trigger(e,Xn,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(ao),this._activate(j.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),I.trigger(e,Qn,{relatedTarget:t})):e.classList.add(co)}),e,e.classList.contains(lo)))}_deactivate(e,t){e&&(e.classList.remove(ao),e.blur(),this._deactivate(j.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),I.trigger(e,Yn,{relatedTarget:t})):e.classList.remove(co)}),e,e.classList.contains(lo)))}_keydown(e){if(![to,no,oo,io,ro,so].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!d(e)));let n;if([ro,so].includes(e.key))n=t[e.key===ro?0:t.length-1];else{const o=[no,io].includes(e.key);n=w(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),mo.getOrCreateInstance(n).show())}_getChildren(){return j.find(fo,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=j.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const o=(e,o)=>{const i=j.findOne(e,n);i&&i.classList.toggle(o,t)};o(uo,ao),o(".dropdown-menu",co),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(ao)}_getInnerElement(e){return e.matches(fo)?e:j.findOne(fo,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=mo.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}I.on(document,Zn,po,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),d(this)||mo.getOrCreateInstance(this).show()})),I.on(window,eo,(()=>{for(const e of j.find(go))mo.getOrCreateInstance(e)})),v(mo);const vo=".bs.toast",yo=`mouseover${vo}`,bo=`mouseout${vo}`,wo=`focusin${vo}`,Co=`focusout${vo}`,xo=`hide${vo}`,So=`hidden${vo}`,_o=`show${vo}`,ko=`shown${vo}`,Eo="hide",Ao="show",$o="showing",To={animation:"boolean",autohide:"boolean",delay:"number"},Lo={animation:!0,autohide:!0,delay:5e3};class Ro extends W{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lo}static get DefaultType(){return To}static get NAME(){return"toast"}show(){I.trigger(this._element,_o).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Eo),p(this._element),this._element.classList.add(Ao,$o),this._queueCallback((()=>{this._element.classList.remove($o),I.trigger(this._element,ko),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(I.trigger(this._element,xo).defaultPrevented||(this._element.classList.add($o),this._queueCallback((()=>{this._element.classList.add(Eo),this._element.classList.remove($o,Ao),I.trigger(this._element,So)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ao),super.dispose()}isShown(){return this._element.classList.contains(Ao)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,yo,(e=>this._onInteraction(e,!0))),I.on(this._element,bo,(e=>this._onInteraction(e,!1))),I.on(this._element,wo,(e=>this._onInteraction(e,!0))),I.on(this._element,Co,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Ro.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return V(Ro),v(Ro),{Alert:Y,Button:Q,Carousel:$e,Collapse:We,Dropdown:pt,Modal:Gt,Offcanvas:pn,Popover:Nn,ScrollSpy:qn,Tab:mo,Toast:Ro,Tooltip:Mn}})),
/*!
 * accounting.js v0.4.1
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
function(e,t){var n={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},o=Array.prototype.map,i=Array.isArray,r=Object.prototype.toString;function s(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function a(e){return i?i(e):"[object Array]"===r.call(e)}function l(e){return e&&"[object Object]"===r.call(e)}function c(e,t){var n;for(n in e=e||{},t=t||{})t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function d(e,t,n){var i,r,s=[];if(!e)return s;if(o&&e.map===o)return e.map(t,n);for(i=0,r=e.length;i<r;i++)s[i]=t.call(n,e[i],i,e);return s}function u(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function h(e){var t=n.settings.currency.format;return"function"==typeof e&&(e=e()),s(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:s(t)?n.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var p,f=n.unformat=n.parse=function(e,t){if(a(e))return d(e,(function(e){return f(e,t)}));if("number"==typeof(e=e||0))return e;t=t||n.settings.number.decimal;var o=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(o,"").replace(t,"."));return isNaN(i)?0:i},g=n.toFixed=function(e,t){t=u(t,n.settings.number.precision);var o=Math.pow(10,t);return(Math.round(n.unformat(e)*o)/o).toFixed(t)},m=n.formatNumber=n.format=function(e,t,o,i){if(a(e))return d(e,(function(e){return m(e,t,o,i)}));e=f(e);var r=c(l(t)?t:{precision:t,thousand:o,decimal:i},n.settings.number),s=u(r.precision),h=e<0?"-":"",p=parseInt(g(Math.abs(e||0),s),10)+"",v=p.length>3?p.length%3:0;return h+(v?p.substr(0,v)+r.thousand:"")+p.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+r.thousand)+(s?r.decimal+g(Math.abs(e),s).split(".")[1]:"")},v=n.formatMoney=function(e,t,o,i,r,s){if(a(e))return d(e,(function(e){return v(e,t,o,i,r,s)}));e=f(e);var p=c(l(t)?t:{symbol:t,precision:o,thousand:i,decimal:r,format:s},n.settings.currency),g=h(p.format);return(e>0?g.pos:e<0?g.neg:g.zero).replace("%s",p.symbol).replace("%v",m(Math.abs(e),u(p.precision),p.thousand,p.decimal))};n.formatColumn=function(e,t,o,i,r,p){if(!e)return[];var g=c(l(t)?t:{symbol:t,precision:o,thousand:i,decimal:r,format:p},n.settings.currency),v=h(g.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v"),b=0,w=d(e,(function(e,t){if(a(e))return n.formatColumn(e,g);var o=((e=f(e))>0?v.pos:e<0?v.neg:v.zero).replace("%s",g.symbol).replace("%v",m(Math.abs(e),u(g.precision),g.thousand,g.decimal));return o.length>b&&(b=o.length),o}));return d(w,(function(e,t){return s(e)&&e.length<b?y?e.replace(g.symbol,g.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e}))},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.accounting=n):"function"==typeof define&&define.amd?define([],(function(){return n})):(n.noConflict=(p=e.accounting,function(){return e.accounting=p,n.noConflict=void 0,n}),e.accounting=n)}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).tempusDominus={})}(this,(function(e){"use strict";class t extends Error{}const n="tempus-dominus";class o{}o.NAME=n,o.dataKey="td",o.events=new class{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},o.css=new class{constructor(){this.widget=`${n}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},o.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(e){const n=new t(`${this.base} Unexpected option: ${e} does not match a known option.`);throw n.code=1,n}unexpectedOptions(e){const n=new t(`${this.base}: ${e.join(", ")}`);throw n.code=1,n}unexpectedOptionValue(e,n,o){const i=new t(`${this.base} Unexpected option value: ${e} does not accept a value of "${n}". Valid values are: ${o.join(", ")}`);throw i.code=2,i}typeMismatch(e,n,o){const i=new t(`${this.base} Mismatch types: ${e} has a type of ${n} instead of the required ${o}`);throw i.code=3,i}numbersOutOfRange(e,n,o){const i=new t(`${this.base} ${e} expected an array of number between ${n} and ${o}.`);throw i.code=4,i}failedToParseDate(e,n,o=!1){const i=new t(`${this.base} Could not correctly parse "${n}" to a date for ${e}.`);if(i.code=5,!o)throw i;console.warn(i)}mustProvideElement(){const e=new t(`${this.base} No element was provided.`);throw e.code=6,e}subscribeMismatch(){const e=new t(`${this.base} The subscribed events does not match the number of callbacks`);throw e.code=7,e}conflictingConfiguration(e){const n=new t(`${this.base} A configuration value conflicts with another rule. ${e}`);throw n.code=8,n}customDateFormatError(e){const n=new t(`${this.base} Custom Date Format: ${e}`);throw n.code=9,n}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`)}deprecatedWarning(e,t){console.warn(`${this.base} Warning ${e} is deprecated and will be removed in a future version. ${t}`)}throwError(e){const n=new t(`${this.base} ${e}`);throw n.code=9,n}};var i,r={dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:e=>{const t=["th","st","nd","rd"],n=e%100;return`[${e}${t[(n-20)%10]||t[n]||t[0]}]`}};e.Unit=void 0,(i=e.Unit||(e.Unit={})).seconds="seconds",i.minutes="minutes",i.hours="hours",i.date="date",i.month="month",i.year="year";const s={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},a=e=>{switch(e){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},l=e=>{if(!e)return"h12";const t={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},n=(new c).setLocalization({locale:e});n.hours=0;const o=n.parts(void 0,t).hour;if("12"===o)return"h12";if("24"===o)return"h24";n.hours=23;const i=n.parts(void 0,t).hour;return"00"===o&&"11"===i?"h11":"00"===o&&"23"===i?"h23":void console.warn(`couldn't determine hour cycle for ${e}. start: ${o}. end: ${i}`)};class c extends Date{constructor(){super(...arguments),this.localization=r,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(e,t)=>{e.offset=this.offsetFromString(t)}],this.expressions={t:{pattern:void 0,parser:(e,t)=>{e.afternoon=this.meridiemMatch(t)}},T:{pattern:void 0,parser:(e,t)=>{e.afternoon=this.meridiemMatch(t)}},fff:{pattern:this.match3,parser:(e,t)=>{e.milliseconds=+t}},s:{pattern:this.match1to2,parser:this.addInput("seconds")},ss:{pattern:this.match1to2,parser:this.addInput("seconds")},m:{pattern:this.match1to2,parser:this.addInput("minutes")},mm:{pattern:this.match1to2,parser:this.addInput("minutes")},H:{pattern:this.match1to2,parser:this.addInput("hours")},h:{pattern:this.match1to2,parser:this.addInput("hours")},HH:{pattern:this.match1to2,parser:this.addInput("hours")},hh:{pattern:this.match1to2,parser:this.addInput("hours")},d:{pattern:this.match1to2,parser:this.addInput("day")},dd:{pattern:this.match2,parser:this.addInput("day")},Do:{pattern:this.matchWord,parser:(e,t)=>{if(e.day=+(t.match(/\d+/)[0]||1),this.localization.ordinal)for(let n=1;n<=31;n+=1)this.localization.ordinal(n).replace(/[[\]]/g,"")===t&&(e.day=n)}},M:{pattern:this.match1to2,parser:this.addInput("month")},MM:{pattern:this.match2,parser:this.addInput("month")},MMM:{pattern:this.matchWord,parser:(e,t)=>{const n=this.getAllMonths(),o=(this.getAllMonths("short")||n.map((e=>e.slice(0,3)))).indexOf(t)+1;if(o<1)throw new Error;e.month=o%12||o}},MMMM:{pattern:this.matchWord,parser:(e,t)=>{const n=this.getAllMonths().indexOf(t)+1;if(n<1)throw new Error;e.month=n%12||n}},y:{pattern:this.matchSigned,parser:this.addInput("year")},yy:{pattern:this.match2,parser:(e,t)=>{e.year=this.parseTwoDigitYear(+t)}},yyyy:{pattern:this.match4,parser:this.addInput("year")}}}setLocale(e){return this.localization||(this.localization=r,this.localization.locale=e),this}setLocalization(e){return this.localization=e,this}static convert(e,t="default",n){if(!e)throw new Error("A date is required");return n||((n=r).locale=t),new c(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).setLocalization(n)}get clone(){return new c(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(e){return void 0!==e&&"null"!==JSON.stringify(e)&&e.constructor.name===c.name}startOf(t,n=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(e.Unit.date),this.weekDay===n)break;const t=(this.weekDay-n+7)%7;this.manipulate(-1*t,e.Unit.date);break}case"month":this.startOf(e.Unit.date),this.setDate(1);break;case"year":this.startOf(e.Unit.date),this.setMonth(0,1)}return this}endOf(t,n=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":{this.endOf(e.Unit.date);const t=6+n;if(this.weekDay===t)break;this.manipulate(t-this.weekDay,e.Unit.date);break}case"month":this.endOf(e.Unit.date),this.manipulate(1,e.Unit.month),this.setDate(0);break;case"year":this.endOf(e.Unit.date),this.setMonth(11,31)}return this}manipulate(e,t){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this[t]+=e,this}isBefore(e,t){if(!c.isValid(e))return!1;if(!t)return this.valueOf()<e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()<e.clone.startOf(t).valueOf()}isAfter(e,t){if(!c.isValid(e))return!1;if(!t)return this.valueOf()>e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()>e.clone.startOf(t).valueOf()}isSame(e,t){if(!c.isValid(e))return!1;if(!t)return this.valueOf()===e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return e=c.convert(e),this.clone.startOf(t).valueOf()===e.startOf(t).valueOf()}isBetween(e,t,n,o="()"){if(!c.isValid(e)||!c.isValid(t))return!1;if(n&&void 0===this[n])throw new Error(`Unit '${n}' is not valid`);const i="("===o[0],r=")"===o[1],s=i?this.isAfter(e,n):!this.isBefore(e,n),a=r?this.isBefore(t,n):!this.isAfter(t,n);return s&&a}parts(e=this.localization.locale,t={dateStyle:"full",timeStyle:"long"}){const n={};return new Intl.DateTimeFormat(e,t).formatToParts(this).filter((e=>"literal"!==e.type)).forEach((e=>n[e.type]=e.value)),n}get seconds(){return this.getSeconds()}set seconds(e){this.setSeconds(e)}get secondsFormatted(){return this.parts(void 0,s).second}get minutes(){return this.getMinutes()}set minutes(e){this.setMinutes(e)}get minutesFormatted(){return this.parts(void 0,s).minute}get hours(){return this.getHours()}set hours(e){this.setHours(e)}getHoursFormatted(e="h12"){return this.parts(void 0,{...s,hourCycle:e}).hour}meridiem(e=this.localization.locale){return new Intl.DateTimeFormat(e,{hour:"numeric",hour12:!0}).formatToParts(this).find((e=>"dayPeriod"===e.type))?.value}get date(){return this.getDate()}set date(e){this.setDate(e)}get dateFormatted(){return this.parts(void 0,s).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(e){const t=new Date(this.year,e+1);t.setDate(0);const n=t.getDate();this.date>n&&(this.date=n),this.setMonth(e)}get monthFormatted(){return this.parts(void 0,s).month}get year(){return this.getFullYear()}set year(e){this.setFullYear(e)}get week(){const e=this.computeOrdinal(),t=this.getUTCDay();let n=Math.floor((e-t+10)/7);return n<1?n=this.weeksInWeekYear():n>this.weeksInWeekYear()&&(n=1),n}weeksInWeekYear(){const e=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,t=this.year-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return 4===e||3===n?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(e="long"){const t=new Intl.DateTimeFormat(this.localization.locale,{month:e}).format;return[...Array(12).keys()].map((e=>t(new Date(2021,e))))}replaceTokens(e,t){return e.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,((e,n,o)=>{const i=o&&o.toUpperCase();return n||t[i]||r.dateFormats[i]}))}parseTwoDigitYear(e){return e+(e>68?1900:2e3)}offsetFromString(e){if(!e)return 0;if("Z"===e)return 0;const[t,n,o]=e.match(/([+-]|\d\d)/g),i=60*+n+(+o||0);return 0===i?0:"+"===t?-i:i}zoneInformation(e,t){let n=e.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");const o=n.includes("-");return n=n.replace("-",""),"z"===t?n=n.substring(1,2):"zz"===t&&(n=n.substring(0,2)),`${o?"-":""}${n}`}addInput(e){return(t,n)=>{t[e]=+n}}getLocaleAfternoon(){return new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find((e=>"dayPeriod"===e.type))?.value?.replace(/\s+/g," ")}meridiemMatch(e){return e.toLowerCase()===this.getLocaleAfternoon().toLowerCase()}correctHours(e){const{afternoon:t}=e;if(void 0!==t){const{hours:n}=e;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}makeParser(e){const t=(e=this.replaceTokens(e,this.localization.dateFormats)).match(this.formattingTokens),{length:n}=t,o=[];for(let e=0;e<n;e+=1){const n=t[e],i=this.expressions[n];o[e]=i?.parser?i:n.replace(/^\[[^[\]]*]$/g,"")}return e=>{const t={hours:0,minutes:0,seconds:0,milliseconds:0};for(let i=0,r=0;i<n;i+=1){const n=o[i];if("string"==typeof n)r+=n.length;else{const o=e.slice(r);let i=o;n.pattern&&(i=n.pattern.exec(o)[0]),n.parser.call(this,t,i),e=e.replace(i,"")}}return this.correctHours(t),t}}static fromString(e,t){t?.format||o.errorMessages.customDateFormatError("No format was provided");try{const n=new c;if(n.setLocalization(t),["x","X"].indexOf(t.format)>-1)return new c(("X"===t.format?1e3:1)*+e);e=e.replace(/\s+/g," ");const o=n.makeParser(t.format),{year:i,month:r,day:s,hours:a,minutes:l,seconds:d,milliseconds:u,zone:h}=o(e),p=s||(i||r?1:n.getDate()),f=i||n.getFullYear();let g=0;return i&&!r||(g=r>0?r-1:n.getMonth()),h?new c(Date.UTC(f,g,p,a,l,d,u+60*h.offset*1e3)):new c(f,g,p,a,l,d,u)}catch(n){o.errorMessages.customDateFormatError(`Unable to parse provided input: ${e}, format: ${t.format}`)}}format(e,t=this.localization.locale){if(e&&"object"==typeof e)return new Intl.DateTimeFormat(t,e).format(this);const n=this.replaceTokens(e||this.localization.format||`${r.dateFormats.L}, ${r.dateFormats.LT}`,this.localization.dateFormats),o=e=>new Intl.DateTimeFormat(this.localization.locale,e).format(this);this.localization.hourCycle||(this.localization.hourCycle=l(this.localization.locale));const i=this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle,s=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle,a={y:this.year,yy:o({year:"2-digit"}),yyyy:this.year,M:o({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:o({weekday:"short"}),dddd:o({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(i),h:this.hours>12?this.hours-12:this.hours,hh:this.getHoursFormatted(s),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return n.replace(this.dateTimeRegex,((e,t)=>t||a[e])).replace(/\[/g,"").replace(/]/g,"")}}class d{constructor(){this.cache=new Map}locate(e){const t=this.cache.get(e);if(t)return t;const n=new e;return this.cache.set(e,n),n}}let u;const h=[{name:"calendar",className:o.css.daysContainer,unit:e.Unit.month,step:1},{name:"months",className:o.css.monthsContainer,unit:e.Unit.year,step:1},{name:"years",className:o.css.yearsContainer,unit:e.Unit.year,step:10},{name:"decades",className:o.css.decadesContainer,unit:e.Unit.year,step:100}];class p{constructor(){this._currentCalendarViewMode=0,this._viewDate=new c,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(e){this._currentCalendarViewMode=e,this.currentView=h[e].name}get viewDate(){return this._viewDate}set viewDate(e){this._viewDate=e,this.options&&(this.options.viewDate=e)}refreshCurrentView(){this.currentView=h[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class f{constructor(){this.optionsStore=u.locate(p)}isValid(t,n){if(!this._enabledDisabledDatesIsValid(n,t))return!1;if(n!==e.Unit.month&&n!==e.Unit.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(t.weekDay))return!1;if(!this._minMaxIsValid(n,t))return!1;if(n===e.Unit.hours||n===e.Unit.minutes||n===e.Unit.seconds){if(!this._enabledDisabledHoursIsValid(t))return!1;if(0!==this.optionsStore.options.restrictions.disabledTimeIntervals?.filter((e=>t.isBetween(e.from,e.to))).length)return!1}return!0}_enabledDisabledDatesIsValid(t,n){return!(t===e.Unit.date&&(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(n)||this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(n)))}_isInDisabledDates(t){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length||!this.optionsStore.options.restrictions.disabledDates.find((n=>n.isSame(t,e.Unit.date))))}_isInEnabledDates(t){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||!!this.optionsStore.options.restrictions.enabledDates.find((n=>n.isSame(t,e.Unit.date)))}_minMaxIsValid(e,t){return!(this.optionsStore.options.restrictions.minDate&&t.isBefore(this.optionsStore.options.restrictions.minDate,e)||this.optionsStore.options.restrictions.maxDate&&t.isAfter(this.optionsStore.options.restrictions.maxDate,e))}_enabledDisabledHoursIsValid(e){return!(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(e)||this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(e))}_isInDisabledHours(e){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const t=e.hours;return this.optionsStore.options.restrictions.disabledHours.includes(t)}_isInEnabledHours(e){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const t=e.hours;return this.optionsStore.options.restrictions.enabledHours.includes(t)}dateRangeIsValid(t,n,o){if(!this.optionsStore.options.dateRange)return!0;if(2!==t.length&&1!==n)return!0;const i=t[0].clone;if(i.isSame(o,e.Unit.date))return!0;for(i.manipulate(1,e.Unit.date);!i.isSame(o,e.Unit.date);){if(!this.isValid(i,e.Unit.date))return!1;i.manipulate(1,e.Unit.date)}return!0}}class g{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(e){this.subscribers.splice(e,1)}emit(e){this.subscribers.forEach((t=>{t(e)}))}destroy(){this.subscribers=null,this.subscribers=[]}}class m{constructor(){this.triggerEvent=new g,this.viewUpdate=new g,this.updateDisplay=new g,this.action=new g,this.updateViewDate=new g}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}const v={clear:"Clear selection",close:"Close the picker",dateFormats:r.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:r.format,hourCycle:r.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:r.locale,maxWeekdayLength:0,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:r.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem"},y={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom"},keepInvalid:!1,localization:v,meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new c},b={...v};function w(e,t){if(!e)return null;if(e.constructor.name===c.name)return e;if(e.constructor.name===Date.name)return c.convert(e);if("string"==typeof e){const n=c.fromString(e,t);return"null"===JSON.stringify(n)?null:n}return null}function C(e,t,n){"string"==typeof e&&"input"!==t&&o.errorMessages.dateString();const i=w(e,n);return i||o.errorMessages.failedToParseDate(t,e,"input"===t),i}function x(e,t,n,i=r){Array.isArray(t)||o.errorMessages.typeMismatch(e,n,"array of DateTime or Date");for(let n=0;n<t.length;n++){const o=C(t[n],e,i);o.setLocalization(i),t[n]=o}}function S(e,t,n){Array.isArray(t)&&!t.some((e=>"number"!=typeof e))||o.errorMessages.typeMismatch(e,n,"array of numbers")}function _(e){return({value:t,providedType:n,localization:o})=>{const i=C(t,e,o);if(void 0!==i)return i.setLocalization(o),i}}function k(e){const t=_(e);return e=>void 0===e.value?e.value:t(e)}function E(e,t,n){return({value:i,providedType:r})=>void 0===i?[]:(S(e,i,r),i.some((e=>e<t||e>n))&&o.errorMessages.numbersOutOfRange(e,t,n),i)}function A(e){return E(e,0,23)}function T(e){return({value:t,providedType:n,localization:o})=>void 0===t?[]:(x(e,t,n,o),t)}function L(e){return({value:t,path:n})=>(e.includes(t)||o.errorMessages.unexpectedOptionValue(n.substring(1),t,e),t)}const R=Object.freeze({defaultDate:_("defaultDate"),viewDate:_("viewDate"),minDate:k("restrictions.minDate"),maxDate:k("restrictions.maxDate"),disabledHours:A("restrictions.disabledHours"),enabledHours:A("restrictions.enabledHours"),disabledDates:T("restrictions.disabledDates"),enabledDates:T("restrictions.enabledDates"),daysOfWeekDisabled:E("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:e,value:t,providedType:n,localization:i})=>{if(void 0===t)return[];Array.isArray(t)||o.errorMessages.typeMismatch(e,n,"array of { from: DateTime|Date, to: DateTime|Date }");const r=t;for(let t=0;t<r.length;t++)Object.keys(r[t]).forEach((n=>{const o=`${e}[${t}].${n}`,s=C(r[t][n],o,i);s.setLocalization(i),r[t][n]=s}));return r},toolbarPlacement:L(["top","bottom","default"]),type:L(["icons","sprites"]),viewMode:L(["clock","calendar","months","years","decades"]),theme:L(["light","dark","auto"]),placement:L(["top","bottom"]),meta:({value:e})=>e,dayViewHeaderFormat:({value:e})=>e,container:({value:e,path:t})=>(e&&!(e instanceof HTMLElement||e instanceof Element||e?.appendChild)&&o.errorMessages.typeMismatch(t.substring(1),typeof e,"HTMLElement"),e),useTwentyfourHour:({value:e,path:t,providedType:n,defaultType:i})=>{if(o.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===e||"boolean"===n)return e;o.errorMessages.typeMismatch(t,n,i)},hourCycle:L(["h11","h12","h23","h24"])}),M=({value:e,defaultType:t,providedType:n,path:i})=>{switch(t){case"boolean":return"true"===e||!0===e;case"number":return+e;case"string":return e.toString();case"object":return{};case"function":return e;default:o.errorMessages.typeMismatch(i,n,t)}};class D{static deepCopy(e){const t={};return Object.keys(e).forEach((n=>{const o=e[n];o instanceof c?t[n]=o.clone:o instanceof Date?t[n]=new Date(o.valueOf()):(t[n]=o,"object"!=typeof o||o instanceof HTMLElement||o instanceof Element||Array.isArray(o)||(t[n]=D.deepCopy(o)))})),t}static objectPath(e,t){return"."===e.charAt(0)&&(e=e.slice(1)),e?e.split(".").reduce(((e,t)=>D.isValue(e)||D.isValue(e[t])?e[t]:void 0),t):t}static spread(e,t,n,i=""){const r=D.objectPath(i,y),s=Object.keys(e).filter((e=>!Object.keys(r).includes(e)));if(s.length>0){const e=D.getFlattenDefaultOptions(),t=s.map((t=>{let n=`"${i}.${t}" in not a known option.`;const o=e.find((e=>e.includes(t)));return o&&(n+=` Did you mean "${o}"?`),n}));o.errorMessages.unexpectedOptions(t)}Object.keys(e).filter((e=>"__proto__"!==e&&"constructor"!==e)).forEach((o=>{"."===(i+=`.${o}`).charAt(0)&&(i=i.slice(1));const s=r[o],a=typeof e[o],l=typeof s,c=e[o];if(null==c)return t[o]=c,void(i=i.substring(0,i.lastIndexOf(`.${o}`)));"object"!=typeof s||Array.isArray(e[o])||s instanceof Date||D.ignoreProperties.includes(o)?t[o]=D.processKey(o,c,a,l,i,n):D.spread(e[o],t[o],n,i),i=i.substring(0,i.lastIndexOf(`.${o}`))}))}static processKey(e,t,n,o,i,r){return(R[(s={key:e,value:t,providedType:n,defaultType:o,path:i,localization:r}).key]||M)(s);var s}static _mergeOptions(e,t){const n=D.deepCopy(t),o="default"!==t.localization?.locale?t.localization:e?.localization||y.localization;return D.spread(e,n,o,""),n}static _dataToOptions(e,t){const n=JSON.parse(JSON.stringify(e.dataset));if(n?.tdTargetInput&&delete n.tdTargetInput,n?.tdTargetToggle&&delete n.tdTargetToggle,!n||0===Object.keys(n).length||n.constructor!==DOMStringMap)return t;const i={},r=e=>{const t={};return Object.keys(e).forEach((e=>{t[e.toLowerCase()]=e})),t},s=this.normalizeObject(r),a=r(t);return Object.keys(n).filter((e=>e.startsWith(o.dataKey))).map((e=>e.substring(2))).forEach((e=>{let o=a[e.toLowerCase()];if(e.includes("_")){const r=e.split("_");o=a[r[0].toLowerCase()],void 0!==o&&t[o].constructor===Object&&(i[o]=s(r,1,t[o],n[`td${e}`]))}else void 0!==o&&(i[o]=n[`td${e}`])})),this._mergeOptions(i,t)}static normalizeObject(e){const t=(n,o,i,r)=>{const s=e(i)[n[o].toLowerCase()],a={};return void 0===s||(i[s].constructor===Object?(o++,a[s]=t(n,o,i[s],r)):a[s]=r),a};return t}static _dateTypeCheck(e,t){return w(e,t)}static _typeCheckDateArray(e,t,n,o){return x(e,t,n,o)}static _typeCheckNumberArray(e,t,n){return S(e,t,n)}static dateConversion(e,t,n){return C(e,t,n)}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const e=(t,n=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap((([t,o])=>e(o,[...n,t]))):n.join(".");return this._flattenDefaults=e(y),this._flattenDefaults}static _validateConflicts(e){!e.display.sideBySide||e.display.components.clock&&(e.display.components.hours||e.display.components.minutes||e.display.components.seconds)||o.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),e.restrictions.minDate&&e.restrictions.maxDate&&(e.restrictions.minDate.isAfter(e.restrictions.maxDate)&&o.errorMessages.conflictingConfiguration("minDate is after maxDate"),e.restrictions.maxDate.isBefore(e.restrictions.minDate)&&o.errorMessages.conflictingConfiguration("maxDate is before minDate")),e.multipleDates&&e.dateRange&&o.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}D.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],D.isValue=e=>null!=e;class ${constructor(){this._dates=[],this.optionsStore=u.locate(p),this.validation=u.locate(f),this._eventEmitters=u.locate(m)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(e){return e?(e.localization=this.optionsStore.options.localization,e.format()):""}parseInput(e){return D.dateConversion(e,"input",this.optionsStore.options.localization)}setFromInput(e,t){if(!e)return void this.setValue(void 0,t);const n=this.parseInput(e);n&&(n.setLocalization(this.optionsStore.options.localization),this.setValue(n,t))}add(e){this._dates.push(e)}isPicked(e,t){if(!c.isValid(e))return!1;if(!t)return void 0!==this._dates.find((t=>t.isSame(e)));const n=a(t),o=e.format(n);return void 0!==this._dates.map((e=>e.format(n))).find((e=>e===o))}pickedIndex(e,t){if(!c.isValid(e))return-1;if(!t)return this._dates.map((e=>e.valueOf())).indexOf(e.valueOf());const n=a(t),o=e.format(n);return this._dates.map((e=>e.format(n))).indexOf(o)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:o.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],
this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(e,t){const n=e/10,o=Math.floor(t/e)*e;return[o,o+9*n,Math.floor(t/n)*n]}updateInput(e){if(!this.optionsStore.input)return;let t=this.formatInput(e);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(t=this._dates.map((e=>this.formatInput(e))).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}setValue(t,n){const i=void 0===n,r=!t&&i;let s=this.optionsStore.unset?null:this._dates[n]?.clone;if(!s&&!this.optionsStore.unset&&i&&r&&(s=this.lastPicked),t&&s?.isSame(t))return void this.updateInput(t);if(!t)return void this._setValueNull(r,n,s);n=n||0,t=t.clone,1!==this.optionsStore.options.stepping&&(t.minutes=Math.round(t.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,t.startOf(e.Unit.minutes));const a=e=>{this._dates[n]=t,this._eventEmitters.updateViewDate.emit(t.clone),this.updateInput(t),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:o.events.change,date:t,oldDate:s,isClear:r,isValid:e})};this.validation.isValid(t)&&this.validation.dateRangeIsValid(this.picked,n,t)?a(!0):(this.optionsStore.options.keepInvalid&&a(!1),this._eventEmitters.triggerEvent.emit({type:o.events.error,reason:o.errorMessages.failedToSetInvalidDate,date:t,oldDate:s}))}_setValueNull(e,t,n){!this.optionsStore.options.multipleDates||1===this._dates.length||e?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(t,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:o.events.change,date:void 0,oldDate:n,isClear:e,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}var O;!function(e){e.next="next",e.previous="previous",e.changeCalendarView="changeCalendarView",e.selectMonth="selectMonth",e.selectYear="selectYear",e.selectDecade="selectDecade",e.selectDay="selectDay",e.selectHour="selectHour",e.selectMinute="selectMinute",e.selectSecond="selectSecond",e.incrementHours="incrementHours",e.incrementMinutes="incrementMinutes",e.incrementSeconds="incrementSeconds",e.decrementHours="decrementHours",e.decrementMinutes="decrementMinutes",e.decrementSeconds="decrementSeconds",e.toggleMeridiem="toggleMeridiem",e.togglePicker="togglePicker",e.showClock="showClock",e.showHours="showHours",e.showMinutes="showMinutes",e.showSeconds="showSeconds",e.clear="clear",e.close="close",e.today="today"}(O||(O={}));var N=O;class I{constructor(){this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");if(e.classList.add(o.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(o.css.calendarWeeks,o.css.noHighlight),e.appendChild(t)}const{rangeHoverEvent:t,rangeHoverOutEvent:n}=this.handleMouseEvents(e);for(let i=0;i<42;i++){if(0!==i&&i%7==0&&this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(o.css.calendarWeeks,o.css.noHighlight),e.appendChild(t)}const r=document.createElement("div");r.setAttribute("data-action",N.selectDay),e.appendChild(r),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(r.addEventListener("mouseover",t),r.addEventListener("mouseout",n))}return e}_update(t,n){const i=t.getElementsByClassName(o.css.daysContainer)[0];this._updateCalendarView(i);const r=this.optionsStore.viewDate.clone.startOf(e.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,e.Unit.hours);this._handleCalendarWeeks(i,r.clone),i.querySelectorAll(`[data-action="${N.selectDay}"]`).forEach((t=>{const i=[];i.push(o.css.day),r.isBefore(this.optionsStore.viewDate,e.Unit.month)&&i.push(o.css.old),r.isAfter(this.optionsStore.viewDate,e.Unit.month)&&i.push(o.css.new),this.optionsStore.unset||this.optionsStore.options.dateRange||!this.dates.isPicked(r,e.Unit.date)||i.push(o.css.active),this.validation.isValid(r,e.Unit.date)||i.push(o.css.disabled),r.isSame(new c,e.Unit.date)&&i.push(o.css.today),0!==r.weekDay&&6!==r.weekDay||i.push(o.css.weekend),this._handleDateRange(r,i),n(e.Unit.date,r,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",this._dateToDataValue(r)),t.setAttribute("data-day",`${r.date}`),t.innerText=r.parts(void 0,{day:"numeric"}).day,r.manipulate(1,e.Unit.date)}))}_dateToDataValue(e){return c.isValid(e)?`${e.year}-${e.monthFormatted}-${e.dateFormatted}`:""}_handleDateRange(t,n){const i=this.dates.picked[0],r=this.dates.picked[1];this.optionsStore.options.dateRange&&(t.isBetween(i,r,e.Unit.date)&&n.push(o.css.rangeIn),t.isSame(i,e.Unit.date)&&n.push(o.css.rangeStart),t.isSame(r,e.Unit.date)&&n.push(o.css.rangeEnd))}handleMouseEvents(t){return{rangeHoverEvent:n=>{const i=n?.currentTarget;if(1!==this.dates.picked.length||i.classList.contains(o.css.disabled))return;const r=[...t.querySelectorAll(".day")],s=i.getAttribute("data-value"),a=c.fromString(s,{format:"yyyy-MM-dd"}),l=r.findIndex((e=>e.getAttribute("data-value")===s)),d=this.dates.picked[0],u=this.dates.picked[1],h=this._dateToDataValue(d),p=r.findIndex((e=>e.getAttribute("data-value")===h)),f=r[p];let g;a.isSame(d,e.Unit.date)||i.classList.remove(o.css.rangeStart),a.isSame(u,e.Unit.date)||i.classList.remove(o.css.rangeEnd),a.isBefore(d)?(i.classList.add(o.css.rangeStart),f?.classList.remove(o.css.rangeStart),f?.classList.add(o.css.rangeEnd),g=(e,t)=>t>l&&t<p):(i.classList.add(o.css.rangeEnd),f?.classList.remove(o.css.rangeEnd),f?.classList.add(o.css.rangeStart),g=(e,t)=>t<l&&t>p),r.filter(g).forEach((e=>{e.classList.add(o.css.rangeIn)}))},rangeHoverOutEvent:n=>{const i=[...t.querySelectorAll(".day")];if(1===this.dates.picked.length&&i.forEach((e=>e.classList.remove(o.css.rangeIn))),1!==this.dates.picked.length)return;const r=n?.currentTarget,s=new c(r.getAttribute("data-value"));s.isSame(this.dates.picked[0],e.Unit.date)||r.classList.remove(o.css.rangeStart),s.isSame(this.dates.picked[1],e.Unit.date)||r.classList.remove(o.css.rangeEnd)}}}_updateCalendarView(t){if("calendar"!==this.optionsStore.currentView)return;const[n,i,r]=t.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");i.setAttribute(o.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?i.classList.remove(o.css.disabled):i.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.month),e.Unit.month)?n.classList.remove(o.css.disabled):n.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,e.Unit.month),e.Unit.month)?r.classList.remove(o.css.disabled):r.classList.add(o.css.disabled)}_daysOfTheWeek(){const t=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(e.Unit.date),n=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(o.css.calendarWeeks,o.css.noHighlight),e.innerText="#",n.push(e)}for(let i=0;i<7;i++){const i=document.createElement("div");i.classList.add(o.css.dayOfTheWeek,o.css.noHighlight);let r=t.format({weekday:"short"});this.optionsStore.options.localization.maxWeekdayLength>0&&(r=r.substring(0,this.optionsStore.options.localization.maxWeekdayLength)),i.innerText=r,t.manipulate(1,e.Unit.date),n.push(i)}return n}_handleCalendarWeeks(t,n){[...t.querySelectorAll(`.${o.css.calendarWeeks}`)].filter((e=>"#"!==e.innerText)).forEach((t=>{t.innerText=`${n.week}`,n.manipulate(7,e.Unit.date)}))}}class F{constructor(){this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.monthsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectMonth),e.appendChild(t)}return e}_update(t,n){const i=t.getElementsByClassName(o.css.monthsContainer)[0];if("months"===this.optionsStore.currentView){const[t,n,r]=i.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");n.setAttribute(o.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?n.classList.remove(o.css.disabled):n.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.year),e.Unit.year)?t.classList.remove(o.css.disabled):t.classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,e.Unit.year),e.Unit.year)?r.classList.remove(o.css.disabled):r.classList.add(o.css.disabled)}const r=this.optionsStore.viewDate.clone.startOf(e.Unit.year);i.querySelectorAll(`[data-action="${N.selectMonth}"]`).forEach(((t,i)=>{const s=[];s.push(o.css.month),!this.optionsStore.unset&&this.dates.isPicked(r,e.Unit.month)&&s.push(o.css.active),this.validation.isValid(r,e.Unit.month)||s.push(o.css.disabled),n(e.Unit.month,r,s,t),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${i}`),t.innerText=`${r.format({month:"short"})}`,r.manipulate(1,e.Unit.month)}))}}class P{constructor(){this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.yearsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectYear),e.appendChild(t)}return e}_update(t,n){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,e.Unit.year);const i=t.getElementsByClassName(o.css.yearsContainer)[0];if("years"===this.optionsStore.currentView){const[t,n,r]=i.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");n.setAttribute(o.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?n.classList.remove(o.css.disabled):n.classList.add(o.css.disabled),this.validation.isValid(this._startYear,e.Unit.year)?t.classList.remove(o.css.disabled):t.classList.add(o.css.disabled),this.validation.isValid(this._endYear,e.Unit.year)?r.classList.remove(o.css.disabled):r.classList.add(o.css.disabled)}const r=this.optionsStore.viewDate.clone.startOf(e.Unit.year).manipulate(-1,e.Unit.year);i.querySelectorAll(`[data-action="${N.selectYear}"]`).forEach((t=>{const i=[];i.push(o.css.year),!this.optionsStore.unset&&this.dates.isPicked(r,e.Unit.year)&&i.push(o.css.active),this.validation.isValid(r,e.Unit.year)||i.push(o.css.disabled),n(e.Unit.year,r,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${r.year}`),t.innerText=r.format({year:"numeric"}),r.manipulate(1,e.Unit.year)}))}}class B{constructor(){this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.decadesContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectDecade),e.appendChild(t)}return e}_update(t,n){const[i,r]=$.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(e.Unit.year),this._startDecade.year=i,this._endDecade=this.optionsStore.viewDate.clone.startOf(e.Unit.year),this._endDecade.year=r;const s=t.getElementsByClassName(o.css.decadesContainer)[0],[a,l,c]=s.parentElement.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");"decades"===this.optionsStore.currentView&&(l.setAttribute(o.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),this.validation.isValid(this._startDecade,e.Unit.year)?a.classList.remove(o.css.disabled):a.classList.add(o.css.disabled),this.validation.isValid(this._endDecade,e.Unit.year)?c.classList.remove(o.css.disabled):c.classList.add(o.css.disabled));const d=this.dates.picked.map((e=>e.year));s.querySelectorAll(`[data-action="${N.selectDecade}"]`).forEach(((t,i)=>{if(0===i)return t.classList.add(o.css.old),this._startDecade.year-10<0?(t.textContent=" ",a.classList.add(o.css.disabled),t.classList.add(o.css.disabled),void t.setAttribute("data-value","")):(t.innerText=this._startDecade.clone.manipulate(-10,e.Unit.year).format({year:"numeric"}),void t.setAttribute("data-value",`${this._startDecade.year}`));const r=[];r.push(o.css.decade);const s=this._startDecade.year,l=this._startDecade.year+9;!this.optionsStore.unset&&d.filter((e=>e>=s&&e<=l)).length>0&&r.push(o.css.active),n("decade",this._startDecade,r,t),t.classList.remove(...t.classList),t.classList.add(...r),t.setAttribute("data-value",`${this._startDecade.year}`),t.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,e.Unit.year)}))}}class H{constructor(){this._gridColumns="",this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f)}getPicker(e){const t=document.createElement("div");return t.classList.add(o.css.clockContainer),t.append(...this._grid(e)),t}_update(t){const n=t.getElementsByClassName(o.css.clockContainer)[0];let i=this.dates.lastPicked?.clone;if(!i&&this.optionsStore.options.useCurrent&&(i=this.optionsStore.viewDate.clone),n.querySelectorAll(".disabled").forEach((e=>e.classList.remove(o.css.disabled))),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,e.Unit.hours),e.Unit.hours)||n.querySelector(`[data-action=${N.incrementHours}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.hours),e.Unit.hours)||n.querySelector(`[data-action=${N.decrementHours}]`).classList.add(o.css.disabled),n.querySelector(`[data-time-component=${e.Unit.hours}]`).innerText=i?i.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,e.Unit.minutes),e.Unit.minutes)||n.querySelector(`[data-action=${N.incrementMinutes}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.minutes),e.Unit.minutes)||n.querySelector(`[data-action=${N.decrementMinutes}]`).classList.add(o.css.disabled),n.querySelector(`[data-time-component=${e.Unit.minutes}]`).innerText=i?i.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,e.Unit.seconds),e.Unit.seconds)||n.querySelector(`[data-action=${N.incrementSeconds}]`).classList.add(o.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,e.Unit.seconds),e.Unit.seconds)||n.querySelector(`[data-action=${N.decrementSeconds}]`).classList.add(o.css.disabled),n.querySelector(`[data-time-component=${e.Unit.seconds}]`).innerText=i?i.secondsFormatted:"--"),this.optionsStore.isTwelveHour){const t=n.querySelector(`[data-action=${N.toggleMeridiem}]`),r=(i||this.optionsStore.viewDate).clone;t.innerText=r.meridiem(),this.validation.isValid(r.manipulate(r.hours>=12?-12:12,e.Unit.hours))?t.classList.remove(o.css.disabled):t.classList.add(o.css.disabled)}n.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(t){this._gridColumns="";const n=[],i=[],r=[],s=document.createElement("div"),a=t(this.optionsStore.options.display.icons.up),l=t(this.optionsStore.options.display.icons.down);s.classList.add(o.css.separator,o.css.noHighlight);const c=s.cloneNode(!0);c.innerHTML=":";const d=(e=!1)=>e?c.cloneNode(!0):s.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementHour),t.setAttribute("data-action",N.incrementHours),t.appendChild(a.cloneNode(!0)),n.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.pickHour),t.setAttribute("data-action",N.showHours),t.setAttribute("data-time-component",e.Unit.hours),i.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.decrementHour),t.setAttribute("data-action",N.decrementHours),t.appendChild(l.cloneNode(!0)),r.push(t),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(n.push(d()),i.push(d(!0)),r.push(d()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementMinute),t.setAttribute("data-action",N.incrementMinutes),t.appendChild(a.cloneNode(!0)),n.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.pickMinute),t.setAttribute("data-action",N.showMinutes),t.setAttribute("data-time-component",e.Unit.minutes),i.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.decrementMinute),t.setAttribute("data-action",N.decrementMinutes),t.appendChild(l.cloneNode(!0)),r.push(t)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(n.push(d()),i.push(d(!0)),r.push(d()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementSecond),t.setAttribute("data-action",N.incrementSeconds),t.appendChild(a.cloneNode(!0)),n.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.pickSecond),t.setAttribute("data-action",N.showSeconds),t.setAttribute("data-time-component",e.Unit.seconds),i.push(t),t=document.createElement("div"),t.setAttribute("title",this.optionsStore.options.localization.decrementSecond),t.setAttribute("data-action",N.decrementSeconds),t.appendChild(l.cloneNode(!0)),r.push(t)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let e=d();n.push(e);const t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),t.setAttribute("data-action",N.toggleMeridiem),t.setAttribute("tabindex","-1"),o.css.toggleMeridiem.includes(",")?t.classList.add(...o.css.toggleMeridiem.split(",")):t.classList.add(o.css.toggleMeridiem),e=document.createElement("div"),e.classList.add(o.css.noHighlight),e.appendChild(t),i.push(e),e=d(),r.push(e)}return this._gridColumns=this._gridColumns.trim(),[...n,...i,...r]}}class z{constructor(){this.optionsStore=u.locate(p),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.hourContainer);for(let t=0;t<(this.optionsStore.isTwelveHour?12:24);t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectHour),e.appendChild(t)}return e}_update(t,n){const i=t.getElementsByClassName(o.css.hourContainer)[0],r=this.optionsStore.viewDate.clone.startOf(e.Unit.date);i.querySelectorAll(`[data-action="${N.selectHour}"]`).forEach((t=>{const i=[];i.push(o.css.hour),this.validation.isValid(r,e.Unit.hours)||i.push(o.css.disabled),n(e.Unit.hours,r,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${r.hours}`),t.innerText=r.getHoursFormatted(this.optionsStore.options.localization.hourCycle),r.manipulate(1,e.Unit.hours)}))}}class W{constructor(){this.optionsStore=u.locate(p),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.minuteContainer);const t=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let n=0;n<60/t;n++){const t=document.createElement("div");t.setAttribute("data-action",N.selectMinute),e.appendChild(t)}return e}_update(t,n){const i=t.getElementsByClassName(o.css.minuteContainer)[0],r=this.optionsStore.viewDate.clone.startOf(e.Unit.hours),s=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;i.querySelectorAll(`[data-action="${N.selectMinute}"]`).forEach((t=>{const i=[];i.push(o.css.minute),this.validation.isValid(r,e.Unit.minutes)||i.push(o.css.disabled),n(e.Unit.minutes,r,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${r.minutes}`),t.innerText=r.minutesFormatted,r.manipulate(s,e.Unit.minutes)}))}}class U{constructor(){this.optionsStore=u.locate(p),this.validation=u.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(o.css.secondContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",N.selectSecond),e.appendChild(t)}return e}_update(t,n){const i=t.getElementsByClassName(o.css.secondContainer)[0],r=this.optionsStore.viewDate.clone.startOf(e.Unit.minutes);i.querySelectorAll(`[data-action="${N.selectSecond}"]`).forEach((t=>{const i=[];i.push(o.css.second),this.validation.isValid(r,e.Unit.seconds)||i.push(o.css.disabled),n(e.Unit.seconds,r,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${r.seconds}`),t.innerText=r.secondsFormatted,r.manipulate(5,e.Unit.seconds)}))}}class j{static toggle(e){e.classList.contains(o.css.show)?this.hide(e):this.show(e)}static showImmediately(e){e.classList.remove(o.css.collapsing),e.classList.add(o.css.collapse,o.css.show),e.style.height=""}static show(e){e.classList.contains(o.css.collapsing)||e.classList.contains(o.css.show)||(e.style.height="0",e.classList.remove(o.css.collapse),e.classList.add(o.css.collapsing),setTimeout((()=>{j.showImmediately(e)}),this.getTransitionDurationFromElement(e)),e.style.height=`${e.scrollHeight}px`)}static hideImmediately(e){e&&(e.classList.remove(o.css.collapsing,o.css.show),e.classList.add(o.css.collapse))}static hide(e){!e.classList.contains(o.css.collapsing)&&e.classList.contains(o.css.show)&&(e.style.height=`${e.getBoundingClientRect().height}px`,e.offsetHeight,e.classList.remove(o.css.collapse,o.css.show),e.classList.add(o.css.collapsing),e.style.height="",setTimeout((()=>{j.hideImmediately(e)}),this.getTransitionDurationFromElement(e)))}}j.getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),i=Number.parseFloat(n);return o||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0};class V{constructor(){this._isVisible=!1,this._documentClickEvent=e=>{this.optionsStore.options.debug||window.debug||!this._isVisible||e.composedPath().includes(this.widget)||e.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=e=>{this._eventEmitters.action.emit({e:e})},this.optionsStore=u.locate(p),this.validation=u.locate(f),this.dates=u.locate($),this.dateDisplay=u.locate(I),this.monthDisplay=u.locate(F),this.yearDisplay=u.locate(P),this.decadeDisplay=u.locate(B),this.timeDisplay=u.locate(H),this.hourDisplay=u.locate(z),this.minuteDisplay=u.locate(W),this.secondDisplay=u.locate(U),this._eventEmitters=u.locate(m),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe((e=>{this._update(e)}))}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector(`div.${o.css.dateContainer}`)}get timeContainer(){return this.widget?.querySelector(`div.${o.css.timeContainer}`)}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case e.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case e.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case e.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case e.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case e.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case e.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(e.Unit.hours),this._update(e.Unit.minutes),this._update(e.Unit.seconds);break;case"calendar":this._update(e.Unit.date),this._update(e.Unit.year),this._update(e.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(e,t,n,o){}show(){if(null==this.widget){if(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const e=this.optionsStore.options?.container||document.body,t=this.optionsStore.options?.display?.placement||"bottom";e.appendChild(this.widget),this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?`${t}-end`:`${t}-start`}).then()}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:N.showClock}),this.widget.querySelectorAll("[data-action]").forEach((e=>e.addEventListener("click",this._actionsClickEvent))),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(o.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(o.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:o.events.show}),this._isVisible=!0}_showSetupViewMode(){const e=this._hasTime&&!this._hasDate;e?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:N.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),e||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?j.show(this.timeContainer):j.hideImmediately(this.timeContainer)),j.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const t=(new c).setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let n=0,o=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(t)&&(o=-1);!this.validation.isValid(t)&&n>31;)t.manipulate(o,e.Unit.date),n++}this.dates.setValue(t)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(e,t,n){let o;if(window?.Popper)o=window?.Popper?.createPopper;else{const{createPopper:e}=await import("@popperjs/core");o=e}o&&(this._popperInstance=o(e,t,n))}updatePopup(){this._popperInstance?.update()}_showMode(e){if(!this.widget)return;if(e){const t=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+e));if(this.optionsStore.currentCalendarViewMode==t)return;this.optionsStore.currentCalendarViewMode=t}this.widget.querySelectorAll(`.${o.css.dateContainer} > div:not(.${o.css.calendarHeader}), .${o.css.timeContainer} > div:not(.${o.css.clockContainer})`).forEach((e=>e.style.display="none"));const t=h[this.optionsStore.currentCalendarViewMode],n=this.widget.querySelector(`.${t.className}`);switch(t.className){case o.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case o.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case o.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case o.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}n.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll(`.${o.css.clockContainer}`)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}_updateTheme(e){if(this.widget){if(e){if(this.optionsStore.options.display.theme===e)return;this.optionsStore.options.display.theme=e}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(o.css.isDarkPreferredQuery).addEventListener("change",(()=>this._updateTheme())):window.matchMedia(o.css.isDarkPreferredQuery).removeEventListener("change",(()=>this._updateTheme()))}}_getThemeClass(){const e=this.optionsStore.options.display.theme||"auto",t=window.matchMedia&&window.matchMedia(o.css.isDarkPreferredQuery).matches;switch(e){case"light":return o.css.lightTheme;case"dark":return o.css.darkTheme;case"auto":return t?o.css.darkTheme:o.css.lightTheme}}_updateCalendarHeader(){if(!this._hasDate)return;const e=[...this.widget.querySelector(`.${o.css.dateContainer} div[style*="display: grid"]`).classList].find((e=>e.startsWith(o.css.dateContainer))),[t,n,i]=this.widget.getElementsByClassName(o.css.calendarHeader)[0].getElementsByTagName("div");switch(e){case o.css.decadesContainer:t.setAttribute("title",this.optionsStore.options.localization.previousCentury),n.setAttribute("title",""),i.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case o.css.yearsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousDecade),n.setAttribute("title",this.optionsStore.options.localization.selectDecade),i.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case o.css.monthsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousYear),n.setAttribute("title",this.optionsStore.options.localization.selectYear),i.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case o.css.daysContainer:t.setAttribute("title",this.optionsStore.options.localization.previousMonth),n.setAttribute("title",this.optionsStore.options.localization.selectMonth),i.setAttribute("title",this.optionsStore.options.localization.nextMonth),n.setAttribute(e,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}n.innerText=n.getAttribute(e)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(o.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:o.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach((e=>e.removeEventListener("click",this._actionsClickEvent))),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const e=document.createElement("div");e.classList.add(o.css.widget);const t=document.createElement("div");t.classList.add(o.css.dateContainer),t.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const n=document.createElement("div");n.classList.add(o.css.timeContainer),n.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),n.appendChild(this.hourDisplay.getPicker()),n.appendChild(this.minuteDisplay.getPicker()),n.appendChild(this.secondDisplay.getPicker());const i=document.createElement("div");if(i.classList.add(o.css.toolbar),i.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&e.classList.add(o.css.inline),
this.optionsStore.options.display.calendarWeeks&&e.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime)return void this._buildWidgetSideBySide(e,t,n,i);"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i);const r=(t,n,i,r)=>{t&&(n&&(i.classList.add(o.css.collapse),r&&i.classList.add(o.css.show)),e.appendChild(i))};r(this._hasDate,this._hasTime,t,"clock"!==this.optionsStore.options.display.viewMode),r(this._hasTime,this._hasDate,n,"clock"===this.optionsStore.options.display.viewMode),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i);const s=document.createElement("div");s.classList.add("arrow"),s.setAttribute("data-popper-arrow",""),e.appendChild(s),this._widget=e}_buildWidgetSideBySide(e,t,n,i){e.classList.add(o.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i);const r=document.createElement("div");r.classList.add("td-row"),t.classList.add("td-half"),n.classList.add("td-half"),r.appendChild(t),r.appendChild(n),e.appendChild(r),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(i),this._widget=e}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){const e=[];if(this.optionsStore.options.display.buttons.today){const t=document.createElement("div");t.setAttribute("data-action",N.today),t.setAttribute("title",this.optionsStore.options.localization.today),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),e.push(t)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,n;"clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,n=this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,n=this.optionsStore.options.display.icons.time);const o=document.createElement("div");o.setAttribute("data-action",N.togglePicker),o.setAttribute("title",t),o.appendChild(this._iconTag(n)),e.push(o)}if(this.optionsStore.options.display.buttons.clear){const t=document.createElement("div");t.setAttribute("data-action",N.clear),t.setAttribute("title",this.optionsStore.options.localization.clear),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),e.push(t)}if(this.optionsStore.options.display.buttons.close){const t=document.createElement("div");t.setAttribute("data-action",N.close),t.setAttribute("title",this.optionsStore.options.localization.close),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),e.push(t)}return e}getHeadTemplate(){const e=document.createElement("div");e.classList.add(o.css.calendarHeader);const t=document.createElement("div");t.classList.add(o.css.previous),t.setAttribute("data-action",N.previous),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous));const n=document.createElement("div");n.classList.add(o.css.switch),n.setAttribute("data-action",N.changeCalendarView);const i=document.createElement("div");return i.classList.add(o.css.next),i.setAttribute("data-action",N.next),i.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),e.append(t,n,i),e}_iconTag(e){if("sprites"===this.optionsStore.options.display.icons.type){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttribute("xlink:href",e),n.setAttribute("href",e),t.appendChild(n),t}const t=document.createElement("i");return t.classList.add(...e.split(" ")),t}_rebuild(){const e=this._isVisible;this._dispose(),e&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(e.Unit.date);break;case"months":this._update(e.Unit.month);break;case"years":this._update(e.Unit.year);break;case"decades":this._update("decade")}}}class q{constructor(){this.optionsStore=u.locate(p),this.dates=u.locate($),this.validation=u.locate(f),this.display=u.locate(V),this._eventEmitters=u.locate(m),this._eventEmitters.action.subscribe((e=>{this.do(e.e,e.action)}))}do(t,n){const i=t?.currentTarget;if(i?.classList?.contains(o.css.disabled))return;n=n||i?.dataset?.action;const r=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(n){case N.next:case N.previous:this.handleNextPrevious(n);break;case N.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case N.selectMonth:case N.selectYear:case N.selectDecade:this.handleSelectCalendarMode(n,i);break;case N.selectDay:this.handleSelectDay(i);break;case N.selectHour:{let e=+i.dataset.value;r.hours>=12&&this.optionsStore.isTwelveHour&&(e+=12),r.hours=e,this.dates.setValue(r,this.dates.lastPickedIndex),this.hideOrClock(t);break}case N.selectMinute:r.minutes=+i.dataset.value,this.dates.setValue(r,this.dates.lastPickedIndex),this.hideOrClock(t);break;case N.selectSecond:r.seconds=+i.dataset.value,this.dates.setValue(r,this.dates.lastPickedIndex),this.hideOrClock(t);break;case N.incrementHours:this.manipulateAndSet(r,e.Unit.hours);break;case N.incrementMinutes:this.manipulateAndSet(r,e.Unit.minutes,this.optionsStore.options.stepping);break;case N.incrementSeconds:this.manipulateAndSet(r,e.Unit.seconds);break;case N.decrementHours:this.manipulateAndSet(r,e.Unit.hours,-1);break;case N.decrementMinutes:this.manipulateAndSet(r,e.Unit.minutes,-1*this.optionsStore.options.stepping);break;case N.decrementSeconds:this.manipulateAndSet(r,e.Unit.seconds,-1);break;case N.toggleMeridiem:this.manipulateAndSet(r,e.Unit.hours,this.dates.lastPicked.hours>=12?-12:12);break;case N.togglePicker:this.handleToggle(i);break;case N.showClock:case N.showHours:case N.showMinutes:case N.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(j.hideImmediately(this.display.dateContainer),j.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(n);break;case N.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case N.close:this.display.hide();break;case N.today:{const t=(new c).setLocalization(this.optionsStore.options.localization);this._eventEmitters.updateViewDate.emit(t),this.validation.isValid(t,e.Unit.date)&&this.dates.setValue(t,this.dates.lastPickedIndex);break}}}handleShowClockContainers(t){if(!this.display._hasTime)return void o.errorMessages.throwError("Cannot show clock containers when time is disabled.");this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${o.css.timeContainer} > div`).forEach((e=>e.style.display="none"));let n="";switch(t){case N.showClock:n=o.css.clockContainer,this.display._update("clock");break;case N.showHours:n=o.css.hourContainer,this.display._update(e.Unit.hours);break;case N.showMinutes:n=o.css.minuteContainer,this.display._update(e.Unit.minutes);break;case N.showSeconds:n=o.css.secondContainer,this.display._update(e.Unit.seconds)}this.display.widget.getElementsByClassName(n)[0].style.display="grid"}handleNextPrevious(e){const{unit:t,step:n}=h[this.optionsStore.currentCalendarViewMode];e===N.next?this.optionsStore.viewDate.manipulate(n,t):this.optionsStore.viewDate.manipulate(-1*n,t),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(e){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(e,N.showClock):this.display.hide()}manipulateAndSet(e,t,n=1){const o=e.manipulate(n,t);this.validation.isValid(o,t)&&this.dates.setValue(o,this.dates.lastPickedIndex)}handleSelectCalendarMode(e,t){const n=+t.dataset.value;switch(e){case N.selectMonth:this.optionsStore.viewDate.month=n;break;case N.selectYear:case N.selectDecade:this.optionsStore.viewDate.year=n}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(e){e.getAttribute("title")===this.optionsStore.options.localization.selectDate?(e.setAttribute("title",this.optionsStore.options.localization.selectTime),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(e.setAttribute("title",this.optionsStore.options.localization.selectDate),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(N.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${o.css.dateContainer}, .${o.css.timeContainer}`).forEach((e=>j.toggle(e))),this._eventEmitters.viewUpdate.emit()}handleSelectDay(t){const n=this.optionsStore.viewDate.clone;t.classList.contains(o.css.old)&&n.manipulate(-1,e.Unit.month),t.classList.contains(o.css.new)&&n.manipulate(1,e.Unit.month),n.date=+t.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(n):this.optionsStore.options.multipleDates?this.handleMultiDate(n):this.dates.setValue(n,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange||this.display.hide()}handleMultiDate(t){let n=this.dates.pickedIndex(t,e.Unit.date);console.log(n),-1!==n?this.dates.setValue(null,n):(n=this.dates.lastPickedIndex+1,0===this.dates.picked.length&&(n=0),this.dates.setValue(t,n))}handleDateRange(e){switch(this.dates.picked.length){case 2:this.dates.clear();break;case 1:{const t=this.dates.picked[0];if(e.getTime()===t.getTime()){this.dates.clear();break}return e.isBefore(t)?(this.dates.setValue(e,0),void this.dates.setValue(t,1)):void this.dates.setValue(e,1)}}this.dates.setValue(e,0)}}class K{constructor(e,t={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=e=>{const t=e?.detail;if(t)return;const n=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},o=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)try{const e=o.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<e.length;t++)this.dates.setFromInput(e[t],t);n()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(o,0),n()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||"INPUT"===this._toggle.nodeName&&"text"===this._toggle?.type&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},u=new d,this._eventEmitters=u.locate(m),this.optionsStore=u.locate(p),this.display=u.locate(V),this.dates=u.locate($),this.actions=u.locate(q),e||o.errorMessages.mustProvideElement(),this.optionsStore.element=e,this._initializeOptions(t,y,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe((e=>{this._triggerEvent(e)})),this._eventEmitters.viewUpdate.subscribe((()=>{this._viewUpdate()})),this._eventEmitters.updateViewDate.subscribe((e=>{this.viewDate=e}))}get viewDate(){return this.optionsStore.viewDate}set viewDate(e){this.optionsStore.viewDate=e,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(e,t=!1){t?this._initializeOptions(e,y):this._initializeOptions(e,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){let n;"string"==typeof e&&(e=[e]),n=Array.isArray(t)?t:[t],e.length!==n.length&&o.errorMessages.subscribeMismatch();const i=[];for(let t=0;t<e.length;t++){const o=e[t];if(Array.isArray(this._subscribers[o])||(this._subscribers[o]=[]),this._subscribers[o].push(n[t]),i.push({unsubscribe:this._unsubscribe.bind(this,o,this._subscribers[o].length-1)}),1===e.length)return i[0]}return i}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this._toggle?.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(e){const t=G[e];t&&this.updateOptions({localization:t})}_triggerEvent(e){e.viewMode=this.optionsStore.currentView;const t=e.type===o.events.change;if(t){const{date:t,oldDate:n,isClear:o}=e;if(t&&n&&t.isSame(n)||!o&&!t&&!n)return;this._handleAfterChangeEvent(e),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:e}))}if(this.optionsStore.element.dispatchEvent(new CustomEvent(e.type,{detail:e})),window.jQuery){const n=window.jQuery;t&&this.optionsStore.input?n(this.optionsStore.input).trigger(e):n(this.optionsStore.element).trigger(e)}this._publish(e)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach((t=>{t(e)}))}_viewUpdate(){this._triggerEvent({type:o.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(e,t){this._subscribers[e].splice(t,1)}_initializeOptions(e,t,n=!1){let o=D.deepCopy(e);o=D._mergeOptions(o,t),n&&(o=D._dataToOptions(this.optionsStore.element,o)),D._validateConflicts(o),o.viewDate=o.viewDate.setLocalization(o.localization),this.optionsStore.viewDate.isSame(o.viewDate)||(this.optionsStore.viewDate=o.viewDate),o.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),o.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),o.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),h[this.optionsStore.currentCalendarViewMode].name!==o.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(h.findIndex((e=>e.name===o.display.viewMode)),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),o.display.components.useTwentyfourHour&&void 0===o.localization.hourCycle?o.localization.hourCycle="h24":void 0===o.localization.hourCycle&&(o.localization.hourCycle=l(o.localization.locale)),this.optionsStore.options=o,o.restrictions.maxDate&&this.viewDate.isAfter(o.restrictions.maxDate)&&(this.viewDate=o.restrictions.maxDate),o.restrictions.minDate&&this.viewDate.isBefore(o.restrictions.minDate)&&(this.viewDate=o.restrictions.minDate)}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{const e=this.optionsStore.element.dataset.tdTargetInput;this.optionsStore.input=null==e||"nearest"==e?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(e)}this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let e=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==e&&(e='[data-td-toggle="datetimepicker"]'),this._toggle=null==e?this.optionsStore.element:this.optionsStore.element.querySelector(e),this._toggle.addEventListener("click",this._toggleClickEvent)}_handleAfterChangeEvent(e){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(o.css.show)[0].classList.contains(o.css.timeContainer)||!e.oldDate&&this.optionsStore.options.useCurrent||e.oldDate&&e.date?.isSame(e.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout((()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:N.togglePicker})}),this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}const G={},Y=e=>{G[e.name]||(G[e.name]=e.localization)},X=e=>{const t=G[e];t&&(y.localization=t)},Q=function(e,t){return e?(e.installed||(e(t,{TempusDominus:K,Dates:$,Display:V,DateTime:c,Namespace:o},J),e.installed=!0),J):J},Z="6.7.19",J={TempusDominus:K,extend:Q,loadLocale:Y,locale:X,Namespace:o,DefaultOptions:y,DateTime:c,Unit:e.Unit,version:Z,DefaultEnLocalization:b};e.DateTime=c,e.DefaultEnLocalization=b,e.DefaultOptions=y,e.Namespace=o,e.TempusDominus=K,e.extend=Q,e.loadLocale=Y,e.locale=X,e.version=Z,Object.defineProperty(e,"__esModule",{value:!0})})),
/*!
  * Tempus Dominus v6.7.19 (https://getdatepicker.com/)
  * Copyright 2013-2023 Jonathan Peterson
  * Licensed under MIT (https://github.com/Eonasdan/tempus-dominus/blob/master/LICENSE)
  */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).tempusDominus=e.tempusDominus||{},e.tempusDominus.plugins=e.tempusDominus.plugins||{},e.tempusDominus.plugins.moment_parse=t())}(this,(function(){"use strict";return(e,t,n)=>{t.Dates.prototype.setFromInput=function(t,o){const i=moment(t,e);if(i.isValid()){const e=n.DateTime.convert(i.toDate(),this.optionsStore.options.localization.locale);this.setValue(e,o)}else console.warn("Momentjs failed to parse the input date.")},t.Dates.prototype.formatInput=function(t){return moment(t).format(e)}}})),
/*!
 * Tempus Dominus v6.7.19 (https://getdatepicker.com/)
 * Copyright 2013-2021 Jonathan Peterson
 * Licensed under MIT (https://github.com/Eonasdan/tempus-dominus/blob/master/LICENSE)
 */
tempusDominus.jQueryInterface=function(e,t){return 1===this.length?tempusDominus.jQueryHandleThis(this,e,t):this.each((function(){tempusDominus.jQueryHandleThis(this,e,t)}))},tempusDominus.jQueryHandleThis=function(e,t,n){let o=$(e).data(tempusDominus.Namespace.dataKey);if("object"==typeof t&&(t=$.extend({},tempusDominus.DefaultOptions,t)),o||(o=new tempusDominus.TempusDominus($(e)[0],t),$(e).data(tempusDominus.Namespace.dataKey,o)),"string"==typeof t){if(void 0===o[t])throw new Error(`No method named "${t}"`);if(void 0===n)return o[t]();{"date"===t&&(o.isDateUpdateThroughDateOptionFromClientCode=!0);const e=o[t](n);return o.isDateUpdateThroughDateOptionFromClientCode=!1,e}}},tempusDominus.getSelectorFromElement=function(e){let t,n=e.data("target");return n||(n=e.attr("href")||"",n=/^#[a-z]/i.test(n)?n:null),t=$(n),0===t.length?e:(t.data(tempusDominus.Namespace.dataKey)||$.extend({},t.data(),$(this).data()),t)},$(document).on(`click${tempusDominus.Namespace.events.key}.data-api`,`[data-toggle="${tempusDominus.Namespace.dataKey}"]`,(function(){const e=$(this),t=tempusDominus.getSelectorFromElement(e),n=t.data(tempusDominus.Namespace.dataKey);0!==t.length&&(n._options.allowInputToggle&&e.is('input[data-toggle="datetimepicker"]')||tempusDominus.jQueryInterface.call(t,"toggle"))})).on(tempusDominus.Namespace.events.change,`.${tempusDominus.Namespace.NAME}-input`,(function(e){const t=tempusDominus.getSelectorFromElement($(this));0===t.length||e.isInit||tempusDominus.jQueryInterface.call(t,"_change",e)})).on(tempusDominus.Namespace.events.blur,`.${tempusDominus.Namespace.NAME}-input`,(function(e){const t=tempusDominus.getSelectorFromElement($(this)),n=t.data(tempusDominus.Namespace.dataKey);0!==t.length&&(n._options.debug||window.debug||tempusDominus.jQueryInterface.call(t,"hide",e))})).on(tempusDominus.Namespace.events.focus,`.${tempusDominus.Namespace.NAME}-input`,(function(e){const t=tempusDominus.getSelectorFromElement($(this)),n=t.data(tempusDominus.Namespace.dataKey);0!==t.length&&n._options.allowInputToggle&&tempusDominus.jQueryInterface.call(t,"show",e)}));const e="tempusDominus",t=$.fn[e];$.fn[e]=tempusDominus.jQueryInterface,$.fn[e].Constructor=tempusDominus.TempusDominus,$.fn[e].noConflict=function(){return $.fn[e]=t,tempusDominus.jQueryInterface},function($){"use strict";var e={tagClass:function(e){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(e){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function t(e,t){this.isInit=!0,this.itemsArray=[],this.$element=$(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=t&&t.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=$('<div class="bootstrap-tagsinput"></div>'),this.$input=$('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(t),this.isInit=!1}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function o(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}t.prototype={constructor:t,add:function(e,t,n){var o=this;if(!(o.options.maxTags&&o.itemsArray.length>=o.options.maxTags)&&(!1===e||e)){if("string"==typeof e&&o.options.trimValue&&(e=$.trim(e)),"object"==typeof e&&!o.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(o.isSelect&&!o.multiple&&o.itemsArray.length>0&&o.remove(o.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var i=o.options.delimiterRegex?o.options.delimiterRegex:o.options.delimiter,s=e.split(i);if(s.length>1){for(var a=0;a<s.length;a++)this.add(s[a],!0);return void(t||o.pushVal(o.options.triggerChange))}}var l=o.options.itemValue(e),c=o.options.itemText(e),d=o.options.tagClass(e),u=o.options.itemTitle(e),h=$.grep(o.itemsArray,(function(e){return o.options.itemValue(e)===l}))[0];if(!h||o.options.allowDuplicates){if(!(o.items().toString().length+e.length+1>o.options.maxInputLength)){var p=$.Event("beforeItemAdd",{item:e,cancel:!1,options:n});if(o.$element.trigger(p),!p.cancel){o.itemsArray.push(e);var f=$('<span class="tag '+r(d)+(null!==u?'" title="'+r(u):"")+'">'+r(c)+'<span data-role="remove"></span></span>');f.data("item",e),o.findInputWrapper().before(f),f.after(" ");var g=$('option[value="'+encodeURIComponent(l)+'"]',o.$element).length||$('option[value="'+r(l)+'"]',o.$element).length;if(o.isSelect&&!g){var m=$("<option selected>"+r(c)+"</option>");m.data("item",e),m.attr("value",l),o.$element.append(m)}t||o.pushVal(o.options.triggerChange),o.options.maxTags!==o.itemsArray.length&&o.items().toString().length!==o.options.maxInputLength||o.$container.addClass("bootstrap-tagsinput-max"),$(".typeahead, .twitter-typeahead",o.$container).length&&o.$input.typeahead("val",""),this.isInit?o.$element.trigger($.Event("itemAddedOnInit",{item:e,options:n})):o.$element.trigger($.Event("itemAdded",{item:e,options:n}))}}}else if(o.options.onTagExists){var v=$(".tag",o.$container).filter((function(){return $(this).data("item")===h}));o.options.onTagExists(e,v)}}}},remove:function(e,t,n){var o=this;if(o.objectItems&&(e=(e="object"==typeof e?$.grep(o.itemsArray,(function(t){return o.options.itemValue(t)==o.options.itemValue(e)})):$.grep(o.itemsArray,(function(t){return o.options.itemValue(t)==e})))[e.length-1]),e){var i=$.Event("beforeItemRemove",{item:e,cancel:!1,options:n});if(o.$element.trigger(i),i.cancel)return;$(".tag",o.$container).filter((function(){return $(this).data("item")===e})).remove(),$("option",o.$element).filter((function(){return $(this).data("item")===e})).remove(),-1!==$.inArray(e,o.itemsArray)&&o.itemsArray.splice($.inArray(e,o.itemsArray),1)}t||o.pushVal(o.options.triggerChange),o.options.maxTags>o.itemsArray.length&&o.$container.removeClass("bootstrap-tagsinput-max"),o.$element.trigger($.Event("itemRemoved",{item:e,options:n}))},removeAll:function(){var e=this;for($(".tag",e.$container).remove(),$("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(e.options.triggerChange)},refresh:function(){var e=this;$(".tag",e.$container).each((function(){var t=$(this),n=t.data("item"),o=e.options.itemValue(n),i=e.options.itemText(n),s=e.options.tagClass(n);(t.attr("class",null),t.addClass("tag "+r(s)),t.contents().filter((function(){return 3==this.nodeType}))[0].nodeValue=r(i),e.isSelect)&&$("option",e.$element).filter((function(){return $(this).data("item")===n})).attr("value",o)}))},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=$.map(e.items(),(function(t){return e.options.itemValue(t).toString()}));e.$element.val(t,!0),e.options.triggerChange&&e.$element.trigger("change")},build:function(t){var i=this;if(i.options=$.extend({},e,t),i.objectItems&&(i.options.freeInput=!1),n(i.options,"itemValue"),n(i.options,"itemText"),o(i.options,"tagClass"),i.options.typeahead){var r=i.options.typeahead||{};o(r,"source"),i.$input.typeahead($.extend({},r,{source:function(e,t){function n(e){for(var n=[],r=0;r<e.length;r++){var s=i.options.itemText(e[r]);o[s]=e[r],n.push(s)}t(n)}this.map={};var o=this.map,s=r.source(e);$.isFunction(s.success)?s.success(n):$.isFunction(s.then)?s.then(n):$.when(s).then(n)},updater:function(e){return i.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(i.options.typeaheadjs){var a=i.options.typeaheadjs;$.isArray(a)||(a=[null,a]),$.fn.typeahead.apply(i.$input,a).on("typeahead:selected",$.proxy((function(e,t,n){var o=0;a.some((function(e,t){return e.name===n&&(o=t,!0)})),a[o].valueKey?i.add(t[a[o].valueKey]):i.add(t),i.$input.typeahead("val","")}),i))}i.$container.on("click",$.proxy((function(e){i.$element.attr("disabled")||i.$input.removeAttr("disabled"),i.$input.focus()}),i)),i.options.addOnBlur&&i.options.freeInput&&i.$input.on("focusout",$.proxy((function(e){0===$(".typeahead, .twitter-typeahead",i.$container).length&&(i.add(i.$input.val()),i.$input.val(""))}),i)),i.$container.on({focusin:function(){i.$container.addClass(i.options.focusClass)},focusout:function(){i.$container.removeClass(i.options.focusClass)}}),i.$container.on("keydown","input",$.proxy((function(e){var t=$(e.target),n=i.findInputWrapper();if(i.$element.attr("disabled"))i.$input.attr("disabled","disabled");else{switch(e.which){case 8:if(0===s(t[0])){var o=n.prev();o.length&&i.remove(o.data("item"))}break;case 46:if(0===s(t[0])){var r=n.next();r.length&&i.remove(r.data("item"))}break;case 37:var a=n.prev();0===t.val().length&&a[0]&&(a.before(n),t.focus());break;case 39:var l=n.next();0===t.val().length&&l[0]&&(l.after(n),t.focus())}var c=t.val().length;Math.ceil(c/5);t.attr("size",Math.max(this.inputSize,t.val().length))}}),i)),i.$container.on("keypress","input",$.proxy((function(e){var t=$(e.target);if(i.$element.attr("disabled"))i.$input.attr("disabled","disabled");else{var n,o,r,s=t.val(),a=i.options.maxChars&&s.length>=i.options.maxChars;i.options.freeInput&&(n=e,o=i.options.confirmKeys,r=!1,$.each(o,(function(e,t){if("number"==typeof t&&n.which===t)return r=!0,!1;if(n.which===t.which){var o=!t.hasOwnProperty("altKey")||n.altKey===t.altKey,i=!t.hasOwnProperty("shiftKey")||n.shiftKey===t.shiftKey,s=!t.hasOwnProperty("ctrlKey")||n.ctrlKey===t.ctrlKey;if(o&&i&&s)return r=!0,!1}})),r||a)&&(0!==s.length&&(i.add(a?s.substr(0,i.options.maxChars):s),t.val("")),!1===i.options.cancelConfirmKeysOnEmpty&&e.preventDefault());var l=t.val().length;Math.ceil(l/5);t.attr("size",Math.max(this.inputSize,t.val().length))}}),i)),i.$container.on("click","[data-role=remove]",$.proxy((function(e){i.$element.attr("disabled")||i.remove($(e.target).closest(".tag").data("item"))}),i)),i.options.itemValue===e.itemValue&&("INPUT"===i.$element[0].tagName?i.add(i.$element.val()):$("option",i.$element).each((function(){i.add($(this).attr("value"),!0)})))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],t=this.$container[0];e&&e.parentNode!==t;)e=e.parentNode;return $(e)}},$.fn.tagsinput=function(e,n,o){var i=[];return this.each((function(){var r=$(this).data("tagsinput");if(r)if(e||n){if(void 0!==r[e]){if(3===r[e].length&&void 0!==o)var s=r[e](n,null,o);else s=r[e](n);void 0!==s&&i.push(s)}}else i.push(r);else r=new t(this,e),$(this).data("tagsinput",r),i.push(r),"SELECT"===this.tagName&&$("option",$(this)).attr("selected","selected"),$(this).val($(this).val())})),"string"==typeof e?i.length>1?i:i[0]:i},$.fn.tagsinput.Constructor=t;var i=$("<div />");function r(e){return e?i.text(e).html():""}function s(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}$((function(){$("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()}))}(window.jQuery),
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */
function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,(function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return S}});var o=n(279),i=n.n(o),r=n(370),s=n.n(r),a=n(817),l=n.n(a);function c(e){try{return document.execCommand(e)}catch(e){return!1}}var d=function(e){var t=l()(e);return c("cut"),t};var u=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(o,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var o=l()(n);return c("copy"),n.remove(),o},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=u(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=u(e.value,t):(n=l()(e),c("copy")),n};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,o=e.container,i=e.target,r=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==p(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return r?h(r,{container:o}):i?"cut"===n?d(i):h(i,{container:o}):void 0};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function C(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,e);var t,n,o,i=y(r);function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=i.call(this)).resolveOptions(t),n.listenClick(e),n}return t=r,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===g(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=s()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",o=f({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(o?"success":"error",{action:n,text:o,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return C("action",e)}},{key:"defaultTarget",value:function(e){var t=C("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return C("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],o=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return d(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&m(t.prototype,n),o&&m(t,o),r}(i()),S=x},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var o=n(828);function i(e,t,n,o,i){var s=r.apply(this,arguments);return e.addEventListener(n,s,i),{destroy:function(){e.removeEventListener(n,s,i)}}}function r(e,t,n,i){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,o,r){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,o,r)})))}},879:function(e,exports){exports.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},exports.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||exports.node(e[0]))},exports.string=function(e){return"string"==typeof e||e instanceof String},exports.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var o=n(879),i=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(o.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(o.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,s=o.length;r<s;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(exports,e){for(var t in e)n.o(e,t)&&!n.o(exports,t)&&Object.defineProperty(exports,t,{enumerable:!0,get:e[t]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default})),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(function(){return function(){var e={3099:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:function(e,t,n){var o=n(111);e.exports=function(e){if(!o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:function(e,t,n){var o=n(5112),i=n(30),r=n(3070),s=o("unscopables"),a=Array.prototype;null==a[s]&&r.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},1530:function(e,t,n){"use strict";var o=n(8710).charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},5787:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:function(e,t,n){var o=n(111);e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var o,i=n(4019),r=n(9781),s=n(7854),a=n(111),l=n(6656),c=n(648),d=n(8880),u=n(1320),h=n(3070).f,p=n(9518),f=n(7674),g=n(5112),m=n(9711),v=s.Int8Array,y=v&&v.prototype,b=s.Uint8ClampedArray,w=b&&b.prototype,C=v&&p(v),x=y&&p(y),S=Object.prototype,_=S.isPrototypeOf,k=g("toStringTag"),E=m("TYPED_ARRAY_TAG"),A=i&&!!f&&"Opera"!==c(s.opera),T=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8},M=function(e){if(!a(e))return!1;var t=c(e);return l(L,t)||l(R,t)};for(o in L)s[o]||(A=!1);if((!A||"function"!=typeof C||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},A))for(o in L)s[o]&&f(s[o],C);if((!A||!x||x===S)&&(x=C.prototype,A))for(o in L)s[o]&&f(s[o].prototype,x);if(A&&p(w)!==x&&f(w,x),r&&!l(x,k))for(o in T=!0,h(x,k,{get:function(){return a(this)?this[E]:void 0}}),L)s[o]&&d(s[o],E,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:T&&E,aTypedArray:function(e){if(M(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(_.call(C,e))return e}else for(var t in L)if(l(L,o)){var n=s[t];if(n&&(e===n||_.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(r){if(n)for(var o in L){var i=s[o];i&&l(i.prototype,e)&&delete i.prototype[e]}x[e]&&!n||u(x,e,n?t:A&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var o,i;if(r){if(f){if(n)for(o in L)(i=s[o])&&l(i,e)&&delete i[e];if(C[e]&&!n)return;try{return u(C,e,n?t:A&&v[e]||t)}catch(e){}}for(o in L)!(i=s[o])||i[e]&&!n||u(i,e,t)}},isView:function(e){if(!a(e))return!1;var t=c(e);return"DataView"===t||l(L,t)||l(R,t)},isTypedArray:M,TypedArray:C,TypedArrayPrototype:x}},3331:function(e,t,n){"use strict";var o=n(7854),i=n(9781),r=n(4019),s=n(8880),a=n(2248),l=n(7293),c=n(5787),d=n(9958),u=n(7466),h=n(7067),p=n(1179),f=n(9518),g=n(7674),m=n(8006).f,v=n(3070).f,y=n(1285),b=n(8003),w=n(9909),C=w.get,x=w.set,S="ArrayBuffer",_="DataView",k="Wrong index",E=o.ArrayBuffer,A=E,T=o.DataView,L=T&&T.prototype,R=Object.prototype,M=o.RangeError,D=p.pack,O=p.unpack,N=function(e){return[255&e]},I=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},P=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return D(e,23,4)},H=function(e){return D(e,52,8)},z=function(e,t){v(e.prototype,t,{get:function(){return C(this)[t]}})},W=function(e,t,n,o){var i=h(n),r=C(e);if(i+t>r.byteLength)throw M(k);var s=C(r.buffer).bytes,a=i+r.byteOffset,l=s.slice(a,a+t);return o?l:l.reverse()},U=function(e,t,n,o,i,r){var s=h(n),a=C(e);if(s+t>a.byteLength)throw M(k);for(var l=C(a.buffer).bytes,c=s+a.byteOffset,d=o(+i),u=0;u<t;u++)l[c+u]=d[r?u:t-u-1]};if(r){if(!l((function(){E(1)}))||!l((function(){new E(-1)}))||l((function(){return new E,new E(1.5),new E(NaN),E.name!=S}))){for(var j,V=(A=function(e){return c(this,A),new E(h(e))}).prototype=E.prototype,q=m(E),K=0;q.length>K;)(j=q[K++])in A||s(A,j,E[j]);V.constructor=A}g&&f(L)!==R&&g(L,R);var G=new T(new A(2)),Y=L.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||a(L,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){c(this,A,S);var t=h(e);x(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},T=function(e,t,n){c(this,T,_),c(e,A,_);var o=C(e).byteLength,r=d(t);if(r<0||r>o)throw M("Wrong offset");if(r+(n=void 0===n?o-r:u(n))>o)throw M("Wrong length");x(this,{buffer:e,byteLength:n,byteOffset:r}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},i&&(z(A,"byteLength"),z(T,"buffer"),z(T,"byteLength"),z(T,"byteOffset")),a(T.prototype,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return P(W(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return P(W(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(W(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(W(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){U(this,1,e,N,t)},setUint8:function(e,t){U(this,1,e,N,t)},setInt16:function(e,t){U(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){U(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){U(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){U(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){U(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){U(this,8,e,H,t,arguments.length>2?arguments[2]:void 0)}});b(A,S),b(T,_),e.exports={ArrayBuffer:A,DataView:T}},1048:function(e,t,n){"use strict";var o=n(7908),i=n(1400),r=n(7466),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=o(this),a=r(n.length),l=i(e,a),c=i(t,a),d=arguments.length>2?arguments[2]:void 0,u=s((void 0===d?a:i(d,a))-c,a-l),h=1;for(c<l&&l<c+u&&(h=-1,c+=u-1,l+=u-1);u-- >0;)c in n?n[l]=n[c]:delete n[l],l+=h,c+=h;return n}},1285:function(e,t,n){"use strict";var o=n(7908),i=n(1400),r=n(7466);e.exports=function(e){for(var t=o(this),n=r(t.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},8533:function(e,t,n){"use strict";var o=n(2092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},8457:function(e,t,n){"use strict";var o=n(9974),i=n(7908),r=n(3411),s=n(7659),a=n(7466),l=n(6135),c=n(1246);e.exports=function(e){var t,n,d,u,h,p,f=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=c(f),w=0;if(y&&(v=o(v,m>2?arguments[2]:void 0,2)),null==b||g==Array&&s(b))for(n=new g(t=a(f.length));t>w;w++)p=y?v(f[w],w):f[w],l(n,w,p);else for(h=(u=b.call(f)).next,n=new g;!(d=h.call(u)).done;w++)p=y?r(u,v,[d.value,w],!0):d.value,l(n,w,p);return n.length=w,n}},1318:function(e,t,n){var o=n(5656),i=n(7466),r=n(1400),s=function(e){return function(t,n,s){var a,l=o(t),c=i(l.length),d=r(s,c);if(e&&n!=n){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:function(e,t,n){var o=n(9974),i=n(8361),r=n(7908),s=n(7466),a=n(5417),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,u=6==e,h=7==e,p=5==e||u;return function(f,g,m,v){for(var y,b,w=r(f),C=i(w),x=o(g,m,3),S=s(C.length),_=0,k=v||a,E=t?k(f,S):n||h?k(f,0):void 0;S>_;_++)if((p||_ in C)&&(b=x(y=C[_],_,w),e))if(t)E[_]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return _;case 2:l.call(E,y)}else switch(e){case 4:return!1;case 7:l.call(E,y)}return u?-1:c||d?d:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6583:function(e,t,n){"use strict";var o=n(5656),i=n(9958),r=n(7466),s=n(9341),a=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),u=c||!d;e.exports=u?function(e){if(c)return l.apply(this,arguments)||0;var t=o(this),n=r(t.length),s=n-1;for(arguments.length>1&&(s=a(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},1194:function(e,t,n){var o=n(7293),i=n(5112),r=n(7392),s=i("species");e.exports=function(e){return r>=51||!o((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var o=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},3671:function(e,t,n){var o=n(3099),i=n(7908),r=n(8361),s=n(7466),a=function(e){return function(t,n,a,l){o(n);var c=i(t),d=r(c),u=s(c.length),h=e?u-1:0,p=e?-1:1;if(a<2)for(;;){if(h in d){l=d[h],h+=p;break}if(h+=p,e?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=p)h in d&&(l=n(l,d[h],h,c));return l}};e.exports={left:a(!1),right:a(!0)}},5417:function(e,t,n){var o=n(111),i=n(3157),r=n(5112)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},3411:function(e,t,n){var o=n(9670),i=n(9212);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},7072:function(e,t,n){var o=n(5112)("iterator"),i=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},4326:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:function(e,t,n){var o=n(1694),i=n(4326),r=n(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());e.exports=o?i:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:s?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},9920:function(e,t,n){var o=n(6656),i=n(3887),r=n(1236),s=n(3070);e.exports=function(e,t){for(var n=i(t),a=s.f,l=r.f,c=0;c<n.length;c++){var d=n[c];o(e,d)||a(e,d,l(t,d))}}},8544:function(e,t,n){var o=n(7293);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){"use strict";var o=n(3383).IteratorPrototype,i=n(30),r=n(9114),s=n(8003),a=n(7497),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(o,{next:r(1,n)}),s(e,c,!1,!0),a[c]=l,e}},8880:function(e,t,n){var o=n(9781),i=n(3070),r=n(9114);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var o=n(7593),i=n(3070),r=n(9114);e.exports=function(e,t,n){var s=o(t);s in e?i.f(e,s,r(0,n)):e[s]=n}},654:function(e,t,n){"use strict";var $=n(2109),o=n(4994),i=n(9518),r=n(7674),s=n(8003),a=n(8880),l=n(1320),c=n(5112),d=n(1913),u=n(7497),h=n(3383),p=h.IteratorPrototype,f=h.BUGGY_SAFARI_ITERATORS,g=c("iterator"),m="keys",v="values",y="entries",b=function(){return this};e.exports=function(e,t,n,c,h,w,C){o(n,t,c);var x,S,_,k=function(e){if(e===h&&R)return R;if(!f&&e in T)return T[e];switch(e){case m:case v:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",A=!1,T=e.prototype,L=T[g]||T["@@iterator"]||h&&T[h],R=!f&&L||k(h),M="Array"==t&&T.entries||L;if(M&&(x=i(M.call(new e)),p!==Object.prototype&&x.next&&(d||i(x)===p||(r?r(x,p):"function"!=typeof x[g]&&a(x,g,b)),s(x,E,!0,!0),d&&(u[E]=b))),h==v&&L&&L.name!==v&&(A=!0,R=function(){return L.call(this)}),d&&!C||T[g]===R||a(T,g,R),u[t]=R,h)if(S={values:k(v),keys:w?R:k(m),entries:k(y)},C)for(_ in S)(f||A||!(_ in T))&&l(T,_,S[_]);else $({target:t,proto:!0,forced:f||A},S);return S}},9781:function(e,t,n){var o=n(7293);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var o=n(7854),i=n(111),r=o.document,s=i(r)&&i(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(e,t,n){var o=n(5005);e.exports=o("navigator","userAgent")||""},7392:function(e,t,n){var o,i,r=n(7854),s=n(8113),a=r.process,l=a&&a.versions,c=l&&l.v8;c?i=(o=c.split("."))[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(i=o[1]),e.exports=i&&+i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var o=n(7854),i=n(1236).f,r=n(8880),s=n(1320),a=n(3505),l=n(9920),c=n(4705);e.exports=function(e,t){var n,d,u,h,p,f=e.target,g=e.global,m=e.stat;if(n=g?o:m?o[f]||a(f,{}):(o[f]||{}).prototype)for(d in t){if(h=t[d],u=e.noTargetGet?(p=i(n,d))&&p.value:n[d],!c(g?d:f+(m?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&r(h,"sham",!0),s(n,d,h,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,n){"use strict";n(4916);var o=n(1320),i=n(7293),r=n(5112),s=n(2261),a=n(8880),l=r("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d="$0"==="a".replace(/./,"$0"),u=r("replace"),h=!!/./[u]&&""===/./[u]("a","$0"),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var f=r(e),g=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=g&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!g||!m||"replace"===e&&(!c||!d||h)||"split"===e&&!p){var v=/./[f],y=n(f,""[e],(function(e,t,n,o,i){return t.exec===s?g&&!i?{done:!0,value:v.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],w=y[1];o(String.prototype,e,b),o(RegExp.prototype,f,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}u&&a(RegExp.prototype[f],"sham",!0)}},9974:function(e,t,n){var o=n(3099);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},5005:function(e,t,n){var o=n(857),i=n(7854),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(o[e])||r(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},1246:function(e,t,n){var o=n(648),i=n(7497),r=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},8554:function(e,t,n){var o=n(9670),i=n(1246);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return o(t.call(e))}},647:function(e,t,n){var o=n(7908),i=Math.floor,r="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,a=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,l,c,d){var u=n+e.length,h=l.length,p=a;return void 0!==c&&(c=o(c),p=s),r.call(d,p,(function(o,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":s=c[r.slice(1,-1)];break;default:var a=+r;if(0===a)return o;if(a>h){var d=i(a/10);return 0===d?o:d<=h?void 0===l[d-1]?r.charAt(1):l[d-1]+r.charAt(1):o}s=l[a-1]}return void 0===s?"":s}))}},7854:function(e,t,n){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:function(e){e.exports={}},490:function(e,t,n){var o=n(5005);e.exports=o("document","documentElement")},4664:function(e,t,n){var o=n(9781),i=n(7293),r=n(317);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,r=Math.LN2;e.exports={pack:function(e,s,a){var l,c,d,u=new Array(a),h=8*a-s-1,p=(1<<h)-1,f=p>>1,g=23===s?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for((e=t(e))!=e||e===1/0?(c=e!=e?1:0,l=p):(l=o(i(e)/r),e*(d=n(2,-l))<1&&(l--,d*=2),(e+=l+f>=1?g/d:g*n(2,1-f))*d>=2&&(l++,d/=2),l+f>=p?(c=0,l=p):l+f>=1?(c=(e*d-1)*n(2,s),l+=f):(c=e*n(2,f-1)*n(2,s),l=0));s>=8;u[v++]=255&c,c/=256,s-=8);for(l=l<<s|c,h+=s;h>0;u[v++]=255&l,l/=256,h-=8);return u[--v]|=128*m,u},unpack:function(e,t){var o,i=e.length,r=8*i-t-1,s=(1<<r)-1,a=s>>1,l=r-7,c=i-1,d=e[c--],u=127&d;for(d>>=7;l>0;u=256*u+e[c],c--,l-=8);for(o=u&(1<<-l)-1,u>>=-l,l+=t;l>0;o=256*o+e[c],c--,l-=8);if(0===u)u=1-a;else{if(u===s)return o?NaN:d?-1/0:1/0;o+=n(2,t),u-=a}return(d?-1:1)*o*n(2,u-t)}}},8361:function(e,t,n){var o=n(7293),i=n(4326),r="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?r.call(e,""):Object(e)}:Object},9587:function(e,t,n){var o=n(111),i=n(7674);e.exports=function(e,t,n){var r,s;return i&&"function"==typeof(r=t.constructor)&&r!==n&&o(s=r.prototype)&&s!==n.prototype&&i(e,s),e}},2788:function(e,t,n){var o=n(5465),i=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return i.call(e)}),e.exports=o.inspectSource},9909:function(e,t,n){var o,i,r,s=n(8536),a=n(7854),l=n(111),c=n(8880),d=n(6656),u=n(5465),h=n(6200),p=n(3501),f=a.WeakMap;if(s){var g=u.state||(u.state=new f),m=g.get,v=g.has,y=g.set;o=function(e,t){return t.facade=e,y.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},r=function(e){return v.call(g,e)}}else{var b=h("state");p[b]=!0,o=function(e,t){return t.facade=e,c(e,b,t),t},i=function(e){return d(e,b)?e[b]:{}},r=function(e){return d(e,b)}}e.exports={set:o,get:i,has:r,enforce:function(e){return r(e)?i(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var o=n(5112),i=n(7497),r=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[r]===e)}},3157:function(e,t,n){var o=n(4326);e.exports=Array.isArray||function(e){return"Array"==o(e)}},4705:function(e,t,n){var o=n(7293),i=/#|\.prototype\./,r=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?o(t):!!t)},s=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},111:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:function(e){e.exports=!1},7850:function(e,t,n){var o=n(111),i=n(4326),r=n(5112)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}},9212:function(e,t,n){var o=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return o(t.call(e)).value}},3383:function(e,t,n){"use strict";var o,i,r,s=n(7293),a=n(9518),l=n(8880),c=n(6656),d=n(5112),u=n(1913),h=d("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(i=a(a(r)))!==Object.prototype&&(o=i):p=!0);var f=null==o||s((function(){var e={};return o[h].call(e)!==e}));f&&(o={}),u&&!f||c(o,h)||l(o,h,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},7497:function(e){e.exports={}},133:function(e,t,n){var o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},590:function(e,t,n){var o=n(7293),i=n(5112),r=n(1913),s=i("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,o){t.delete("b"),n+=o+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(e,t,n){var o=n(7854),i=n(2788),r=o.WeakMap;e.exports="function"==typeof r&&/native code/.test(i(r))},1574:function(e,t,n){"use strict";var o=n(9781),i=n(7293),r=n(1956),s=n(5181),a=n(5296),l=n(7908),c=n(8361),d=Object.assign,u=Object.defineProperty;e.exports=!d||i((function(){if(o&&1!==d({b:1},d(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||r(d({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,d=1,u=s.f,h=a.f;i>d;)for(var p,f=c(arguments[d++]),g=u?r(f).concat(u(f)):r(f),m=g.length,v=0;m>v;)p=g[v++],o&&!h.call(f,p)||(n[p]=f[p]);return n}:d},30:function(e,t,n){var o,i=n(9670),r=n(6048),s=n(748),a=n(3501),l=n(490),c=n(317),d=n(6200),u=d("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"</"+"script>"},f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=o?function(e){e.write(p("")),e.close()
;var t=e.parentWindow.Object;return e=null,t}(o):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[u]=e):n=f(),void 0===t?n:r(n,t)}},6048:function(e,t,n){var o=n(9781),i=n(3070),r=n(9670),s=n(1956);e.exports=o?Object.defineProperties:function(e,t){r(e);for(var n,o=s(t),a=o.length,l=0;a>l;)i.f(e,n=o[l++],t[n]);return e}},3070:function(e,exports,t){var n=t(9781),o=t(4664),i=t(9670),r=t(7593),s=Object.defineProperty;exports.f=n?s:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,exports,t){var n=t(9781),o=t(5296),i=t(9114),r=t(5656),s=t(7593),a=t(6656),l=t(4664),c=Object.getOwnPropertyDescriptor;exports.f=n?c:function(e,t){if(e=r(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return i(!o.f.call(e,t),e[t])}},8006:function(e,exports,t){var n=t(6324),o=t(748).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:function(e,exports){exports.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var o=n(6656),i=n(7908),r=n(6200),s=n(8544),a=r("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:function(e,t,n){var o=n(6656),i=n(5656),r=n(1318).indexOf,s=n(3501);e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!o(s,n)&&o(a,n)&&c.push(n);for(;t.length>l;)o(a,n=t[l++])&&(~r(c,n)||c.push(n));return c}},1956:function(e,t,n){var o=n(6324),i=n(748);e.exports=Object.keys||function(e){return o(e,i)}},5296:function(e,exports){"use strict";var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!t.call({1:2},1);exports.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:t},7674:function(e,t,n){var o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},288:function(e,t,n){"use strict";var o=n(1694),i=n(648);e.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},3887:function(e,t,n){var o=n(5005),i=n(8006),r=n(5181),s=n(9670);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=r.f;return n?t.concat(n(e)):t}},857:function(e,t,n){var o=n(7854);e.exports=o},2248:function(e,t,n){var o=n(1320);e.exports=function(e,t,n){for(var i in t)o(e,i,t[i],n);return e}},1320:function(e,t,n){var o=n(7854),i=n(8880),r=n(6656),s=n(3505),a=n(2788),l=n(9909),c=l.get,d=l.enforce,u=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||i(n,"name",t),(l=d(n)).source||(l.source=u.join("string"==typeof t?t:""))),e!==o?(c?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7651:function(e,t,n){var o=n(4326),i=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},2261:function(e,t,n){"use strict";var o,i,r=n(7066),s=n(2999),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,d=(o=/a/,i=/b*/g,a.call(o,"a"),a.call(i,"a"),0!==o.lastIndex||0!==i.lastIndex),u=s.UNSUPPORTED_Y||s.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(d||h||u)&&(c=function(e){var t,n,o,i,s=this,c=u&&s.sticky,p=r.call(s),f=s.source,g=0,m=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,g++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),d&&(t=s.lastIndex),o=a.call(c?n:s,m),c?o?(o.input=o.input.slice(g),o[0]=o[0].slice(g),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:d&&o&&(s.lastIndex=s.global?o.index+o[0].length:t),h&&o&&o.length>1&&l.call(o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o}),e.exports=c},7066:function(e,t,n){"use strict";var o=n(9670);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,exports,t){"use strict";var n=t(7293);function o(e,t){return RegExp(e,t)}exports.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),exports.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:function(e,t,n){var o=n(7854),i=n(8880);e.exports=function(e,t){try{i(o,e,t)}catch(n){o[e]=t}return t}},6340:function(e,t,n){"use strict";var o=n(5005),i=n(3070),r=n(5112),s=n(9781),a=r("species");e.exports=function(e){var t=o(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var o=n(3070).f,i=n(6656),r=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},6200:function(e,t,n){var o=n(2309),i=n(9711),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},5465:function(e,t,n){var o=n(7854),i=n(3505),r="__core-js_shared__",s=o[r]||i(r,{});e.exports=s},2309:function(e,t,n){var o=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:o?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(e,t,n){var o=n(9670),i=n(3099),r=n(5112)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||null==(n=o(s)[r])?t:i(n)}},8710:function(e,t,n){var o=n(9958),i=n(4488),r=function(e){return function(t,n){var r,s,a=String(i(t)),l=o(n),c=a.length;return l<0||l>=c?e?"":void 0:(r=a.charCodeAt(l))<55296||r>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):r:e?a.slice(l,l+2):s-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},3197:function(e){"use strict";var t=2147483647,n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",r=Math.floor,s=String.fromCharCode,a=function(e){return e+22+75*(e<26)},l=function(e,t,n){var o=0;for(e=n?r(e/700):e>>1,e+=r(e/t);e>455;o+=36)e=r(e/35);return r(o+36*e/(e+38))},c=function(e){var n=[];e=function(e){for(var t=[],n=0,o=e.length;n<o;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var o,c,d=e.length,u=128,h=0,p=72;for(o=0;o<e.length;o++)(c=e[o])<128&&n.push(s(c));var f=n.length,g=f;for(f&&n.push("-");g<d;){var m=t;for(o=0;o<e.length;o++)(c=e[o])>=u&&c<m&&(m=c);var v=g+1;if(m-u>r((t-h)/v))throw RangeError(i);for(h+=(m-u)*v,u=m,o=0;o<e.length;o++){if((c=e[o])<u&&++h>t)throw RangeError(i);if(c==u){for(var y=h,b=36;;b+=36){var w=b<=p?1:b>=p+26?26:b-p;if(y<w)break;var C=y-w,x=36-w;n.push(s(a(w+C%x))),y=r(C/x)}n.push(s(a(y))),p=l(h,v,g==f),h=0,++g}}++h,++u}return n.join("")};e.exports=function(e){var t,i,r=[],s=e.toLowerCase().replace(o,".").split(".");for(t=0;t<s.length;t++)i=s[t],r.push(n.test(i)?"xn--"+c(i):i);return r.join(".")}},6091:function(e,t,n){var o=n(7293),i=n(1361);e.exports=function(e){return o((function(){return!!i[e]()||"âÂá "!="âÂá "[e]()||i[e].name!==e}))}},3111:function(e,t,n){var o=n(4488),i="["+n(1361)+"]",r=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),a=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},1400:function(e,t,n){var o=n(9958),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},7067:function(e,t,n){var o=n(9958),i=n(7466);e.exports=function(e){if(void 0===e)return 0;var t=o(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},5656:function(e,t,n){var o=n(8361),i=n(4488);e.exports=function(e){return o(i(e))}},9958:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:function(e,t,n){var o=n(9958),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},7908:function(e,t,n){var o=n(4488);e.exports=function(e){return Object(o(e))}},4590:function(e,t,n){var o=n(3002);e.exports=function(e,t){var n=o(e);if(n%t)throw RangeError("Wrong offset");return n}},3002:function(e,t,n){var o=n(9958);e.exports=function(e){var t=o(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:function(e,t,n){var o=n(111);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},1694:function(e,t,n){var o={};o[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(o)},9843:function(e,t,n){"use strict";var $=n(2109),o=n(7854),i=n(9781),r=n(3832),s=n(260),a=n(3331),l=n(5787),c=n(9114),d=n(8880),u=n(7466),h=n(7067),p=n(4590),f=n(7593),g=n(6656),m=n(648),v=n(111),y=n(30),b=n(7674),w=n(8006).f,C=n(7321),x=n(2092).forEach,S=n(6340),_=n(3070),k=n(1236),E=n(9909),A=n(9587),T=E.get,L=E.set,R=_.f,M=k.f,D=Math.round,O=o.RangeError,N=a.ArrayBuffer,I=a.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,P=s.TYPED_ARRAY_TAG,B=s.TypedArray,H=s.TypedArrayPrototype,z=s.aTypedArrayConstructor,W=s.isTypedArray,U="BYTES_PER_ELEMENT",j="Wrong length",V=function(e,t){for(var n=0,o=t.length,i=new(z(e))(o);o>n;)i[n]=t[n++];return i},q=function(e,t){R(e,t,{get:function(){return T(this)[t]}})},K=function(e){var t;return e instanceof N||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},G=function(e,t){return W(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return G(e,t=f(t,!0))?c(2,e[t]):M(e,t)},X=function(e,t,n){return!(G(e,t=f(t,!0))&&v(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};i?(F||(k.f=Y,_.f=X,q(H,"buffer"),q(H,"byteOffset"),q(H,"byteLength"),q(H,"length")),$({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,n){var i=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",a="get"+e,c="set"+e,f=o[s],g=f,m=g&&g.prototype,_={},k=function(e,t){R(e,t,{get:function(){return function(e,t){var n=T(e);return n.view[a](t*i+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,o){var r=T(e);n&&(o=(o=D(o))<0?0:o>255?255:255&o),r.view[c](t*i+r.byteOffset,o,!0)}(this,t,e)},enumerable:!0})};F?r&&(g=t((function(e,t,n,o){return l(e,g,s),A(v(t)?K(t)?void 0!==o?new f(t,p(n,i),o):void 0!==n?new f(t,p(n,i)):new f(t):W(t)?V(g,t):C.call(g,t):new f(h(t)),e,g)})),b&&b(g,B),x(w(f),(function(e){e in g||d(g,e,f[e])})),g.prototype=m):(g=t((function(e,t,n,o){l(e,g,s);var r,a,c,d=0,f=0;if(v(t)){if(!K(t))return W(t)?V(g,t):C.call(g,t);r=t,f=p(n,i);var m=t.byteLength;if(void 0===o){if(m%i)throw O(j);if((a=m-f)<0)throw O(j)}else if((a=u(o)*i)+f>m)throw O(j);c=a/i}else c=h(t),r=new N(a=c*i);for(L(e,{buffer:r,byteOffset:f,byteLength:a,length:c,view:new I(r)});d<c;)k(e,d++)})),b&&b(g,B),m=g.prototype=y(H)),m.constructor!==g&&d(m,"constructor",g),P&&d(m,P,s),_[s]=g,$({global:!0,forced:g!=f,sham:!F},_),U in g||d(g,U,i),U in m||d(m,U,i),S(s)}):e.exports=function(){}},3832:function(e,t,n){var o=n(7854),i=n(7293),r=n(7072),s=n(260).NATIVE_ARRAY_BUFFER_VIEWS,a=o.ArrayBuffer,l=o.Int8Array;e.exports=!s||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!r((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},3074:function(e,t,n){var o=n(260).aTypedArrayConstructor,i=n(6707);e.exports=function(e,t){for(var n=i(e,e.constructor),r=0,s=t.length,a=new(o(n))(s);s>r;)a[r]=t[r++];return a}},7321:function(e,t,n){var o=n(7908),i=n(7466),r=n(1246),s=n(7659),a=n(9974),l=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,c,d,u,h,p=o(e),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=r(p);if(null!=v&&!s(v))for(h=(u=v.call(p)).next,p=[];!(d=h.call(u)).done;)p.push(d.value);for(m&&f>2&&(g=a(g,arguments[2],2)),n=i(p.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=m?g(p[t],t):p[t];return c}},9711:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:function(e,t,n){var o=n(133);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(e,t,n){var o=n(7854),i=n(2309),r=n(6656),s=n(9711),a=n(133),l=n(3307),c=i("wks"),d=o.Symbol,u=l?d:d&&d.withoutSetter||s;e.exports=function(e){return r(c,e)||(a&&r(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},1361:function(e){e.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},8264:function(e,t,n){"use strict";var $=n(2109),o=n(7854),i=n(3331),r=n(6340),s="ArrayBuffer",a=i.ArrayBuffer;$({global:!0,forced:o.ArrayBuffer!==a},{ArrayBuffer:a}),r(s)},2222:function(e,t,n){"use strict";var $=n(2109),o=n(7293),i=n(3157),r=n(111),s=n(7908),a=n(7466),l=n(6135),c=n(5417),d=n(1194),u=n(5112),h=n(7392),p=u("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=d("concat"),y=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)};$({target:"Array",proto:!0,forced:!m||!v},{concat:function(e){var t,n,o,i,r,d=s(this),u=c(d,0),h=0;for(t=-1,o=arguments.length;t<o;t++)if(r=-1===t?d:arguments[t],y(r)){if(h+(i=a(r.length))>f)throw TypeError(g);for(n=0;n<i;n++,h++)n in r&&l(u,h,r[n])}else{if(h>=f)throw TypeError(g);l(u,h++,r)}return u.length=h,u}})},7327:function(e,t,n){"use strict";var $=n(2109),o=n(2092).filter;$({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2772:function(e,t,n){"use strict";var $=n(2109),o=n(1318).indexOf,i=n(9341),r=[].indexOf,s=!!r&&1/[1].indexOf(1,-0)<0,a=i("indexOf");$({target:"Array",proto:!0,forced:s||!a},{indexOf:function(e){return s?r.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},6992:function(e,t,n){"use strict";var o=n(5656),i=n(1223),r=n(7497),s=n(9909),a=n(654),l="Array Iterator",c=s.set,d=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:o(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},1249:function(e,t,n){"use strict";var $=n(2109),o=n(2092).map;$({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:function(e,t,n){"use strict";var $=n(2109),o=n(111),i=n(3157),r=n(1400),s=n(7466),a=n(5656),l=n(6135),c=n(5112),d=n(1194)("slice"),u=c("species"),h=[].slice,p=Math.max;$({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,c,d,f=a(this),g=s(f.length),m=r(e,g),v=r(void 0===t?g:t,g);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[u])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(f,m,v);for(c=new(void 0===n?Array:n)(p(v-m,0)),d=0;m<v;m++,d++)m in f&&l(c,d,f[m]);return c.length=d,c}})},561:function(e,t,n){"use strict";var $=n(2109),o=n(1400),i=n(9958),r=n(7466),s=n(7908),a=n(5417),l=n(6135),c=n(1194)("splice"),d=Math.max,u=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";$({target:"Array",proto:!0,forced:!c},{splice:function(e,t){var n,c,f,g,m,v,y=s(this),b=r(y.length),w=o(e,b),C=arguments.length;if(0===C?n=c=0:1===C?(n=0,c=b-w):(n=C-2,c=u(d(i(t),0),b-w)),b+n-c>h)throw TypeError(p);for(f=a(y,c),g=0;g<c;g++)(m=w+g)in y&&l(f,g,y[m]);if(f.length=c,n<c){for(g=w;g<b-c;g++)v=g+n,(m=g+c)in y?y[v]=y[m]:delete y[v];for(g=b;g>b-c+n;g--)delete y[g-1]}else if(n>c)for(g=b-c;g>w;g--)v=g+n-1,(m=g+c-1)in y?y[v]=y[m]:delete y[v];for(g=0;g<n;g++)y[g+w]=arguments[g+2];return y.length=b-c+n,f}})},8309:function(e,t,n){var o=n(9781),i=n(3070).f,r=Function.prototype,s=r.toString,a=/^\s*function ([^ (]*)/,l="name";o&&!(l in r)&&i(r,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},489:function(e,t,n){var $=n(2109),o=n(7293),i=n(7908),r=n(9518),s=n(8544);$({target:"Object",stat:!0,forced:o((function(){r(1)})),sham:!s},{getPrototypeOf:function(e){return r(i(e))}})},1539:function(e,t,n){var o=n(1694),i=n(1320),r=n(288);o||i(Object.prototype,"toString",r,{unsafe:!0})},4916:function(e,t,n){"use strict";var $=n(2109),o=n(2261);$({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:function(e,t,n){"use strict";var o=n(1320),i=n(9670),r=n(7293),s=n(7066),a="toString",l=RegExp.prototype,c=l.toString,d=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=a;(d||u)&&o(RegExp.prototype,a,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?s.call(e):n)}),{unsafe:!0})},8783:function(e,t,n){"use strict";var o=n(8710).charAt,i=n(9909),r=n(654),s="String Iterator",a=i.set,l=i.getterFor(s);r(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=o(n,i),t.index+=e.length,{value:e,done:!1})}))},4723:function(e,t,n){"use strict";var o=n(7007),i=n(9670),r=n(7466),s=n(4488),a=n(1530),l=n(7651);o("match",1,(function(e,t,n){return[function(t){var n=s(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,n):new RegExp(t)[e](String(n))},function(e){var o=n(t,e,this);if(o.done)return o.value;var s=i(e),c=String(this);if(!s.global)return l(s,c);var d=s.unicode;s.lastIndex=0;for(var u,h=[],p=0;null!==(u=l(s,c));){var f=String(u[0]);h[p]=f,""===f&&(s.lastIndex=a(c,r(s.lastIndex),d)),p++}return 0===p?null:h}]}))},5306:function(e,t,n){"use strict";var o=n(7007),i=n(9670),r=n(7466),s=n(9958),a=n(4488),l=n(1530),c=n(647),d=n(7651),u=Math.max,h=Math.min;o("replace",2,(function(e,t,n,o){var p=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=o.REPLACE_KEEPS_$0,g=p?"$":"$0";return[function(n,o){var i=a(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i,o):t.call(String(i),n,o)},function(e,o){if(!p&&f||"string"==typeof o&&-1===o.indexOf(g)){var a=n(t,e,this,o);if(a.done)return a.value}var m=i(e),v=String(this),y="function"==typeof o;y||(o=String(o));var b=m.global;if(b){var w=m.unicode;m.lastIndex=0}for(var C=[];;){var x=d(m,v);if(null===x)break;if(C.push(x),!b)break;""===String(x[0])&&(m.lastIndex=l(v,r(m.lastIndex),w))}for(var S,_="",k=0,E=0;E<C.length;E++){x=C[E];for(var A=String(x[0]),T=u(h(s(x.index),v.length),0),L=[],R=1;R<x.length;R++)L.push(void 0===(S=x[R])?S:String(S));var M=x.groups;if(y){var D=[A].concat(L,T,v);void 0!==M&&D.push(M);var O=String(o.apply(void 0,D))}else O=c(A,v,T,L,M,o);T>=k&&(_+=v.slice(k,T)+O,k=T+A.length)}return _+v.slice(k)}]}))},3123:function(e,t,n){"use strict";var o=n(7007),i=n(7850),r=n(9670),s=n(4488),a=n(6707),l=n(1530),c=n(7466),d=n(7651),u=n(2261),h=n(7293),p=[].push,f=Math.min,g=4294967295,m=!h((function(){return!RegExp(g,"y")}));o("split",2,(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=String(s(this)),r=void 0===n?g:n>>>0;if(0===r)return[];if(void 0===e)return[o];if(!i(e))return t.call(o,e,r);for(var a,l,c,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,h+"g");(a=u.call(m,o))&&!((l=m.lastIndex)>f&&(d.push(o.slice(f,a.index)),a.length>1&&a.index<o.length&&p.apply(d,a.slice(1)),c=a[0].length,f=l,d.length>=r));)m.lastIndex===a.index&&m.lastIndex++;return f===o.length?!c&&m.test("")||d.push(""):d.push(o.slice(f)),d.length>r?d.slice(0,r):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,i,n):o.call(String(i),t,n)},function(e,i){var s=n(o,e,this,i,o!==t);if(s.done)return s.value;var u=r(e),h=String(this),p=a(u,RegExp),v=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),b=new p(m?u:"^(?:"+u.source+")",y),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===h.length)return null===d(b,h)?[h]:[];for(var C=0,x=0,S=[];x<h.length;){b.lastIndex=m?x:0;var _,k=d(b,m?h:h.slice(x));if(null===k||(_=f(c(b.lastIndex+(m?0:x)),h.length))===C)x=l(h,x,v);else{if(S.push(h.slice(C,x)),S.length===w)return S;for(var E=1;E<=k.length-1;E++)if(S.push(k[E]),S.length===w)return S;x=C=_}}return S.push(h.slice(C)),S}]}),!m)},3210:function(e,t,n){"use strict";var $=n(2109),o=n(3111).trim;$({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return o(this)}})},2990:function(e,t,n){"use strict";var o=n(260),i=n(1048),r=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(r(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,n){"use strict";var o=n(260),i=n(2092).every,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,n){"use strict";var o=n(260),i=n(1285),r=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",(function(e){return i.apply(r(this),arguments)}))},5035:function(e,t,n){"use strict";var o=n(260),i=n(2092).filter,r=n(3074),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("filter",(function(e){var t=i(s(this),e,arguments.length>1?arguments[1]:void 0);return r(this,t)}))},7174:function(e,t,n){"use strict";var o=n(260),i=n(2092).findIndex,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,n){"use strict";var o=n(260),i=n(2092).find,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,n){"use strict";var o=n(260),i=n(2092).forEach,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",(function(e){i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:function(e,t,n){"use strict";var o=n(260),i=n(1318).includes,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,n){"use strict";var o=n(260),i=n(1318).indexOf,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,n){"use strict";var o=n(7854),i=n(260),r=n(6992),s=n(5112)("iterator"),a=o.Uint8Array,l=r.values,c=r.keys,d=r.entries,u=i.aTypedArray,h=i.exportTypedArrayMethod,p=a&&a.prototype[s],f=!!p&&("values"==p.name||null==p.name),g=function(){return l.call(u(this))};h("entries",(function(){return d.call(u(this))})),h("keys",(function(){return c.call(u(this))})),h("values",g,!f),h(s,g,!f)},8867:function(e,t,n){"use strict";var o=n(260),i=o.aTypedArray,r=o.exportTypedArrayMethod,s=[].join;r("join",(function(e){return s.apply(i(this),arguments)}))},7789:function(e,t,n){"use strict";var o=n(260),i=n(6583),r=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(r(this),arguments)}))},3739:function(e,t,n){"use strict";var o=n(260),i=n(2092).map,r=n(6707),s=o.aTypedArray,a=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(r(e,e.constructor)))(t)}))}))},4483:function(e,t,n){"use strict";var o=n(260),i=n(3671).right,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",(function(e){return i(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:function(e,t,n){"use strict";var o=n(260),i=n(3671).left,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",(function(e){return i(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:function(e,t,n){"use strict";var o=n(260),i=o.aTypedArray,r=o.exportTypedArrayMethod,s=Math.floor;r("reverse",(function(){for(var e,t=this,n=i(t).length,o=s(n/2),r=0;r<o;)e=t[r],t[r++]=t[--n],t[n]=e;return t}))},3462:function(e,t,n){"use strict";var o=n(260),i=n(7466),r=n(4590),s=n(7908),a=n(7293),l=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",(function(e){l(this);var t=r(arguments.length>1?arguments[1]:void 0,1),n=this.length,o=s(e),a=i(o.length),c=0;if(a+t>n)throw RangeError("Wrong length");for(;c<a;)this[t+c]=o[c++]}),a((function(){new Int8Array(1).set({})})))},678:function(e,t,n){"use strict";var o=n(260),i=n(6707),r=n(7293),s=o.aTypedArray,a=o.aTypedArrayConstructor,l=o.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var n=c.call(s(this),e,t),o=i(this,this.constructor),r=0,l=n.length,d=new(a(o))(l);l>r;)d[r]=n[r++];return d}),r((function(){new Int8Array(1).slice()})))},7462:function(e,t,n){"use strict";var o=n(260),i=n(2092).some,r=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,n){"use strict";var o=n(260),i=o.aTypedArray,r=o.exportTypedArrayMethod,s=[].sort;r("sort",(function(e){return s.call(i(this),e)}))},5021:function(e,t,n){"use strict";var o=n(260),i=n(7466),r=n(1400),s=n(6707),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",(function(e,t){var n=a(this),o=n.length,l=r(e,o);return new(s(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?o:r(t,o))-l))}))},2974:function(e,t,n){"use strict";var o=n(7854),i=n(260),r=n(7293),s=o.Int8Array,a=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,d=[].slice,u=!!s&&r((function(){c.call(new s(1))}));l("toLocaleString",(function(){return c.apply(u?d.call(a(this)):a(this),arguments)}),r((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!r((function(){s.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,n){"use strict";var o=n(260).exportTypedArrayMethod,i=n(7293),r=n(7854).Uint8Array,s=r&&r.prototype||{},a=[].toString,l=[].join;i((function(){a.call({})}))&&(a=function(){return l.call(this)});var c=s.toString!=a;o("toString",a,c)},2472:function(e,t,n){n(9843)("Uint8",(function(e){return function(t,n,o){return e(this,t,n,o)}}))},4747:function(e,t,n){var o=n(7854),i=n(8324),r=n(8533),s=n(8880);for(var a in i){var l=o[a],c=l&&l.prototype;if(c&&c.forEach!==r)try{s(c,"forEach",r)}catch(e){c.forEach=r}}},3948:function(e,t,n){var o=n(7854),i=n(8324),r=n(6992),s=n(8880),a=n(5112),l=a("iterator"),c=a("toStringTag"),d=r.values;for(var u in i){var h=o[u],p=h&&h.prototype;if(p){if(p[l]!==d)try{s(p,l,d)}catch(e){p[l]=d}if(p[c]||s(p,c,u),i[u])for(var f in r)if(p[f]!==r[f])try{s(p,f,r[f])}catch(e){p[f]=r[f]}}}},1637:function(e,t,n){"use strict";n(6992);var $=n(2109),o=n(5005),i=n(590),r=n(1320),s=n(2248),a=n(8003),l=n(4994),c=n(9909),d=n(5787),u=n(6656),h=n(9974),p=n(648),f=n(9670),g=n(111),m=n(30),v=n(9114),y=n(8554),b=n(1246),w=n(5112),C=o("fetch"),x=o("Headers"),S=w("iterator"),_="URLSearchParams",k="URLSearchParamsIterator",E=c.set,A=c.getterFor(_),T=c.getterFor(k),L=/\+/g,R=Array(4),M=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},D=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(L," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(M(n--),D);return t}},N=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return I[e]},P=function(e){return encodeURIComponent(e).replace(N,F)},B=function(e,t){if(t)for(var n,o,i=t.split("&"),r=0;r<i.length;)(n=i[r++]).length&&(o=n.split("="),e.push({key:O(o.shift()),value:O(o.join("="))}))},H=function(e){this.entries.length=0,B(this.entries,e)},z=function(e,t){if(e<t)throw TypeError("Not enough arguments")},W=l((function(e,t){E(this,{type:k,iterator:y(A(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),o=n.value;return n.done||(n.value="keys"===t?o.key:"values"===t?o.value:[o.key,o.value]),n})),U=function(){d(this,U,_);var e,t,n,o,i,r,s,a,l,c=arguments.length>0?arguments[0]:void 0,h=this,p=[];if(E(h,{type:_,entries:p,updateURL:function(){},updateSearchParams:H}),void 0!==c)if(g(c))if("function"==typeof(e=b(c)))for(n=(t=e.call(c)).next;!(o=n.call(t)).done;){if((s=(r=(i=y(f(o.value))).next).call(i)).done||(a=r.call(i)).done||!r.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:a.value+""})}else for(l in c)u(c,l)&&p.push({key:l,value:c[l]+""});else B(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},j=U.prototype;s(j,{append:function(e,t){z(arguments.length,2);var n=A(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){z(arguments.length,1);for(var t=A(this),n=t.entries,o=e+"",i=0;i<n.length;)n[i].key===o?n.splice(i,1):i++;t.updateURL()},get:function(e){z(arguments.length,1);for(var t=A(this).entries,n=e+"",o=0;o<t.length;o++)if(t[o].key===n)return t[o].value;return null},getAll:function(e){z(arguments.length,1);for(var t=A(this).entries,n=e+"",o=[],i=0;i<t.length;i++)t[i].key===n&&o.push(t[i].value);return o},has:function(e){z(arguments.length,1);for(var t=A(this).entries,n=e+"",o=0;o<t.length;)if(t[o++].key===n)return!0;return!1},set:function(e,t){z(arguments.length,1);for(var n,o=A(this),i=o.entries,r=!1,s=e+"",a=t+"",l=0;l<i.length;l++)(n=i[l]).key===s&&(r?i.splice(l--,1):(r=!0,n.value=a));r||i.push({key:s,value:a}),o.updateURL()},sort:function(){var e,t,n,o=A(this),i=o.entries,r=i.slice();for(i.length=0,n=0;n<r.length;n++){for(e=r[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}o.updateURL()},forEach:function(e){for(var t,n=A(this).entries,o=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)o((t=n[i++]).value,t.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),r(j,S,j.entries),r(j,"toString",(function(){for(var e,t=A(this).entries,n=[],o=0;o<t.length;)e=t[o++],n.push(P(e.key)+"="+P(e.value));return n.join("&")}),{enumerable:!0}),a(U,_),$({global:!0,forced:!i},{URLSearchParams:U}),i||"function"!=typeof C||"function"!=typeof x||$({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,o,i=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(n=t.body,p(n)===_&&((o=t.headers?new x(t.headers):new x).has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:v(0,String(n)),headers:v(0,o)}))),i.push(t)),C.apply(this,i)}}),e.exports={URLSearchParams:U,getState:A}},285:function(e,t,n){"use strict";n(8783)
;var o,$=n(2109),i=n(9781),r=n(590),s=n(7854),a=n(6048),l=n(1320),c=n(5787),d=n(6656),u=n(1574),h=n(8457),p=n(8710).codeAt,f=n(3197),g=n(8003),m=n(1637),v=n(9909),y=s.URL,b=m.URLSearchParams,w=m.getState,C=v.set,x=v.getterFor("URL"),S=Math.floor,_=Math.pow,k="Invalid scheme",E="Invalid host",A="Invalid port",T=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,R=/\d/,M=/^(0x|0X)/,D=/^[0-7]+$/,O=/^\d+$/,N=/^[\dA-Fa-f]+$/,I=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\t\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\t\u000A\u000D]/g,H=function(e,t){var n,o,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return E;if(!(n=W(t.slice(1,-1))))return E;e.host=n}else if(X(e)){if(t=f(t),I.test(t))return E;if(null===(n=z(t)))return E;e.host=n}else{if(F.test(t))return E;for(n="",o=h(t),i=0;i<o.length;i++)n+=G(o[i],j);e.host=n}},z=function(e){var t,n,o,i,r,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],o=0;o<t;o++){if(""==(i=l[o]))return e;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=M.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)s=0;else{if(!(10==r?O:8==r?D:N).test(i))return e;s=parseInt(i,r)}n.push(s)}for(o=0;o<t;o++)if(s=n[o],o==t-1){if(s>=_(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),o=0;o<n.length;o++)a+=n[o]*_(256,3-o);return a},W=function(e){var t,n,o,i,r,s,a,l=[0,0,0,0,0,0,0,0],c=0,d=null,u=0,h=function(){return e.charAt(u)};if(":"==h()){if(":"!=e.charAt(1))return;u+=2,d=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&N.test(h());)t=16*t+parseInt(h(),16),u++,n++;if("."==h()){if(0==n)return;if(u-=n,c>6)return;for(o=0;h();){if(i=null,o>0){if(!("."==h()&&o<4))return;u++}if(!R.test(h()))return;for(;R.test(h());){if(r=parseInt(h(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;u++}l[c]=256*l[c]+i,2!=++o&&4!=o||c++}if(4!=o)return;break}if(":"==h()){if(u++,!h())return}else if(h())return;l[c++]=t}else{if(null!==d)return;u++,d=++c}}if(null!==d)for(s=c-d,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[d+s-1],l[d+--s]=a;else if(8!=c)return;return l},U=function(e){var t,n,o,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",o=function(e){for(var t=null,n=1,o=null,i=0,r=0;r<8;r++)0!==e[r]?(i>n&&(t=o,n=i),o=null,i=0):(null===o&&(o=r),++i);return i>n&&(t=o,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),o===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},j={},V=u({},j,{" ":1,'"':1,"<":1,">":1,"`":1}),q=u({},V,{"#":1,"?":1,"{":1,"}":1}),K=u({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return d(Y,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},Z=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},J=function(e,t){var n;return 2==e.length&&T.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&J(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&J(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},oe={},ie={},re={},se={},ae={},le={},ce={},de={},ue={},he={},pe={},fe={},ge={},me={},ve={},ye={},be={},we={},Ce={},xe={},Se={},_e=function(e,t,n,i){var r,s,a,l,c,u=n||oe,p=0,f="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(B,""),r=h(t);p<=r.length;){switch(s=r[p],u){case oe:if(!s||!T.test(s)){if(n)return k;u=re;continue}f+=s.toLowerCase(),u=ie;break;case ie:if(s&&(L.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return k;f="",u=re,p=0;continue}if(n&&(X(e)!=d(Y,f)||"file"==f&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(X(e)&&Y[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=me:X(e)&&i&&i.scheme==e.scheme?u=se:X(e)?u=de:"/"==r[p+1]?(u=ae,p++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Ce)}break;case re:if(!i||i.cannotBeABaseURL&&"#"!=s)return k;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=Se;break}u="file"==i.scheme?me:le;continue;case se:if("/"!=s||"/"!=r[p+1]){u=le;continue}u=ue,p++;break;case ae:if("/"==s){u=he;break}u=we;continue;case le:if(e.scheme=i.scheme,s==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&X(e))u=ce;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=xe;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=we;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Se}break;case ce:if(!X(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=we;continue}u=he}else u=ue;break;case de:if(u=ue,"/"!=s||"/"!=f.charAt(p+1))continue;p++;break;case ue:if("/"!=s&&"\\"!=s){u=he;continue}break;case he:if("@"==s){g&&(f="%40"+f),g=!0,a=h(f);for(var y=0;y<a.length;y++){var b=a[y];if(":"!=b||v){var w=G(b,K);v?e.password+=w:e.username+=w}else v=!0}f=""}else if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&X(e)){if(g&&""==f)return"Invalid authority";p-=h(f).length+1,f="",u=pe}else f+=s;break;case pe:case fe:if(n&&"file"==e.scheme){u=ye;continue}if(":"!=s||m){if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&X(e)){if(X(e)&&""==f)return E;if(n&&""==f&&(Q(e)||null!==e.port))return;if(l=H(e,f))return l;if(f="",u=be,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),f+=s}else{if(""==f)return E;if(l=H(e,f))return l;if(f="",u=ge,n==fe)return}break;case ge:if(!R.test(s)){if(s==o||"/"==s||"?"==s||"#"==s||"\\"==s&&X(e)||n){if(""!=f){var C=parseInt(f,10);if(C>65535)return A;e.port=X(e)&&C===Y[e.scheme]?null:C,f=""}if(n)return;u=be;continue}return A}f+=s;break;case me:if(e.scheme="file","/"==s||"\\"==s)u=ve;else{if(!i||"file"!=i.scheme){u=we;continue}if(s==o)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",u=xe;else{if("#"!=s){ee(r.slice(p).join(""))||(e.host=i.host,e.path=i.path.slice(),te(e)),u=we;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Se}}break;case ve:if("/"==s||"\\"==s){u=ye;break}i&&"file"==i.scheme&&!ee(r.slice(p).join(""))&&(J(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=we;continue;case ye:if(s==o||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&J(f))u=we;else if(""==f){if(e.host="",n)return;u=be}else{if(l=H(e,f))return l;if("localhost"==e.host&&(e.host=""),n)return;f="",u=be}continue}f+=s;break;case be:if(X(e)){if(u=we,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=o&&(u=we,"/"!=s))continue}else e.fragment="",u=Se;else e.query="",u=xe;break;case we:if(s==o||"/"==s||"\\"==s&&X(e)||!n&&("?"==s||"#"==s)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(te(e),"/"==s||"\\"==s&&X(e)||e.path.push("")):ne(f)?"/"==s||"\\"==s&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&J(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(s==o||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",u=xe):"#"==s&&(e.fragment="",u=Se)}else f+=G(s,q);break;case Ce:"?"==s?(e.query="",u=xe):"#"==s?(e.fragment="",u=Se):s!=o&&(e.path[0]+=G(s,j));break;case xe:n||"#"!=s?s!=o&&("'"==s&&X(e)?e.query+="%27":e.query+="#"==s?"%23":G(s,j)):(e.fragment="",u=Se);break;case Se:s!=o&&(e.fragment+=G(s,V))}p++}},ke=function(e){var t,n,o=c(this,ke,"URL"),r=arguments.length>1?arguments[1]:void 0,s=String(e),a=C(o,{type:"URL"});if(void 0!==r)if(r instanceof ke)t=x(r);else if(n=_e(t={},String(r)))throw TypeError(n);if(n=_e(a,s,null,t))throw TypeError(n);var l=a.searchParams=new b,d=w(l);d.updateSearchParams(a.query),d.updateURL=function(){a.query=String(l)||null},i||(o.href=Ae.call(o),o.origin=$e.call(o),o.protocol=Te.call(o),o.username=Le.call(o),o.password=Re.call(o),o.host=Me.call(o),o.hostname=De.call(o),o.port=Oe.call(o),o.pathname=Ne.call(o),o.search=Ie.call(o),o.searchParams=Fe.call(o),o.hash=Pe.call(o))},Ee=ke.prototype,Ae=function(){var e=x(this),t=e.scheme,n=e.username,o=e.password,i=e.host,r=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=n+(o?":"+o:"")+"@"),c+=U(i),null!==r&&(c+=":"+r)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},$e=function(){var e=x(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&X(e)?t+"://"+U(e.host)+(null!==n?":"+n:""):"null"},Te=function(){return x(this).scheme+":"},Le=function(){return x(this).username},Re=function(){return x(this).password},Me=function(){var e=x(this),t=e.host,n=e.port;return null===t?"":null===n?U(t):U(t)+":"+n},De=function(){var e=x(this).host;return null===e?"":U(e)},Oe=function(){var e=x(this).port;return null===e?"":String(e)},Ne=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=x(this).query;return e?"?"+e:""},Fe=function(){return x(this).searchParams},Pe=function(){var e=x(this).fragment;return e?"#"+e:""},Be=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&a(Ee,{href:Be(Ae,(function(e){var t=x(this),n=String(e),o=_e(t,n);if(o)throw TypeError(o);w(t.searchParams).updateSearchParams(t.query)})),origin:Be($e),protocol:Be(Te,(function(e){var t=x(this);_e(t,String(e)+":",oe)})),username:Be(Le,(function(e){var t=x(this),n=h(String(e));if(!Z(t)){t.username="";for(var o=0;o<n.length;o++)t.username+=G(n[o],K)}})),password:Be(Re,(function(e){var t=x(this),n=h(String(e));if(!Z(t)){t.password="";for(var o=0;o<n.length;o++)t.password+=G(n[o],K)}})),host:Be(Me,(function(e){var t=x(this);t.cannotBeABaseURL||_e(t,String(e),pe)})),hostname:Be(De,(function(e){var t=x(this);t.cannotBeABaseURL||_e(t,String(e),fe)})),port:Be(Oe,(function(e){var t=x(this);Z(t)||(""==(e=String(e))?t.port=null:_e(t,e,ge))})),pathname:Be(Ne,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],_e(t,e+"",be))})),search:Be(Ie,(function(e){var t=x(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_e(t,e,xe)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Be(Fe),hash:Be(Pe,(function(e){var t=x(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_e(t,e,Se)):t.fragment=null}))}),l(Ee,"toJSON",(function(){return Ae.call(this)}),{enumerable:!0}),l(Ee,"toString",(function(){return Ae.call(this)}),{enumerable:!0}),y){var He=y.createObjectURL,ze=y.revokeObjectURL;He&&l(ke,"createObjectURL",(function(e){return He.apply(y,arguments)})),ze&&l(ke,"revokeObjectURL",(function(e){return ze.apply(y,arguments)}))}g(ke,"URL"),$({global:!0,forced:!r,sham:!i},{URL:ke})}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=function(exports,e){for(var t in e)n.o(e,t)&&!n.o(exports,t)&&Object.defineProperty(exports,t,{enumerable:!0,get:e[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})};var o={};return function(){"use strict";n.r(o),n.d(o,{Dropzone:function(){return C},default:function(){return E}});n(2222),n(7327),n(2772),n(6992),n(1249),n(7042),n(561),n(8264),n(8309),n(489),n(1539),n(4916),n(9714),n(8783),n(4723),n(5306),n(3123),n(3210),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4747),n(3948),n(285);function e(e,n){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o,r;return n=t,o=[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};for(var n=this._callbacks[t],o=arguments.length,i=new Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];if(n){var s,a=e(n,!0);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.apply(this,i)}}catch(e){a.e(e)}finally{a.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+t,{args:i})),this}},{key:"makeEvent",value:function(e,t){var n={bubbles:!0,cancelable:!0,detail:t};if("function"==typeof window.CustomEvent)return new CustomEvent(e,n);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var o=0;o<n.length;o++){var i=n[o];if(i===t){n.splice(o,1);break}}return this}}],o&&i(n.prototype,o),r&&i(n,r),t}();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var l={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n=s(this.element.getElementsByTagName("div"),!0);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(/(^| )dz-message($| )/.test(o.className)){e=o,o.className="dz-message";break}}}catch(e){n.e(e)}finally{n.f()}e||(e=C.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var i=e.getElementsByTagName("span")[0];return i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,o){var i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==n?(t=i.srcWidth,n=i.srcHeight):null==t?t=n*r:null==n&&(n=t/r);var s=(t=Math.min(t,i.srcWidth))/(n=Math.min(n,i.srcHeight));if(i.srcWidth>t||i.srcHeight>n)if("crop"===o)r>s?(i.srcHeight=e.height,i.srcWidth=i.srcHeight*s):(i.srcWidth=e.width,i.srcHeight=i.srcWidth/s);else{if("contain"!==o)throw new Error("Unknown resizeMethod '".concat(o,"'"));r>s?n=t/r:t=n*r}return i.srcX=(e.width-i.srcWidth)/2,i.srcY=(e.height-i.srcHeight)/2,i.trgWidth=t,i.trgHeight=n,i},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){e.previewElement=C.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var n,o=s(e.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.textContent=e.name}}catch(e){o.e(e)}finally{o.f()}var r,a=s(e.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(a.s();!(r=a.n()).done;)(i=r.value).innerHTML=this.filesize(e.size)}catch(e){a.e(e)}finally{a.f()}this.options.addRemoveLinks&&(e._removeLink=C.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var l,c=function(n){return n.preventDefault(),n.stopPropagation(),e.status===C.UPLOADING?C.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?C.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},d=s(e.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(d.s();!(l=d.n()).done;){l.value.addEventListener("click",c)}}catch(e){d.e(e)}finally{d.f()}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,o=s(e.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.alt=e.name,i.src=t}}catch(e){o.e(e)}finally{o.f()}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,o=s(e.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(o.s();!(n=o.n()).done;){n.value.textContent=t}}catch(e){o.e(e)}finally{o.f()}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var o,i=s(e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(i.s();!(o=i.n()).done;){var r=o.value;"PROGRESS"===r.nodeName?r.value=t:r.style.width="".concat(t,"%")}}catch(e){i.e(e)}finally{i.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},c=l;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e);var t=v(n);function n(e,o){var i,r,s;if(p(this,n),(i=t.call(this)).element=e,i.version=n.version,i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(b(i)),i.element.dropzone=b(i);var a=null!=(s=n.optionsForElement(i.element))?s:{};if(i.options=n.extend({},c,a,null!=o?o:{}),i.options.previewTemplate=i.options.previewTemplate.replace(/\n*/g,""),i.options.forceFallback||!n.isBrowserSupported())return y(i,i.options.fallback.call(b(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(b(i),e.name,e)}),"string"==typeof i.options.method&&(i.options.method=i.options.method.toUpperCase()),(r=i.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=n.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=n.getElements(i.options.clickable,"clickable")),i.init(),i}return g(n,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===n.UPLOADING||e.status===n.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function t(){e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.setAttribute("tabindex","-1"),
e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",n.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var n=e.hiddenFileInput.files;if(n.length){var o,i=u(n,!0);try{for(i.s();!(o=i.n()).done;){var r=o.value;e.addFile(r)}}catch(e){i.e(e)}finally{i.f()}}e.emit("addedfiles",n),t()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var t,o=u(this.events,!0);try{for(o.s();!(t=o.n()).done;){var i=t.value;this.on(i,this.options[i])}}catch(e){o.e(e)}finally{o.f()}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var r=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(o){return(t!==e.element||o.target===e.element||n.elementInside(o.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var o,i=u(this.getActiveFiles(),!0);try{for(i.s();!(o=i.n()).done;){var r=o.value;t+=r.upload.bytesSent,n+=r.upload.total}}catch(e){i.e(e)}finally{i.f()}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var o='<div class="dz-fallback">';this.options.dictFallbackText&&(o+="<p>".concat(this.options.dictFallbackText,"</p>")),o+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var i=n.createElement(o);return"FORM"!==this.element.tagName?(t=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:i}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(/(^| )fallback($| )/.test(o.className))return o}}catch(e){n.e(e)}finally{n.f()}},t=0,n=["div","form"];t<n.length;t++){var o,i=n[t];if(o=e(this.element.getElementsByTagName(i)))return o}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var o=e.events[n];t.push(e.element.addEventListener(n,o,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var o=e.events[n];t.push(e.element.removeEventListener(n,o,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var o=["tb","gb","mb","kb","b"],i=0;i<o.length;i++){var r=o[i];if(e>=Math.pow(this.options.filesizeBase,4-i)/10){t=e/Math.pow(this.options.filesizeBase,4-i),n=r;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var o=e.dataTransfer.items;o&&o.length&&null!=o[0].webkitGetAsEntry?this._addFilesFromItems(o):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,n=function(e){return e.items},null!=t?n(t):void 0)){var t,n;this.emit("paste",e);var o=e.clipboardData.items;return o.length?this._addFilesFromItems(o):void 0}}},{key:"handleFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.addFile(o)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n,o=[],i=u(e,!0);try{for(i.s();!(n=i.n()).done;){var r,s=n.value;null!=s.webkitGetAsEntry&&(r=s.webkitGetAsEntry())?r.isFile?o.push(t.addFile(s.getAsFile())):r.isDirectory?o.push(t._addFilesFromDirectory(r,r.name)):o.push(void 0):null!=s.getAsFile&&(null==s.kind||"file"===s.kind)?o.push(t.addFile(s.getAsFile())):o.push(void 0)}}catch(e){i.e(e)}finally{i.f()}return o}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,o=e.createReader(),i=function(e){return t=console,n="log",o=function(t){return t.log(e)},null!=t&&"function"==typeof t[n]?o(t,n):void 0;var t,n,o};return function e(){return o.readEntries((function(o){if(o.length>0){var i,r=u(o,!0);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.isFile?s.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)})):s.isDirectory&&n._addFilesFromDirectory(s,"".concat(t,"/").concat(s.name))}}catch(e){r.e(e)}finally{r.f()}e()}return null}),i)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;e.upload={uuid:n.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(n){n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.enqueueFile(o)}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==n.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=x(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t,o=u(this.files.slice(),!0);try{for(o.s();!(t=o.n()).done;){var i=t.value;(i.status!==n.UPLOADING||e)&&this.removeFile(i)}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"resizeImage",value:function(e,t,o,i,r){var s=this;return this.createThumbnail(e,t,o,i,!0,(function(t,o){if(null==o)return r(e);var i=s.options.resizeMimeType;null==i&&(i=e.type);var a=o.toDataURL(i,s.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(a=k.restore(e.dataURL,a)),r(n.dataURItoBlob(a))}))}},{key:"createThumbnail",value:function(e,t,n,o,i,r){var s=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?s.createThumbnailFromUrl(e,t,n,o,i,r):null!=r&&r(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,o){var i=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),r){var s=function(t){i.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,s,o)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,o,i,r,s){var a=this,l=document.createElement("img");return s&&(l.crossOrigin=s),i="from-image"!=getComputedStyle(document.body).imageOrientation&&i,l.onload=function(){var s=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&i&&(s=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),s((function(i){e.width=l.width,e.height=l.height;var s=a.options.resize.call(a,e,t,n,o),c=document.createElement("canvas"),d=c.getContext("2d");switch(c.width=s.trgWidth,c.height=s.trgHeight,i>4&&(c.width=s.trgHeight,c.height=s.trgWidth),i){case 2:d.translate(c.width,0),d.scale(-1,1);break;case 3:d.translate(c.width,c.height),d.rotate(Math.PI);break;case 4:d.translate(0,c.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-c.width);break;case 7:d.rotate(.5*Math.PI),d.translate(c.height,-c.width),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-c.height,0)}_(d,l,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var u=c.toDataURL("image/png");if(null!=r)return r(u,c)}))},null!=r&&(l.onerror=r),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var o=this.getQueuedFiles();if(o.length>0){if(this.options.uploadMultiple)return this.processFiles(o.slice(0,e-t));for(;n<e;){if(!o.length)return;this.processFile(o.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,o=u(e,!0);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.processing=!0,i.status=n.UPLOADING,this.emit("processing",i)}}catch(e){o.e(e)}finally{o.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===n.UPLOADING){var t,o=this._getFilesWithXhr(e.xhr),i=u(o,!0);try{for(i.s();!(t=i.n()).done;){t.value.status=n.CANCELED}}catch(e){i.e(e)}finally{i.f()}void 0!==e.xhr&&e.xhr.abort();var r,s=u(o,!0);try{for(s.s();!(r=s.n()).done;){var a=r.value;this.emit("canceled",a)}}catch(e){s.e(e)}finally{s.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",o)}else e.status!==n.ADDED&&e.status!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(o){if(t.options.chunking){var i=o[0];e[0].upload.chunked=t.options.chunking&&(t.options.forceChunking||i.size>t.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/t.options.chunkSize)}if(e[0].upload.chunked){var r=e[0],s=o[0];r.upload.chunks=[];var a=function(){for(var o=0;void 0!==r.upload.chunks[o];)o++;if(!(o>=r.upload.totalChunkCount)){0;var i=o*t.options.chunkSize,a=Math.min(i+t.options.chunkSize,s.size),l={name:t._getParamName(0),data:s.webkitSlice?s.webkitSlice(i,a):s.slice(i,a),filename:r.upload.filename,chunkIndex:o};r.upload.chunks[o]={file:r,index:o,dataBlock:l,status:n.UPLOADING,progress:0,retries:0},t._uploadData(e,[l])}};if(r.upload.finishedChunkUpload=function(o,i){var s=!0;o.status=n.SUCCESS,o.dataBlock=null,o.xhr=null;for(var l=0;l<r.upload.totalChunkCount;l++){if(void 0===r.upload.chunks[l])return a();r.upload.chunks[l].status!==n.SUCCESS&&(s=!1)}s&&t.options.chunksUploaded(r,(function(){t._finished(e,i,null)}))},t.options.parallelChunkUploads)for(var l=0;l<r.upload.totalChunkCount;l++)a();else a()}else{for(var c=[],d=0;d<e.length;d++)c[d]={name:t._getParamName(d),data:o[d],filename:e[d].upload.filename};t._uploadData(e,c)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){var o,i=this,r=new XMLHttpRequest,s=u(e,!0);try{for(s.s();!(o=s.n()).done;){o.value.xhr=r}}catch(e){s.e(e)}finally{s.f()}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var a=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);r.open(a,l,!0),this.resolveOption(this.options.timeout,e)&&(r.timeout=this.resolveOption(this.options.timeout,e)),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){i._finishedUploading(e,r,t)},r.ontimeout=function(){i._handleUploadError(e,r,"Request timedout after ".concat(i.options.timeout/1e3," seconds"))},r.onerror=function(){i._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return i._updateFilesUploadProgress(e,r,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&n.extend(c,this.options.headers),c){var h=c[d];h&&r.setRequestHeader(d,h)}var p=new FormData;if(this.options.params){var f=this.options.params;for(var g in"function"==typeof f&&(f=f.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),f){var m=f[g];if(Array.isArray(m))for(var v=0;v<m.length;v++)p.append(g,m[v]);else p.append(g,m)}}var y,b=u(e,!0);try{for(b.s();!(y=b.n()).done;){var w=y.value;this.emit("sending",w,r,p)}}catch(e){b.e(e)}finally{b.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,p),this._addFormElementData(p);for(var C=0;C<t.length;C++){var x=t[C];p.append(x.name,x.data,x.filename)}this.submitRequest(r,p,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,o=[],i=0,r=function(r){n.options.transformFile.call(n,e[r],(function(n){o[r]=n,++i===e.length&&t(o)}))},s=0;s<e.length;s++)r(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t,n=u(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.getAttribute("name"),r=o.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=i)if("SELECT"===o.tagName&&o.hasAttribute("multiple")){var s,a=u(o.options,!0);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.selected&&e.append(i,l.value)}}catch(e){a.e(e)}finally{a.f()}}else(!r||"checkbox"!==r&&"radio"!==r||o.checked)&&e.append(i,o.value)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){if(e[0].upload.chunked){var o=e[0],i=this._getChunk(o,t);n?(i.progress=100*n.loaded/n.total,i.total=n.total,i.bytesSent=n.loaded):(i.progress=100,i.bytesSent=i.total),o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var r=0;r<o.upload.totalChunkCount;r++)o.upload.chunks[r]&&void 0!==o.upload.chunks[r].progress&&(o.upload.progress+=o.upload.chunks[r].progress,o.upload.total+=o.upload.chunks[r].total,o.upload.bytesSent+=o.upload.chunks[r].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount,this.emit("uploadprogress",o,o.upload.progress,o.upload.bytesSent)}else{var s,a=u(e,!0);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.upload.total&&l.upload.bytesSent&&l.upload.bytesSent==l.upload.total||(n?(l.upload.progress=100*n.loaded/n.total,l.upload.total=n.total,l.upload.bytesSent=n.loaded):(l.upload.progress=100,l.upload.bytesSent=l.upload.total),this.emit("uploadprogress",l,l.upload.progress,l.upload.bytesSent))}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_finishedUploading",value:function(e,t,o){var i;if(e[0].status!==n.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(e){o=e,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),i):this._finished(e,i,o):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,o){if(e[0].status!==n.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,o||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){1==e.readyState?e.send(t):console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(e,t,o){var i,r=u(e,!0);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.status=n.SUCCESS,this.emit("success",s,t,o),this.emit("complete",s)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,o){var i,r=u(e,!0);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.status=n.ERROR,this.emit("error",s,t,o),this.emit("complete",s)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=r,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var i=0,r=n;i<r.length;i++){var s=r[i];for(var a in s){var l=s[a];e[a]=l}}return e}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),n}(r);C.initClass(),C.version="5.9.3",C.options={},C.optionsForElement=function(e){return e.getAttribute("id")?C.options[S(e.getAttribute("id"))]:void 0},C.instances=[],C.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},C.autoDiscover=!0,C.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n,o=[],i=u(t,!0);try{for(i.s();!(n=i.n()).done;){var r=n.value;/(^| )dropzone($| )/.test(r.className)?o.push(e.push(r)):o.push(void 0)}}catch(e){i.e(e)}finally{i.f()}return o}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t,n=[],o=u(e,!0);try{for(o.s();!(t=o.n()).done;){var i=t.value;!1!==C.optionsForElement(i)?n.push(new C(i)):n.push(void 0)}}catch(e){o.e(e)}finally{o.f()}return n}()},C.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],C.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==C.blacklistedBrowsers&&(C.blockedBrowsers=C.blacklistedBrowsers);var t,n=u(C.blockedBrowsers,!0);try{for(n.s();!(t=n.n()).done;){t.value.test(navigator.userAgent)&&(e=!1)}}catch(e){n.e(e)}finally{n.f()}}else e=!1;else e=!1;return e},C.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),i=new Uint8Array(o),r=0,s=t.length,a=0<=s;a?r<=s:r>=s;a?r++:r--)i[r]=t.charCodeAt(r);return new Blob([o],{type:n})};var x=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},S=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};C.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},C.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},C.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},C.getElements=function(e,t){var n,o;if(e instanceof Array){o=[];try{var i,r=u(e,!0);try{for(r.s();!(i=r.n()).done;)n=i.value,o.push(this.getElement(n,t))}catch(e){r.e(e)}finally{r.f()}}catch(e){o=null}}else if("string"==typeof e){o=[];var s,a=u(document.querySelectorAll(e),!0);try{for(a.s();!(s=a.n()).done;)n=s.value,o.push(n)}catch(e){a.e(e)}finally{a.f()}}else null!=e.nodeType&&(o=[e]);if(null==o||!o.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return o},C.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},C.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,o=e.type,i=o.replace(/\/.*$/,""),r=u(t,!0);try{for(r.s();!(n=r.n()).done;){var s=n.value;if("."===(s=s.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(o===s)return!0}}catch(e){r.e(e)}finally{r.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new C(this,e)}))}),C.ADDED="added",C.QUEUED="queued",C.ACCEPTED=C.QUEUED,C.UPLOADING="uploading",C.PROCESSING=C.UPLOADING,C.CANCELED="canceled",C.ERROR="error",C.SUCCESS="success";var _=function(e,t,n,o,i,r,s,a,l,c){var d=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var o=n.getContext("2d");o.drawImage(e,0,0);for(var i=o.getImageData(1,0,1,t).data,r=0,s=t,a=t;a>r;)0===i[4*(a-1)+3]?s=a:r=a,a=s+r>>1;var l=a/t;return 0===l?1:l}(t);return e.drawImage(t,n,o,i,r,s,a,l,c/d)},k=function(){function e(){p(this,e)}return g(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,o=void 0,i="",r=void 0,s=void 0,a=void 0,l="",c=0;r=(n=e[c++])>>2,s=(3&n)<<4|(o=e[c++])>>4,a=(15&o)<<2|(i=e[c++])>>6,l=63&i,isNaN(o)?a=l=64:isNaN(i)&&(l=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),n=o=i="",r=s=a=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(n),i=this.exifManipulation(t,o);return"data:image/jpeg;base64,".concat(this.encode64(i))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),o=this.insertExif(e,n);return new Uint8Array(o)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),o=this.decode64(n),i=o.indexOf(255,3),r=o.slice(0,i),s=o.slice(i),a=r;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var o=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,o);n.push(i),t=o}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,o="",i=void 0,r=void 0,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(i=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>2,o=(3&r)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==r&&l.push(n),64!==s&&l.push(o),t=n=o="",i=r=s="",a<e.length;);return l}}]),e}();k.initClass();C._autoDiscoverFunction=function(){if(C.autoDiscover)return C.discover()},function(e,t){var n=!1,o=!0,i=e.document,r=i.documentElement,s=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",c=function o(r){if("readystatechange"!==r.type||"complete"===i.readyState)return("load"===r.type?e:i)[a](l+r.type,o,!1),!n&&(n=!0)?t.call(e,r.type||r):void 0};if("complete"!==i.readyState){if(i.createEventObject&&r.doScroll){try{o=!e.frameElement}catch(e){}o&&function e(){try{r.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}i[s](l+"DOMContentLoaded",c,!1),i[s](l+"readystatechange",c,!1),e[s](l+"load",c,!1)}}(window,C._autoDiscoverFunction),window.Dropzone=C;var E=C}(),o}()})),
/*!
Dirty Forms jQuery Plugin | v2.0.0 | github.com/snikch/jquery.dirtyforms
(c) 2010-2015 Mal Curtis
License MIT
*/
function(e){"function"==typeof define&&define.amd?define(["jquery","window","document"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}((function($,e,t,n){$.fn.on||($.fn.on=function(e,t,n,o){return this.delegate(t,e,n,o)}),$.fn.dirtyForms=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.dirtyForms"):o.init.apply(this,arguments)};var o={init:function(n){var o={};return s.initialized||($.extend(!0,$.DirtyForms,n),$(t).trigger("bind.dirtyforms",[u]),u.bind(e,t,o),s.initialized=!0),this.filter("form").not(":dirtylistening").each((function(){var e=$(this);k("Adding form "+e.attr("id")+" to forms to watch"),e.find($.DirtyForms.fieldSelector).each((function(){g($(this))})),e.trigger("scan.dirtyforms"),u.bindForm(e,o)})),this},isDirty:function(e){var t=v(),n=$.DirtyForms.dirtyClass,o=!1;return this.each((function(i){var r=$(this),s=y(r,t);return r.hasClass(n)&&!s?(o=!0,!1):(r.find("."+n).each((function(){if(!y($(this),t))return o=!0,!1})),!o&&(!(!s&&!e&&($.each($.DirtyForms.helpers,(function(e,t){if(t.isDirty&&t.isDirty(r,i))return o=!0,!1})),o))&&void 0))})),o},setClean:function(e,t){k("setClean called");return h(this,$.DirtyForms.fieldSelector,e).each((function(){var e=$(this);g(e),C(e,!1)})).parents("form").trigger("setclean.dirtyforms",[e]),t?this:p(this,"setClean",e,v())},rescan:function(e,t){k("rescan called");return h(this,$.DirtyForms.fieldSelector,e).each((function(){var e=$(this);m(e)||g(e),C(e,b(e))})).parents("form").trigger("rescan.dirtyforms",[e]),t?this:p(this,"rescan",e,v())}};$.extend($.expr[":"],{dirty:function(e){var t=$(e);return t.hasClass($.DirtyForms.dirtyClass)&&!t.is(":dirtyignored")},dirtylistening:function(e){return $(e).hasClass($.DirtyForms.listeningClass)},dirtyignored:function(e){return y($(e),!1)}}),$.DirtyForms={message:"You've made changes on this page which aren't saved. If you leave you will lose these changes.",dirtyClass:"dirty",listeningClass:"dirtylisten",ignoreClass:"dirtyignore",ignoreSelector:"",fieldSelector:"input:not([type='button'],[type='image'],[type='submit'],[type='reset'],[type='file'],[type='search']),select,textarea",debug:!1,dirtylog:function(e){k(e)},helpers:[],dialog:!1};var i,r,s={initialized:!1,formStash:!1,dialogStash:!1,deciding:!1,decidingEvent:!1},a=function(e){if(e.data.bindEscKey&&27==e.which||e.data.bindEnterKey&&13==e.which)return d(e,!1)},l=function(e,t){$.isFunction($.DirtyForms.dialog.close)&&(k("Calling dialog close"),$.DirtyForms.dialog.close(e,t))},c=function(e){return d(e,!0)},d=function(e,n){if(s.deciding){if(e.preventDefault(),!0===n){var o=s.decidingEvent;$(t).trigger("proceed.dirtyforms",[o]),u.clearUnload(),l(n,!1),_(o)}else{$(t).trigger("stay.dirtyforms");var i=!1!==$.DirtyForms.dialog&&!1!==s.dialogStash&&$.isFunction($.DirtyForms.dialog.unstash);l(n,i),i&&(k("Refiring the dialog with stashed content"),$.DirtyForms.dialog.unstash(s.dialogStash,e)),$(t).trigger("afterstay.dirtyforms")}return s.deciding=s.decidingEvent=s.dialogStash=s.formStash=!1,!1}},u={bind:function(e,t,n){$(e).bind("beforeunload",n,u.onBeforeUnload),$(t).on("click",'a:not([target="_blank"])',n,u.onAnchorClick).on("submit","form",n,u.onSubmit)},bindForm:function(e,n){var o=$.DirtyForms,i="change input"+("onpropertychange"in t.createElement("input")?" keyup selectionchange cut paste":"");e.addClass(o.listeningClass).on("focus keydown",o.fieldSelector,n,u.onFocus).on(i,o.fieldSelector,n,u.onFieldChange).bind("reset",n,u.onReset)},onFocus:function(e){var t=$(e.target);m(t)||g(t)},onFieldChange:function(e){var t=$(e.target);"change"!==e.type?x((function(){w(t)}),100):w(t)},onReset:function(e){var t=$(e.target).closest("form");setTimeout((function(){t.dirtyForms("setClean")}),100)},onAnchorClick:function(e){S(e)},onSubmit:function(e){S(e)},onBeforeUnload:function(e){var t=S(e);if(t&&!0!==s.doubleunloadfix&&(k("Before unload will be called, resetting"),s.deciding=!1),s.doubleunloadfix=!0,setTimeout((function(){s.doubleunloadfix=!1}),200),"string"==typeof t)return e.returnValue=t,t},onRefireClick:function(e){var t=new $.Event("click");$(e.target).trigger(t),t.isDefaultPrevented()||u.onRefireAnchorClick(e)},onRefireAnchorClick:function(t){var o=$(t.target).closest("a[href]").attr("href");o!==n&&(k("Sending location to "+o),e.location.href=o)},clearUnload:function(){k("Clearing the beforeunload event"),$(e).unbind("beforeunload",u.onBeforeUnload),e.onbeforeunload=null,$(t).trigger("beforeunload.dirtyforms")}},h=function(e,t,n){var o=e.filter(t).add(e.find(t));return n&&(o=o.not(":dirtyignored")),o},p=function(e,t,n,o){return e.each((function(e){var i=$(this);n&&y(i,o)||$.each($.DirtyForms.helpers,(function(o,r){r[t]&&r[t](i,e,n)}))}))},f=function(e){var t;return e.is("select")?(t="",e.find("option").each((function(){var e=$(this);e.is(":selected")&&(t.length>0&&(t+=","),t+=e.val())}))):t=e.is(":checkbox,:radio")?e.is(":checked"):e.val(),t},g=function(e){k("Storing original value for "+e.attr("name")),e.data("df-orig",f(e));var t=e.data("df-orig")===n;e.data("df-empty",t)},m=function(e){return e.data("df-orig")!==n||!0===e.data("df-empty")},v=function(){var e=$.DirtyForms,t=e.ignoreSelector;return $.each(e.helpers,(function(e,n){"ignoreSelector"in n&&(t.length>0&&(t+=","),t+=n.ignoreSelector)})),t},y=function(e,t){return t||(t=v()),e.is(t)||e.closest("."+$.DirtyForms.ignoreClass).length>0},b=function(e,t){return!(!m(e)||y(e,t))&&f(e)!=e.data("df-orig")},w=function(e,t){if(!y(e,t))if(e.is(":radio[name]")){var n=e.attr("name");e.parents("form").find(":radio[name='"+n+"']").each((function(){var e=$(this);C(e,b(e,t))}))}else C(e,b(e,t))},C=function(e,t){k("Setting dirty status to "+t+" on field "+e.attr("id"));var n=$.DirtyForms.dirtyClass,o=e.parents("form");e.toggleClass(n,t),t!==(o.hasClass(n)&&0===o.find(":dirty").length)&&(k("Setting dirty status to "+t+" on form "+o.attr("id")),o.toggleClass(n,t),t&&o.trigger("dirty.dirtyforms"),t||o.trigger("clean.dirtyforms"))},x=(r=0,function(e,t){clearTimeout(r),r=setTimeout(e,t)}),S=function(e){var n=$(e.target),o=e.type,r=$.DirtyForms;if(k("Entering: Leaving Event fired, type: "+o+", element: "+e.target+", class: "+n.attr("class")+" and id: "+e.target.id),e.isDefaultPrevented())return k("Leaving: Event has been stopped elsewhere"),!1;if("beforeunload"==o&&s.doubleunloadfix)return k("Skip this unload, Firefox bug triggers the unload event multiple times"),s.doubleunloadfix=!1,!1;if(n.is(":dirtyignored"))return k("Leaving: Element has ignore class or a descendant of an ignored element"),u.clearUnload(),!1;if(s.deciding)return k("Leaving: Already in the deciding process"),!1;if(!$("form:dirtylistening").dirtyForms("isDirty"))return k("Leaving: Not dirty"),u.clearUnload(),!1;if("submit"==o&&n.dirtyForms("isDirty"))return k("Leaving: Form submitted is a dirty form"),u.clearUnload(),!0;if($(t).trigger("defer.dirtyforms"),"beforeunload"==o)return k("Returning to beforeunload browser handler with: "+r.message),r.message;if(r.dialog){e.preventDefault(),e.stopImmediatePropagation(),k("Setting deciding active"),s.deciding=!0,s.decidingEvent=e,$.isFunction(r.dialog.stash)&&(k("Stashing dialog content"),s.dialogStash=r.dialog.stash(),k("Dialog Stash: "+s.dialogStash));var l=r.dialog.stashSelector;"string"==typeof l&&n.is("form")&&n.parents(l).length>0?(k("Stashing form"),s.formStash=n.clone(!0).hide()):s.formStash=!1,k("Deferring to the dialog"),i={proceed:!1,commit:function(e){return d(e,i.proceed)},bindEscKey:!0,bindEnterKey:!1,proceedSelector:"",staySelector:""},r.dialog.open(i,r.message,r.ignoreClass),function(e){var n=e.staySelector,o=e.proceedSelector;""!==n&&$(n).unbind("click",d).click(d),""!==o&&$(o).unbind("click",c).click(c),(e.bindEscKey||e.bindEnterKey)&&$(t).unbind("keydown",a).keydown(e,a)}(i)}},_=function(e){var t;"click"===e.type?(k("Refiring click event"),u.onRefireClick(e)):(k("Refiring "+e.type+" event on "+e.target),s.formStash?(k("Appending stashed form to body"),t=s.formStash,$("body").append(t)):t=$(e.target).closest("form"),t.trigger(e.type))},k=function(t){if($.DirtyForms.debug){var n="console"in e&&"firebug"in e.console,o="console"in e&&"log"in e.console;t="[DirtyForms] "+t,n?console.log(t):o?e.console.log(t):alert(t)}}})),function($){$.textcounter=function(e,t){var n=this;n.$el=$(e),n.el=e,n.$el.data("textcounter",n),n.init=function(){n.options=$.extend({},$.textcounter.defaultOptions,t);var e=n.options.countDown?n.options.countDownText:n.options.counterText,o=n.options.countDown?n.options.max:0,i=$("<div/>").addClass(n.options.textCountMessageClass).attr("aria-live","assertive").attr("aria-atomic","true").html(e.replace("%d",'<span class="'+n.options.textCountClass+'">'+o+"</span>")),r=$("<div/>").addClass(n.options.countOverflowContainerClass);n.hideMessage(r),n.$container=$("<"+n.options.countContainerElement+"/>").addClass(n.options.countContainerClass).append(i).append(r),n.$text_counter=n.$container.find("span"),n.$el.after(n.$container),n.$el.bind("keyup.textcounter click.textcounter blur.textcounter focus.textcounter change.textcounter paste.textcounter",n.checkLimits).trigger("click.textcounter"),n.options.init(n.el)},n.checkLimits=function(e){var t=n.$el,o=(n.$container,t.val()),i=0,r=0,s=void 0!==e.originalEvent;if($.isEmptyObject(o)||(i=n.textCount(o)),"auto"==n.options.max)void 0!==(a=n.$el.attr("maxlength"))&&!1!==a?n.options.max=a:n.$container.text("error: [maxlength] attribute not set");else if("autocustom"==n.options.max){var a;void 0!==(a=n.$el.attr(n.options.autoCustomAttr))&&!1!==a?n.options.max=a:n.$container.text("error: ["+n.options.autoCustomAttr+"] attribute not set")}if(r=n.options.countDown?n.options.max-i:i,n.setCount(r),n.options.min>0&&s&&(i<n.options.min?(n.setErrors("min"),n.options.minunder(n.el)):i>=n.options.min&&(n.options.mincount(n.el),n.clearErrors("min"))),-1!==n.options.max)if(i===n.options.max&&0!==n.options.max)n.options.maxcount(n.el),n.clearErrors("max");else if(i>n.options.max&&0!==n.options.max)if(n.options.stopInputAtMaximum){var l="";if("word"==n.options.type)for(var c=o.split(/[^\S\n]/g),d=0;d<c.length&&!(d>=n.options.max);)void 0!==c[d]&&(l+=c[d]+" ",d++);else{var u=n.options.twoCharCarriageReturn?n.options.max-n.twoCharCarriageReturnCount(o):n.options.max;if(n.options.countSpaces)l=o.substring(0,u);else{var h=o.split(""),p=h.length,f=0;for(d=0;f<u&&d<p;)" "!==h[d]&&f++,l+=h[d++]}}t.val(l.trim()),i=n.textCount(t.val()),r=n.options.countDown?n.options.max-i:i,n.setCount(r)}else n.setErrors("max");else n.options.maxunder(n.el),n.clearErrors("max");-1==n.options.minDisplayCutoff&&-1==n.options.maxDisplayCutoff||i<=n.options.min+n.options.minDisplayCutoff||-1!==n.options.max&&i>=n.options.max-n.options.maxDisplayCutoff?n.$container.show():n.$container.hide()},n.textCount=function(e){return"word"==n.options.type?n.wordCount(e):n.characterCount(e)},n.wordCount=function(e){return e.trim().replace(/\s+/gi," ").split(" ").length},n.characterCount=function(e){var t=0,o=0;if(n.options.twoCharCarriageReturn&&(o=n.twoCharCarriageReturnCount(e)),t=n.options.countSpaces?e.replace(/[^\S\n|\r|\r\n]/g," ").length:e.replace(/\s/g,"").length,n.options.countExtendedCharacters){var i=e.match(/[^\x00-\xff]/gi);t=null==i?e.length:e.length+i.length}return n.options.twoCharCarriageReturn&&(t+=o),t},n.twoCharCarriageReturnCount=function(e){var t=e.match(/(\r\n|\n|\r)/g),n=0;return null!==t&&(n=t.length),n},n.setCount=function(e){n.$text_counter.text(e)},n.setErrors=function(e){var t=n.$el,o=n.$container,i="";switch(t.addClass(n.options.inputErrorClass),o.addClass(n.options.counterErrorClass),e){case"min":i=n.options.minimumErrorText;break;case"max":i=n.options.maximumErrorText,n.options.countOverflow&&n.setOverflowMessage()}n.options.displayErrorText&&(o.children(".error-text-"+e).length||o.append("<"+n.options.errorTextElement+' class="error-text error-text-'+e+'">'+i+"</"+n.options.errorTextElement+">"))},n.setOverflowMessage=function(){n.hideMessage(n.$container.find("."+n.options.textCountMessageClass)),n.removeOverflowMessage();var e=n.options.countOverflowText.replace("%d",n.textCount(n.$el.val())-n.options.max).replace("%type",n.options.type+"s"),t=n.$container.find("."+n.options.countOverflowContainerClass).append(e);n.showMessage(t)},n.removeOverflowMessage=function(){n.$container.find("."+n.options.countOverflowContainerClass).empty()},n.showMessage=function(e){e.css("display","inline")},n.hideMessage=function(e){e.css("display","none")},n.clearErrors=function(e){var t=n.$el,o=n.$container;o.children(".error-text-"+e).remove(),0==o.children(".error-text").length&&(n.removeOverflowMessage(),n.showMessage(n.$container.find("."+n.options.textCountMessageClass)),t.removeClass(n.options.inputErrorClass),o.removeClass(n.options.counterErrorClass))},n.init()},$.textcounter.defaultOptions={type:"character",min:0,max:200,autoCustomAttr:"counterlimit",countContainerElement:"div",countContainerClass:"text-count-wrapper",textCountMessageClass:"text-count-message",textCountClass:"text-count",inputErrorClass:"error",counterErrorClass:"error",counterText:"Total Count: %d",errorTextElement:"div",minimumErrorText:"Minimum not met",maximumErrorText:"Maximum exceeded",displayErrorText:!0,stopInputAtMaximum:!0,countSpaces:!1,countDown:!1,countDownText:"Remaining: %d",countExtendedCharacters:!1,twoCharCarriageReturn:!1,countOverflow:!1,countOverflowText:"Maximum %type exceeded by %d",countOverflowContainerClass:"text-count-overflow-wrapper",minDisplayCutoff:-1,maxDisplayCutoff:-1,maxunder:function(e){},minunder:function(e){},maxcount:function(e){},mincount:function(e){},init:function(e){}},$.fn.textcounter=function(e){return this.each((function(){new $.textcounter(this,e)}))}}(jQuery),tempusDominus.extend(tempusDominus.plugins.moment_parse,"YYYY-MM-DD HH:mm"),$((function(){$("form").dirtyForms(),$.DirtyForms.dialog=!1,$("#toggleExpand").click((function(){$(".info-collapse").toggleClass("info-hide")})),setTimeout((function(){$(".alert-auto-close").slideUp("slow")}),2e3),$("#showVersions").collapse("hide"),$('[data-bs-toggle="popover"]').popover(),$('[data-bs-toggle="tooltip"]').tooltip();new ClipboardJS(".copy-btn");if($(".dp").tempusDominus({display:{icons:{time:"bi bi-clock",date:"bi bi-calendar",up:"bi bi-arrow-up",down:"bi bi-arrow-down",previous:"bi bi-chevron-left",next:"bi bi-chevron-right",today:"bi bi-calendar-check",clear:"bi bi-trash",close:"bi bi-x"},components:{seconds:!1}},localization:{hourCycle:"h24"}}),$(".image-checkbox").each((function(){$(this).find('input[type="checkbox"]').first().attr("checked")?$(this).addClass("image-checkbox-checked"):$(this).removeClass("image-checkbox-checked")})),$(".image-checkbox").on("click",(function(e){$(this).toggleClass("image-checkbox-checked");var t=$(this).find('input[type="checkbox"]');t.prop("checked",!t.prop("checked")),e.preventDefault()})),$(".filter-images").keyup((function(){var e=$(this).val(),t=new RegExp("^"+e,"i");$(".image-checkbox").not(".image-checkbox-checked").each((function(){var e=t.test($(".card-footer",this).text());$(this).toggle(e)}))})),Dropzone.options.myDropzone={init:function(){this.on("success",(function(e,t){e.previewTemplate.appendChild(document.createTextNode(t))}))}},Dropzone.options.dropAddons={init:function(){this.on("success",(function(e,t){window.location.href="acp.php?tn=moduls&sub=u"}))}},$(".cntWords").textcounter({type:"word",stopInputAtMaximum:!1,counterText:"%d"}),$(".cntChars").textcounter({type:"character",stopInputAtMaximum:!1,counterText:"%d"}),ace.config.set("basePath","/acp/theme/js/ace"),ace.config.set("modePath","/acp/theme/js/ace"),ace.config.set("themePath","/acp/theme/js/ace"),0!=$("#CSSeditor").length){var e=ace.edit("CSSeditor"),t=$("textarea[class*=aceEditor_css]").hide();e.$blockScrolling=1/0,e.getSession().setValue(t.val()),e.setTheme("ace/theme/"+ace_theme),e.getSession().setMode("ace/mode/css"),e.getSession().setUseWorker(!1),e.setShowPrintMargin(!1),e.getSession().on("change",(function(){t.val(e.getSession().getValue())}))}if(0!=$("#HTMLeditor").length){var n=ace.edit("HTMLeditor"),o=$("textarea[class*=aceEditor_html]").hide();n.$blockScrolling=1/0,n.getSession().setValue(o.val()),n.setTheme("ace/theme/"+ace_theme),n.getSession().setMode({path:"ace/mode/html",inline:!0}),n.getSession().setUseWorker(!1),n.setShowPrintMargin(!1),n.getSession().on("change",(function(){o.val(n.getSession().getValue())}))}$("textarea[data-editor]").each((function(){var e=$(this),t=e.data("editor"),n=$("<div>",{position:"absolute",width:"100%",height:"400px",class:e.attr("class")}).insertBefore(e);e.css("display","none");var o=ace.edit(n[0]);o.$blockScrolling=1/0,o.getSession().setValue(e.val()),o.setTheme("ace/theme/"+ace_theme),o.getSession().setMode("ace/mode/"+t),o.getSession().setUseWorker(!1),o.setShowPrintMargin(!1),o.setReadOnly(!0)})),u(),$("div.scroll-box").each((function(){var e=$(this).offset().top,t=$("div.app-container").innerHeight()-e+80;$(this).height(t)}));var i=sessionStorage.getItem("sidebarState"),r=sessionStorage.getItem("sidebarHelpState");function s(e,t){sessionStorage.setItem(e,t)}function a(){$("#page-sidebar-inner").addClass("sidebar-collapsed").removeClass("sidebar-expanded"),$("#page-content").addClass("sb-collapsed").removeClass("sb-expanded"),$("#page-sidebar").addClass("sb-collapsed").removeClass("sb-expanded"),$(".caret_left").addClass("d-none"),$(".caret_right").removeClass("d-none")}function l(){$("#collapseSupport").addClass("d-none").removeClass("col-3"),s("sidebarHelpState","hidden")}function c(){$("#collapseSupport").addClass("col-3").removeClass("d-none"),s("sidebarHelpState","expanded")}function d(e,t){return response=null,$.ajax({url:"core/ajax/show-docs.php",type:"post",async:!1,data:{file:e,csrf_token:t},success:function(e){response=$.parseJSON(e)}}),response}function u(){var e=$("div.app-container");if(e.length)if(window.matchMedia("(max-width: 767px)").matches)e.height("auto");else{var t=e.offset().top,n=$(window).height()-t;e.height(n)}}function h(e,t){return e=e*((t=parseInt(t))+100)/100}if(windowWidth=$(window).width(),$(window).resize((function(){windowWidth=$(window).width(),windowWidth<992||i?($("#page-sidebar-inner").addClass("sidebar-collapsed").removeClass("sidebar-expanded"),$("#page-content").addClass("sb-collapsed").removeClass("sb-expanded"),$("#page-sidebar").addClass("sb-collapsed").removeClass("sb-expanded")):($("#page-sidebar-inner").addClass("sidebar-expanded").removeClass("sidebar-collapsed"),$("#page-content").addClass("sb-expanded").removeClass("sb-collapsed"),$("#page-sidebar").addClass("sb-expanded").removeClass("sb-collapsed"))})),"collapsed"==i?a():windowWidth<992||i?($("#page-sidebar-inner").addClass("sidebar-collapsed").removeClass("sidebar-expanded"),$("#page-content").addClass("sb-collapsed").removeClass("sb-expanded"),$("#page-sidebar").addClass("sb-collapsed").removeClass("sb-expanded")):($("#page-sidebar-inner").addClass("sidebar-expanded").removeClass("sidebar-collapsed"),$("#page-content").addClass("sb-expanded").removeClass("sb-collapsed"),$("#page-sidebar").addClass("sb-expanded").removeClass("sb-collapsed"),$(".caret_right").addClass("d-none"),$(".caret_left").removeClass("d-none")),"hidden"===r||null==r?l():c(),$("#toggleNav").click((function(){var e;return $("#page-sidebar-inner").hasClass("sidebar-collapsed")?($("#page-sidebar-inner").addClass("sidebar-expanded").removeClass("sidebar-collapsed"),$("#page-content").addClass("sb-expanded").removeClass("sb-collapsed"),$("#page-sidebar").addClass("sb-expanded").removeClass("sb-collapsed"),$(".caret_right").addClass("d-none"),$(".caret_left").removeClass("d-none"),e="sidebarState",sessionStorage.removeItem(e)):(a(),s("sidebarState","collapsed")),!1})),$("#toggleSupport").click((function(){return $("#collapseSupport").hasClass("d-none")?c():l(),!1})),$("#globalFilterForm").submit((function(e){return e.preventDefault(),$.ajax({type:"POST",url:"core/ajax/global-filter.php",data:$("form#globalFilterForm").serialize(),success:function(e){$("#response").html(e)}}),!1})),$("#globalFilter").on("hide.bs.offcanvas",(function(){location.reload()})),$(".page-info-btn").click((function(){var e=$(this).data("id"),t=$(this).data("token");$.ajax({url:"core/ajax/show-page-info.php",type:"post",data:{pageid:e,csrf_token:t},success:function(t){$("#infoModal .modal-body").html(t),$("#infoModal .modal-header .modal-title").html("Page ID #"+e)}})})),$(".show-doc").click((function(){var e=d($(this).data("file"),$(this).data("token"));$("#infoModal .modal-header .modal-title").html(e.header.title),$("#infoModal .modal-body").html(e.content)})),$("#infoModal").on("shown.bs.modal",(function(){$("#infoModal .jump-doc").click((function(){var e=d($(this).data("file"),$(this).data("token"));$("#infoModal .modal-header .modal-title").html(e.header.title),$("#infoModal .modal-body").html(e.content)}))})),$(window).resize((function(){u(),$("div.scroll-box").each((function(){var e=$(this).offset().top,t=$("div.app-container").innerHeight()-e+40;$(this).height(t)}))})),$("#price").val()){get_price_net=$("#price").val();var p=document.getElementById("tax"),f=p.options[p.selectedIndex].text;f=parseInt(f),get_net_calc=get_price_net.replace(/\./g,""),get_net_calc=get_net_calc.replace(",","."),current_gross=h(get_net_calc,f),current_gross=accounting.formatNumber(current_gross,8,".",","),$("#price_total").val(current_gross),calculated_net=h(get_net_calc,0),calculated_net=accounting.formatNumber(calculated_net,8,".",","),$("#calculated_net").html(calculated_net),$(".show_price_tax").html(f),$("#price").keyup((function(){get_price_net=$("#price").val(),get_net_calc=get_price_net.replace(/\./g,""),get_net_calc=get_net_calc.replace(",","."),current_gross=h(get_net_calc,f),current_gross=accounting.formatNumber(current_gross,8,".",","),$("#price_total").val(current_gross),calculated_net=h(get_net_calc,0),calculated_net=accounting.formatNumber(calculated_net,8,".",","),$("#calculated_net").html(calculated_net)})),$("#price_total").keyup((function(){var e,t;get_brutto=$("#price_total").val(),get_gross_calc=get_brutto.replace(/\./g,""),get_gross_calc=get_gross_calc.replace(",","."),current_net=(e=get_gross_calc,t=f,100*e/((t=parseInt(t))+100)),current_net=accounting.formatNumber(current_net,8,".",","),$("#price").val(current_net),$("#calculated_net").html(current_net)})),$("#price_addition").keyup((function(){get_price_net=$("#price").val(),get_net_calc=get_price_net.replace(/\./g,""),get_net_calc=get_net_calc.replace(",","."),current_gross=h(get_net_calc,f),current_gross=accounting.formatNumber(current_gross,8,".",","),$("#price_total").val(current_gross)})),$("#tax").bind("change keyup",(function(){var e=document.getElementById("tax"),t=e.options[e.selectedIndex].text;t=parseInt(t),get_price_net=$("#price").val(),get_net_calc=get_price_net.replace(",","."),current_gross=h(get_net_calc,t),current_gross=accounting.formatNumber(current_gross,8,".",","),$("#price_total").val(current_gross)}))}})),
/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2023 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */
(()=>{"use strict";const e=localStorage.getItem("backend-theme"),t=()=>e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),n=function(e){"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",e)};n(t());const o=e=>{const t=document.querySelector(".theme-icon-active"),n=document.querySelector(`[data-bs-theme-value="${e}"]`),o=n.querySelector("i").getAttribute("class");document.querySelectorAll("[data-bs-theme-value]").forEach((e=>{e.classList.remove("active")})),n.classList.add("active"),t.setAttribute("class",o)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{"light"===e&&"dark"===e||n(t())})),window.addEventListener("DOMContentLoaded",(()=>{o(t()),document.querySelectorAll("[data-bs-theme-value]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-bs-theme-value");localStorage.setItem("backend-theme",t),n(t),o(t)}))}))}))})(),function(){"use strict";var e=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},t=function(e){return{eq:e}},n=t((function(e,t){return e===t})),o=function(e){return t((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,i=0;i<o;i++)if(!e.eq(t[i],n[i]))return!1;return!0}))},i=function(e){return t((function(i,r){var s=Object.keys(i),a=Object.keys(r);if(!function(e,n){return function(e,n){return t((function(t,o){return e.eq(n(t),n(o))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(undefined)}(e)}))}(n).eq(s,a))return!1;for(var l=s.length,c=0;c<l;c++){var d=s[c];if(!e.eq(i[d],r[d]))return!1}return!0}))},r=t((function(t,n){if(t===n)return!0;var s=e(t);return s===e(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(s)?t===n:"array"===s?o(r).eq(t,n):"object"===s&&i(r).eq(t,n))}));const s=Object.getPrototypeOf,a=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},l=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&a(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,c=e=>t=>typeof t===e,d=e=>t=>e===t,u=(e,t)=>p(e)&&a(e,t,((e,t)=>s(e)===t)),h=l("string"),p=l("object"),f=e=>u(e,Object),g=l("array"),m=d(null),v=c("boolean"),y=d(void 0),b=e=>null==e,w=e=>!b(e),C=c("function"),x=c("number"),S=(e,t)=>{if(g(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},_=()=>{},k=(e,t)=>(...n)=>e(t.apply(null,n)),E=(e,t)=>n=>e(t(n)),A=e=>()=>e,T=e=>e,L=(e,t)=>e===t;function R(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const M=e=>t=>!e(t),D=e=>()=>{throw new Error(e)},O=e=>e(),N=e=>{e()},I=A(!1),F=A(!0);class P{constructor(e,t){this.tag=e,this.value=t}static some(e){return new P(!0,e)}static none(){return P.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?P.some(e(this.value)):P.none()}bind(e){return this.tag?e(this.value):P.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:P.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return w(e)?P.some(e):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const B=Array.prototype.slice,H=Array.prototype.indexOf,z=Array.prototype.push,W=(e,t)=>H.call(e,t),U=(e,t)=>W(e,t)>-1,$=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},j=(e,t)=>{const n=e.length,o=new Array(n);for(let i=0;i<n;i++){const n=e[i];o[i]=t(n,i)}return o},V=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},q=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},K=(e,t)=>{const n=[],o=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];(t(r,i)?n:o).push(r)}return{pass:n,fail:o}},G=(e,t)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];t(i,o)&&n.push(i)}return n},Y=(e,t,n)=>(q(e,((e,o)=>{n=t(n,e,o)})),n),X=(e,t,n)=>(V(e,((e,o)=>{n=t(n,e,o)})),n),Q=(e,t,n)=>{for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t(i,o))return P.some(i);if(n(i,o))break}return P.none()},Z=(e,t)=>Q(e,t,I),J=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return P.some(n);return P.none()},ee=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t},te=(e,t)=>ee(j(e,t)),ne=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=B.call(e,0);return t.reverse(),t},ie=(e,t)=>G(e,(e=>!U(t,e))),re=(e,t)=>{const n={};for(let o=0,i=e.length;o<i;o++){const i=e[o];n[String(i)]=t(i,o)}return n},se=(e,t)=>{const n=B.call(e,0);return n.sort(t),n},ae=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),le=e=>ae(e,0),ce=e=>ae(e,e.length-1),de=C(Array.from)?Array.from:e=>B.call(e),ue=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return P.none()},he=Object.keys,pe=Object.hasOwnProperty,fe=(e,t)=>{const n=he(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];t(e[i],i)}},ge=(e,t)=>me(e,((e,n)=>({k:n,v:t(e,n)}))),me=(e,t)=>{const n={};return fe(e,((e,o)=>{const i=t(e,o);n[i.k]=i.v})),n},ve=e=>(t,n)=>{e[n]=t},ye=(e,t,n,o)=>{fe(e,((e,i)=>{(t(e,i)?n:o)(e,i)}))},be=(e,t)=>{const n={};return ye(e,t,ve(n),_),n},we=(e,t)=>{const n=[];return fe(e,((e,o)=>{n.push(t(e,o))})),n},Ce=e=>we(e,T),xe=(e,t)=>Se(e,t)?P.from(e[t]):P.none(),Se=(e,t)=>pe.call(e,t),_e=(e,t)=>Se(e,t)&&void 0!==e[t]&&null!==e[t],ke=e=>{const t={};return V(e,(e=>{t[e]={}})),he(t)},Ee=e=>void 0!==e.length,Ae=Array.isArray,$e=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ee(e)){for(let o=0,i=e.length;o<i;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(Se(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Te=(e,t)=>{const n=[];return $e(e,((o,i)=>{n.push(t(o,i,e))})),n},Le=(e,t)=>{const n=[];return $e(e,((o,i)=>{t&&!t(o,i,e)||n.push(o)})),n},Re=(e,t,n,o)=>{let i=y(n)?e[0]:n;for(let n=0;n<e.length;n++)i=t.call(o,i,e[n],n);return i},Me=(e,t,n)=>{for(let o=0,i=e.length;o<i;o++)if(t.call(n,e[o],o,e))return o;return-1},De=e=>e[e.length-1],Oe=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ne=()=>Ie(0,0),Ie=(e,t)=>({major:e,minor:t}),Fe={nu:Ie,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Ne():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ie(o(1),o(2))})(e,n)},unknown:Ne},Pe=(e,t)=>{const n=String(t).toLowerCase();return Z(e,(e=>e.search(n)))},Be=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,He=(e,t)=>We(e,t)?((e,t)=>e.substring(t))(e,t.length):e,ze=(e,t,n=0,o)=>{const i=e.indexOf(t,n);return-1!==i&&(!!y(o)||i+t.length<=o)},We=(e,t)=>Be(e,t,0),Ue=(e,t)=>Be(e,t,e.length-t.length),je=e=>t=>t.replace(e,""),Ve=je(/^\s+|\s+$/g),qe=je(/^\s+/g),Ke=je(/\s+$/g),Ge=e=>e.length>0,Ye=e=>!Ge(e),Xe=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?P.none():P.some(n)},Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ze=e=>t=>ze(t,e),Je=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ze(e,"edge/")&&ze(e,"chrome")&&ze(e,"safari")&&ze(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:e=>ze(e,"chrome")&&!ze(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ze(e,"msie")||ze(e,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ze("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ze("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ze(e,"safari")||ze(e,"mobile/"))&&ze(e,"applewebkit")}],et=[{name:"Windows",search:Ze("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ze(e,"iphone")||ze(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ze("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ze("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ze("linux"),versionRegexes:[]},{name:"Solaris",search:Ze("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ze("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ze("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],tt={browsers:A(Je),oses:A(et)},nt="Edge",ot="Chromium",it="Opera",rt="Firefox",st="Safari",at=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(nt),isChromium:o(ot),isIE:o("IE"),isOpera:o(it),isFirefox:o(rt),isSafari:o(st)}},lt=()=>at({current:void 0,version:Fe.unknown()}),ct=at,dt=(A(nt),A(ot),A("IE"),A(it),A(rt),A(st),"Windows"),ut="Android",ht="Linux",pt="macOS",ft="Solaris",gt="FreeBSD",mt="ChromeOS",vt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(dt),isiOS:o("iOS"),isAndroid:o(ut),isMacOS:o(pt),isLinux:o(ht),isSolaris:o(ft),isFreeBSD:o(gt),isChromeOS:o(mt)}},yt=()=>vt({current:void 0,version:Fe.unknown()}),bt=vt,wt=(A(dt),A("iOS"),A(ut),A(ht),A(pt),A(ft),A(gt),A(mt),e=>window.matchMedia(e).matches);let Ct=Oe((()=>((e,t,n)=>{const o=tt.browsers(),i=tt.oses(),r=t.bind((e=>((e,t)=>ue(t.brands,(t=>{const n=t.brand.toLowerCase();return Z(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Fe.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>Pe(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(lt,ct),s=((e,t)=>Pe(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(yt,bt),a=((e,t,n,o)=>{const i=e.isiOS()&&!0===/ipad/i.test(n),r=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=i||!r&&s&&o("(min-device-width:768px)"),c=r||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:A(i),isiPhone:A(r),isTablet:A(l),isPhone:A(c),isTouch:A(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(d),isDesktop:A(u)}})(s,r,e,n);return{browser:r,os:s,deviceType:a}})(navigator.userAgent,P.from(navigator.userAgentData),wt)));const xt=()=>Ct(),St=navigator.userAgent,_t=xt(),kt=_t.browser,Et=_t.os,At=_t.deviceType,$t=-1!==St.indexOf("Windows Phone"),Tt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:kt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!kt.isIE(),windowsPhone:$t,browser:{current:kt.current,version:kt.version,isChromium:kt.isChromium,isEdge:kt.isEdge,isFirefox:kt.isFirefox,isIE:kt.isIE,isOpera:kt.isOpera,isSafari:kt.isSafari},os:{current:Et.current,version:Et.version,isAndroid:Et.isAndroid,isChromeOS:Et.isChromeOS,isFreeBSD:Et.isFreeBSD,isiOS:Et.isiOS,isLinux:Et.isLinux,isMacOS:Et.isMacOS,isSolaris:Et.isSolaris,isWindows:Et.isWindows},deviceType:{isDesktop:At.isDesktop,isiPad:At.isiPad,isiPhone:At.isiPhone,isPhone:At.isPhone,isTablet:At.isTablet,isTouch:At.isTouch,isWebView:At.isWebView}},Lt=/^\s*|\s*$/g,Rt=e=>b(e)?"":(""+e).replace(Lt,""),Mt=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),$e(e,((e,i)=>!1!==t.call(o,e,i,n)&&(Mt(e,t,n,o),!0))))},Dt={trim:Rt,isArray:Ae,is:(e,t)=>t?!("array"!==t||!Ae(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ae(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const o=h(e)?e.split(t||","):e||[];let i=o.length;for(;i--;)n[o[i]]={};return n},each:$e,map:Te,grep:Le,inArray:(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},hasOwn:Se,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(Se(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},walk:Mt,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,o=n.length;e<o&&(t=t[n[e]]);e++);return t},explode:(e,t)=>g(e)?e:""===e?[]:Te(e.split(t||","),Rt),_addCacheSuffix:e=>{const t=Tt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Ot=(e,t,n=L)=>e.exists((e=>n(e,t))),Nt=(e,t,n=L)=>It(e,t,n).getOr(e.isNone()&&t.isNone()),It=(e,t,n)=>e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none(),Ft=(e,t)=>e?P.some(t):P.none(),Pt="undefined"!=typeof window?window:Function("return this;")(),Bt=(e,t)=>((e,t)=>{let n=null!=t?t:Pt;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),Ht=Object.getPrototypeOf,zt=e=>e.dom.nodeName.toLowerCase(),Wt=e=>e.dom.nodeType,Ut=e=>t=>Wt(t)===e,jt=e=>Vt(e)&&(e=>{const t=Bt("ownerDocument.defaultView",e);return p(e)&&((e=>((e,t)=>{const n=((e,t)=>Bt("HTMLElement",t))(0,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ht(e).constructor.name))})(e.dom),Vt=Ut(1),qt=Ut(3),Kt=Ut(9),Gt=Ut(11),Yt=e=>t=>Vt(t)&&zt(t)===e,Xt=(e,t,n)=>{if(!(h(n)||v(n)||x(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Qt=(e,t,n)=>{Xt(e.dom,t,n)},Zt=(e,t)=>{const n=e.dom;fe(t,((e,t)=>{Xt(n,t,e)}))},Jt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},en=(e,t)=>P.from(Jt(e,t)),tn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},nn=(e,t)=>{e.dom.removeAttribute(t)},on=e=>X(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),rn=(e,t)=>{const n=Jt(e,t);return void 0===n||""===n?[]:n.split(" ")},sn=e=>void 0!==e.dom.classList,an=e=>rn(e,"class"),ln=(e,t)=>((e,t,n)=>{const o=rn(e,t).concat([n]);return Qt(e,t,o.join(" ")),!0})(e,"class",t),cn=(e,t)=>((e,t,n)=>{const o=G(rn(e,t),(e=>e!==n));return o.length>0?Qt(e,t,o.join(" ")):nn(e,t),!1})(e,"class",t),dn=(e,t)=>{sn(e)?e.dom.classList.add(t):ln(e,t)},un=e=>{0===(sn(e)?e.dom.classList:an(e)).length&&nn(e,"class")},hn=(e,t)=>{sn(e)?e.dom.classList.remove(t):cn(e,t),un(e)},pn=(e,t)=>sn(e)&&e.dom.classList.contains(t),fn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},gn=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return fn(n.childNodes[0])},mn=(e,t)=>{const n=(t||document).createElement(e);return fn(n)},vn=(e,t)=>{const n=(t||document).createTextNode(e);return fn(n)},yn=fn,bn=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let i=t(e);do{i=i.bind(o)}while(i.isSome());return n},wn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Cn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xn=(e,t)=>e.dom===t.dom,Sn=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},_n=e=>yn(e.dom.ownerDocument),kn=e=>Kt(e)?e:_n(e),En=e=>yn(kn(e).dom.defaultView),An=e=>P.from(e.dom.parentNode).map(yn),$n=e=>P.from(e.dom.parentElement).map(yn),Tn=(e,t)=>{const n=C(t)?t:I;let o=e.dom;const i=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=yn(e);if(i.push(t),!0===n(t))break;o=e}return i},Ln=e=>P.from(e.dom.previousSibling).map(yn),Rn=e=>P.from(e.dom.nextSibling).map(yn),Mn=e=>oe(bn(e,Ln)),Dn=e=>bn(e,Rn),On=e=>j(e.dom.childNodes,yn),Nn=(e,t)=>{const n=e.dom.childNodes;return P.from(n[t]).map(yn)},In=e=>Nn(e,0),Fn=e=>Nn(e,e.dom.childNodes.length-1),Pn=e=>e.dom.childNodes.length,Bn=e=>Gt(e)&&w(e.dom.host),Hn=C(Element.prototype.attachShadow)&&C(Node.prototype.getRootNode),zn=A(Hn),Wn=Hn?e=>yn(e.dom.getRootNode()):kn,Un=e=>Bn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return yn(t)})(kn(e)),jn=e=>yn(e.dom.host),Vn=e=>{if(zn()&&w(e.target)){const t=yn(e.target);if(Vt(t)&&qn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return le(t)}}return P.from(e.target)},qn=e=>w(e.dom.shadowRoot),Kn=e=>{const t=qt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Wn(e);return Bn(t)?P.some(t):P.none()})(yn(t)).fold((()=>n.body.contains(t)),E(Kn,jn))};var Gn=(e,t,n,o,i)=>e(n,o)?P.some(n):C(i)&&i(n)?P.none():t(n,o,i);const Yn=(e,t,n)=>{let o=e.dom;const i=C(n)?n:I;for(;o.parentNode;){o=o.parentNode;const e=yn(o);if(t(e))return P.some(e);if(i(e))break}return P.none()},Xn=(e,t,n)=>Gn(((e,t)=>t(e)),Yn,e,t,n),Qn=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const i=yn(e.childNodes[o]);if(t(i))return P.some(i);const r=n(e.childNodes[o]);if(r.isSome())return r}return P.none()};return n(e.dom)},Zn=(e,t,n)=>Yn(e,(e=>wn(e,t)),n),Jn=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Cn(n)?P.none():P.from(n.querySelector(e)).map(yn)})(t,e),eo=(e,t,n)=>Gn(((e,t)=>wn(e,t)),Zn,e,t,n),to=(e,t=!1)=>{return Kn(e)?e.dom.isContentEditable:(n=e,eo(n,"[contenteditable]")).fold(A(t),(e=>"true"===no(e)));var n},no=e=>e.dom.contentEditable,oo=e=>void 0!==e.style&&C(e.style.getPropertyValue),io=(e,t,n)=>{if(!h(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);oo(e)&&e.style.setProperty(t,n)},ro=(e,t,n)=>{const o=e.dom;io(o,t,n)},so=(e,t)=>{const n=e.dom;fe(t,((e,t)=>{io(n,t,e)}))},ao=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Kn(e)?o:lo(n,t)},lo=(e,t)=>oo(e)?e.style.getPropertyValue(t):"",co=(e,t)=>{const n=e.dom,o=lo(n,t);return P.from(o).filter((e=>e.length>0))},uo=e=>{const t={},n=e.dom;if(oo(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},ho=(e,t)=>{((e,t)=>{oo(e)&&e.style.removeProperty(t)})(e.dom,t),Ot(en(e,"style").map(Ve),"")&&nn(e,"style")},po=(e,t)=>{An(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},fo=(e,t)=>{Rn(e).fold((()=>{An(e).each((e=>{mo(e,t)}))}),(e=>{po(e,t)}))},go=(e,t)=>{In(e).fold((()=>{mo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},mo=(e,t)=>{e.dom.appendChild(t.dom)},vo=(e,t)=>{po(e,t),mo(t,e)},yo=(e,t)=>{V(t,(t=>{mo(e,t)}))},bo=e=>{e.dom.textContent="",V(On(e),(e=>{wo(e)}))},wo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Co=e=>{const t=On(e);var n,o;t.length>0&&(n=e,V(o=t,((e,t)=>{const i=0===t?n:o[t-1];fo(i,e)}))),wo(e)},xo=e=>j(e,yn),So=e=>e.dom.innerHTML,_o=(e,t)=>{const n=_n(e).dom,o=yn(n.createDocumentFragment()),i=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,On(yn(n))})(t,n);yo(o,i),bo(e),mo(e,o)},ko=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Eo=(e,t)=>({left:e,top:t,translate:(n,o)=>Eo(e+n,t+o)}),Ao=Eo,$o=(e,t)=>void 0!==e?e:void 0!==t?t:0,To=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Ao(n.offsetLeft,n.offsetTop):Kn(e)?(e=>{const t=e.getBoundingClientRect();return Ao(t.left,t.top)})(t):Ao(0,0)},Lo=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Ao(n,o)},Ro=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Mo=(e,t)=>{xt().browser.isSafari()&&C(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Do=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Oo=e=>{const t=void 0===e?window:e,n=t.document,o=Lo(yn(n));return(e=>{const t=void 0===e?window:e;return xt().browser.isFirefox()?P.none():P.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Do(o.left,o.top,n,i)}),(e=>Do(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},No=(e,t)=>{let n=[];return V(On(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(No(e,t))})),n},Io=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Cn(n)?[]:j(n.querySelectorAll(e),yn)})(t,e),Fo=(e,t,n)=>Zn(e,t,n).isSome();class Po{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const Bo=e=>t=>!!t&&t.nodeType===e,Ho=e=>!!e&&!Object.getPrototypeOf(e),zo=Bo(1),Wo=e=>zo(e)&&jt(yn(e)),Uo=e=>{const t=e.toLowerCase();return e=>w(e)&&e.nodeName.toLowerCase()===t},jo=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return U(t,n)}return!1}},Vo=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(zo(t)){const o=t.ownerDocument.defaultView;if(o)for(let i=0;i<n.length;i++){const r=o.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}}return!1}},qo=e=>t=>zo(t)&&t.hasAttribute(e),Ko=e=>zo(e)&&e.hasAttribute("data-mce-bogus"),Go=e=>zo(e)&&"TABLE"===e.tagName,Yo=e=>t=>{if(Wo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Xo=jo(["textarea","input"]),Qo=Bo(3),Zo=Bo(4),Jo=Bo(7),ei=Bo(8),ti=Bo(9),ni=Bo(11),oi=Uo("br"),ii=Uo("img"),ri=Yo("true"),si=Yo("false"),ai=jo(["td","th"]),li=jo(["td","th","caption"]),ci=jo(["video","audio","object","embed"]),di=Uo("li"),ui=Uo("details"),hi=Uo("summary"),pi="\ufeff",fi="Â ",gi=e=>e===pi,mi=((e,t)=>{const n=t=>e(t)?P.from(t.dom.nodeValue):P.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(qt),vi=e=>mi.get(e),yi=e=>mi.getOption(e),bi=e=>{let t;return n=>(t=t||re(e,F),Se(t,zt(n)))},wi=e=>Vt(e)&&"br"===zt(e),Ci=bi(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),xi=bi(["ul","ol","dl"]),Si=bi(["li","dd","dt"]),_i=bi(["thead","tbody","tfoot"]),ki=bi(["td","th"]),Ei=bi(["pre","script","textarea","style"]),Ai=()=>{const e=mn("br");return Qt(e,"data-mce-bogus","1"),e},$i=e=>{bo(e),mo(e,Ai())},Ti=pi,Li=gi,Ri=e=>e.replace(/\uFEFF/g,""),Mi=zo,Di=Qo,Oi=e=>(Di(e)&&(e=e.parentNode),Mi(e)&&e.hasAttribute("data-mce-caret")),Ni=e=>Di(e)&&Li(e.data),Ii=e=>Oi(e)||Ni(e),Fi=e=>e.firstChild!==e.lastChild||!oi(e.firstChild),Pi=e=>{const t=e.container();return!!Qo(t)&&(t.data.charAt(e.offset())===Ti||e.isAtStart()&&Ni(t.previousSibling))},Bi=e=>{const t=e.container();return!!Qo(t)&&(t.data.charAt(e.offset()-1)===Ti||e.isAtEnd()&&Ni(t.nextSibling))},Hi=e=>Di(e)&&e.data[0]===Ti,zi=e=>Di(e)&&e.data[e.data.length-1]===Ti,Wi=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),o=n[n.length-1];Ko(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ui=e=>Oi(e.startContainer),ji=ri,Vi=si,qi=oi,Ki=Qo,Gi=jo(["script","style","textarea"]),Yi=jo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xi=jo(["table"]),Qi=Ii,Zi=e=>!Qi(e)&&(Ki(e)?!Gi(e.parentNode):Yi(e)||qi(e)||Xi(e)||Ji(e)),Ji=e=>!(e=>zo(e)&&"true"===e.getAttribute("unselectable"))(e)&&Vi(e),er=(e,t)=>Zi(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Ji(n))return!1;if(ji(n))return!0}return!0})(e,t),tr=/^[ \t\r\n]*$/,nr=e=>tr.test(e),or=e=>{for(const t of e)if(!gi(t))return!1;return!0},ir=e=>"\n"===e||"\r"===e,rr=(e,t=4,n=!0,o=!0)=>{const i=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),r=e.replace(/\t/g,i),s=X(r,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===fi?e.pcIsSpace||""===e.str&&n||e.str.length===r.length-1&&o||((e,t)=>t<e.length&&t>=0&&ir(e[t]))(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+fi}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ir(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},sr=(e,t)=>Zi(e)&&!((e,t)=>Qo(e)&&nr(e.data)&&!((e,t)=>{const n=yn(t),o=yn(e);return Fo(o,"pre,code",R(xn,n))})(e,t))(e,t)||(e=>zo(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ar(e),ar=qo("data-mce-bookmark"),lr=qo("data-mce-bogus"),cr=e=>zo(e)&&"all"===e.getAttribute("data-mce-bogus"),dr=e=>$n(yn(e)).exists((e=>!to(e))),ur=(e,t=!0)=>((e,t)=>{let n=0;if(sr(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const i=new Po(o,e);do{if(t){if(cr(o)){o=i.next(!0);continue}if(lr(o)){o=i.next();continue}}if(ri(o)&&dr(o))return!1;if(oi(o))n++,o=i.next();else{if(sr(o,e))return!1;o=i.next()}}while(o);return n<=1}})(e.dom,t),hr=e=>"svg"===e.toLowerCase(),pr=e=>hr(e.nodeName),fr=e=>"svg"===(null==e?void 0:e.nodeName)?"svg":"html",gr=["svg"],mr="data-mce-block",vr=e=>j((e=>G(he(e),(e=>!/[A-Z]/.test(e))))(e),(e=>`${e}:`+j(gr,(t=>`not(${t} ${e})`)).join(":"))).join(","),yr=(e,t)=>w(t.querySelector(e))?(t.setAttribute(mr,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(mr),!1),br=(e,t)=>{const n=vr(e.getTransparentElements()),o=vr(e.getBlockElements());return G(t.querySelectorAll(n),(e=>yr(o,e)))},wr=(e,t)=>{var n;const o=t?"lastChild":"firstChild";for(let t=e[o];t;t=t[o])if(ur(yn(t)))return void(null===(n=t.parentNode)||void 0===n||n.removeChild(t))},Cr=(e,t)=>{const n=br(e,t);((e,t,n)=>{const o=e.getBlockElements(),i=yn(t),r=e=>zt(e)in o,s=e=>xn(e,i);V(xo(n),(t=>{Yn(t,r,s).each((n=>{const o=((t,o)=>G(On(t),(t=>r(t)&&!e.isValidChild(zt(n),zt(t)))))(t);if(o.length>0){const t=$n(n);V(o,(e=>{Yn(e,r,s).each((t=>{((e,t)=>{const n=document.createRange(),o=e.parentNode;if(o){n.setStartBefore(e),n.setEndBefore(t);const i=n.extractContents();wr(i,!0),n.setStartAfter(t),n.setEndAfter(e);const r=n.extractContents();wr(r,!1),ur(yn(i))||o.insertBefore(i,e),ur(yn(t))||o.insertBefore(t,e),ur(yn(r))||o.insertBefore(r,e),o.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>br(e,t.dom)))}}))}))})(e,t,n),((e,t,n)=>{V([...n,...Er(e,t)?[t]:[]],(t=>V(Io(yn(t),t.nodeName.toLowerCase()),(t=>{Ar(e,t.dom)&&Co(t)}))))})(e,t,n)},xr=(e,t)=>{if(kr(e,t)){const n=vr(e.getBlockElements());yr(n,t)}},Sr=e=>e.hasAttribute(mr),_r=(e,t)=>Se(e.getTransparentElements(),t),kr=(e,t)=>zo(t)&&_r(e,t.nodeName),Er=(e,t)=>kr(e,t)&&Sr(t),Ar=(e,t)=>kr(e,t)&&!Sr(t),$r=(e,t)=>1===t.type&&_r(e,t.name)&&h(t.attr(mr)),Tr=xt().browser,Lr=e=>Z(e,Vt),Rr=(e,t)=>e.children&&U(e.children,t),Mr=(e,t={})=>{let n=0;const o={},i=yn(e),r=kn(i),s=e=>{mo(Un(i),e)},a=e=>{const t=Un(i);Jn(t,"#"+e).each(wo)},l=e=>xe(o,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),c=e=>new Promise(((n,i)=>{let a;const c=Dt._addCacheSuffix(e),d=l(c);o[c]=d,d.count++;const u=(e,t)=>{V(e,N),d.status=t,d.passed=[],d.failed=[],a&&(a.onload=null,a.onerror=null,a=null)},h=()=>u(d.passed,2),p=()=>u(d.failed,3);if(n&&d.passed.push(n),i&&d.failed.push(i),1===d.status)return;if(2===d.status)return void h();if(3===d.status)return void p();d.status=1;const f=mn("link",r.dom);Zt(f,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&Qt(f,"crossOrigin","anonymous"),t.referrerPolicy&&Qt(f,"referrerpolicy",t.referrerPolicy),a=f.dom,a.onload=h,a.onerror=p,s(f),Qt(f,"href",c)})),d=e=>{const t=Dt._addCacheSuffix(e);xe(o,t).each((e=>{0==--e.count&&(delete o[t],a(e.id))}))};return{load:c,loadRawCss:(e,t)=>{const n=l(e);o[e]=n,n.count++;const i=mn("style",r.dom);Zt(i,{rel:"stylesheet",type:"text/css",id:n.id}),i.dom.innerHTML=t,s(i)},loadAll:e=>Promise.allSettled(j(e,(e=>c(e).then(A(e))))).then((e=>{const t=K(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(j(t.fail,(e=>e.reason))):j(t.pass,(e=>e.value))})),unload:d,unloadRawCss:e=>{xe(o,e).each((t=>{0==--t.count&&(delete o[e],a(t.id))}))},unloadAll:e=>{V(e,(e=>{d(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Dr=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const o=Wn(t).dom;return P.from(e.get(o)).getOrThunk((()=>{const t=Mr(o,n);return e.set(o,t),t}))}}})(),Or=(e,t,n)=>w(e)&&(sr(e,t)||n.isInline(e.nodeName.toLowerCase())),Nr=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Ir=(e,t,n,o)=>{var i;const r=o||t;if(zo(t)&&Nr(t))return t;const s=t.childNodes;for(let t=s.length-1;t>=0;t--)Ir(e,s[t],n,r);if(zo(t)){const e=t.childNodes;1===e.length&&Nr(e[0])&&(null===(i=t.parentNode)||void 0===i||i.insertBefore(e[0],t))}return(e=>ni(e)||ti(e))(t)||sr(t,r)||(e=>!!zo(e)&&e.childNodes.length>0)(t)||((e,t,n)=>Qo(e)&&e.data.length>0&&((e,t,n)=>{const o=new Po(e,t).prev(!1),i=new Po(e,t).next(!1),r=y(o)||Or(o,t,n),s=y(i)||Or(i,t,n);return r&&s})(e,t,n))(t,r,n)||e.remove(t),t},Fr=Dt.makeMap,Pr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Br=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hr=/[<>&\"\']/g,zr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wr={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},Ur={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},jr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vr=(e,t)=>{const n={};if(e){const o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){const i=String.fromCharCode(parseInt(o[e],t));if(!Ur[i]){const t="&"+o[e+1]+";";n[i]=t,n[t]=i}}return n}
},qr=Vr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Kr=(e,t)=>e.replace(t?Pr:Br,(e=>Ur[e]||e)),Gr=(e,t)=>e.replace(t?Pr:Br,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ur[e]||"&#"+e.charCodeAt(0)+";")),Yr=(e,t,n)=>{const o=n||qr;return e.replace(t?Pr:Br,(e=>Ur[e]||o[e]||e))},Xr={encodeRaw:Kr,encodeAllRaw:e=>(""+e).replace(Hr,(e=>Ur[e]||e)),encodeNumeric:Gr,encodeNamed:Yr,getEncodeFunc:(e,t)=>{const n=Vr(t)||qr,o=Fr(e.replace(/\+/g,","));return o.named&&o.numeric?(e,t)=>e.replace(t?Pr:Br,(e=>void 0!==Ur[e]?Ur[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")):o.named?t?(e,t)=>Yr(e,t,n):Yr:o.numeric?Gr:Kr},decode:e=>e.replace(zr,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Wr[t]||String.fromCharCode(t):jr[e]||qr[e]||(e=>{const t=mn("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Qr=(e,t)=>(e=Dt.trim(e))?e.split(t||" "):[],Zr=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jr={},es=Dt.makeMap,ts=Dt.each,ns=Dt.extend,os=Dt.explode,is=(e,t={})=>{const n=es(e," ",es(e.toUpperCase()," "));return ns(n,t)},rs=e=>is("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ss=(e,t)=>{if(e){const n={};return h(e)&&(e={"*":e}),ts(e,((e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?es(e,/[, ]/):os(e,/[, ]/)})),n}},as=(e={})=>{var t;const n={},o={};let i=[];const r={},s={},a=(t,n,o)=>{const i=e[t];if(i)return es(i,/[, ]/,es(i.toUpperCase(),/[, ]/));{let e=Jr[t];return e||(e=is(n,o),Jr[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const{globalAttributes:t,phrasingContent:n,flowContent:o}=(e=>{let t,n,o;t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(t+=" xml:lang",o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{globalAttributes:t,blockContent:n,phrasingContent:o,flowContent:i}})(e),i={},r=(e,t,n)=>{i[e]={attributes:re(t,A({})),attributesOrder:t,children:re(n,A({}))}},s=(e,n="",o="")=>{const i=Qr(o),s=Qr(e);let a=s.length;const l=Qr([t,n].join(" "));for(;a--;)r(s[a],l.slice(),i)},a=(e,t)=>{const n=Qr(e),o=Qr(t);let r=n.length;for(;r--;){const e=i[n[r]];for(let t=0,n=o.length;t<n;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};return"html5-strict"!==e&&(V(Qr("acronym applet basefont big font strike tt"),(e=>{s(e,"",n)})),V(Qr("center dir isindex noframes"),(e=>{s(e,"",o)}))),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("dd div","",o),s("address dt caption","","html4"===e?n:o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type","html4"===e?n:o),s("q","cite",n),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",n),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:n),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==e&&(s("wbr"),s("ruby","",[n,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp bdi","",n),s("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[n,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",n),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",n),s("progress","value max",n),s("meter","value min max low high optimum",n),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name"),r("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&V([i.video,i.audio],(e=>{delete e.children.audio,delete e.children.video})),V(Qr("a form meter progress dfn"),(e=>{i[e]&&delete i[e].children[e]})),delete i.caption.children.table,delete i.script,i})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const d=ss(e.valid_styles),u=ss(e.invalid_styles,"map"),h=ss(e.valid_classes,"map"),p=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=a("non_empty_elements",v+" pre svg",g),b=a("move_caret_before_on_enter_elements",v+" table",g),w="h1 h2 h3 h4 h5 h6",C=a("text_block_elements",w+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",C),S=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),_=a("transparent_elements","a ins del canvas map"),k=a("wrap_block_elements","pre "+w);ts("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const E=e=>{const t=P.from(n["@"]),o=/[*?+]/;V(((e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return te(Qr(t,","),(t=>{const o=n.exec(t);if(o){const t=o[1],n=o[2],i=o[3],r=o[4],s=o[5],a={attributes:{},attributesOrder:[]};if(e.each((e=>((e,t)=>{fe(e.attributes,((e,n)=>{t.attributes[n]=e})),t.attributesOrder.push(...e.attributesOrder)})(e,a))),"#"===t?a.paddEmpty=!0:"-"===t&&(a.removeEmpty=!0),"!"===r&&(a.removeEmptyAttrs=!0),s&&((e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,o=/[*?+]/,{attributes:i,attributesOrder:r}=t;V(Qr(e,"|"),(e=>{const s=n.exec(e);if(s){const e={},n=s[1],a=s[2].replace(/[\\:]:/g,":"),l=s[3],c=s[4];if("!"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(a),e.required=!0),"-"===n)return delete i[a],void r.splice(Dt.inArray(r,a),1);if(l&&("="===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:a,value:c}),e.defaultValue=c):"~"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:a,value:c}),e.forcedValue=c):"<"===l&&(e.validValues=Dt.makeMap(c,"?"))),o.test(a)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=Zr(a),t.attributePatterns.push(n)}else i[a]||r.push(a),i[a]=e}}))})(s,a),i&&(a.outputName=n),"@"===n){if(!e.isNone())return[];e=P.some(a)}return[i?{name:n,element:a,aliasName:i}:{name:n,element:a}]}return[]}))})(t,null!=e?e:""),(({name:e,element:t,aliasName:r})=>{if(r&&(n[r]=t),o.test(e)){const n=t;n.pattern=Zr(e),i.push(n)}else n[e]=t}))},T=e=>{i=[],V(he(n),(e=>{delete n[e]})),E(e)},L=e=>{delete Jr.text_block_elements,delete Jr.block_elements,V((e=>{const t=/^(~)?(.+)$/;return te(Qr(e,","),(e=>{const n=t.exec(e);if(n){const e="~"===n[1];return[{inline:e,cloneName:e?"span":"div",name:n[2]}]}return[]}))})(null!=e?e:""),(({inline:e,name:t,cloneName:i})=>{if(o[t]=o[i],r[t]=i,y[t.toUpperCase()]={},y[t]={},e||(x[t.toUpperCase()]={},x[t]={}),!n[t]){let e=n[i];e=ns({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[t]=e}fe(o,((e,n)=>{e[i]&&(o[n]=e=ns({},o[n]),e[t]=e[i])}))}))},R=e=>{V((e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return te(Qr(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>"-"===e?"remove":"add")(e):"replace";return[{operation:t,name:n[2],validChildren:Qr(n[3],"|")}]}return[]}))})(null!=e?e:""),(({operation:e,name:t,validChildren:n})=>{const i="replace"===e?{"#comment":{}}:o[t];V(n,(t=>{"remove"===e?delete i[t]:i[t]={}})),o[t]=i}))},M=e=>{const t=n[e];if(t)return t;let o=i.length;for(;o--;){const t=i[o];if(t.pattern.test(e))return t}};e.valid_elements?(T(e.valid_elements),ts(c,((e,t)=>{o[t]=e.children}))):(ts(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),ts(Qr("strong/b em/i"),(e=>{const t=Qr(e,"/");n[t[1]].outputName=t[0]})),ts(S,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),ts(Qr("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),ts(Qr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),ts(Qr("span"),(e=>{n[e].removeEmptyAttrs=!0}))),delete n.svg,L(e.custom_elements),R(e.valid_children),E(e.extended_valid_elements),R("+ol[ul|ol],+ul[ul|ol]"),ts({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=Qr(e))})),e.invalid_elements&&ts(os(e.invalid_elements),(e=>{n[e]&&delete n[e]})),M("span")||E("span[!data-mce-type|*]");const D=A(d),O=A(u),N=A(h),I=A(m),F=A(x),B=A(C),H=A(S),z=A(Object.seal(g)),W=A(f),U=A(y),$=A(b),j=A(p),q=A(_),K=A(k),G=A(Object.seal(s)),Y=(e,t)=>{const n=M(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},X=e=>Se(F(),e),Q=e=>!We(e,"#")&&Y(e)&&!X(e),Z=A(r);return{type:l,children:o,elements:n,getValidStyles:D,getValidClasses:N,getBlockElements:F,getInvalidStyles:O,getVoidElements:z,getTextBlockElements:B,getTextInlineElements:H,getBoolAttrs:I,getElementRule:M,getSelfClosingElements:W,getNonEmptyElements:U,getMoveCaretBeforeOnEnterElements:$,getWhitespaceElements:j,getTransparentElements:q,getSpecialElements:G,isValidChild:(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:Y,isBlock:X,isInline:Q,isWrapper:e=>Se(K(),e)||Q(e),getCustomElements:Z,addValidElements:E,setValidElements:T,addCustomElements:L,addValidChildren:R}},ls=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},cs=e=>(e=>{return{value:(t=e,He(t,"#").toUpperCase())};var t})(ls(e.red)+ls(e.green)+ls(e.blue)),ds=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,us=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,hs=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),ps=(e,t,n,o)=>{const i=parseInt(e,10),r=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return hs(i,r,s,a)},fs=e=>{if("transparent"===e)return P.some(hs(0,0,0,0));const t=ds.exec(e);if(null!==t)return P.some(ps(t[1],t[2],t[3],"1"));const n=us.exec(e);return null!==n?P.some(ps(n[1],n[2],n[3],n[4])):P.none()},gs=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ms=e=>fs(e).map(cs).map((e=>"#"+e.value)).getOr(e),vs=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,r={};let s,a;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<l.length;e++)r[l[e]]="\ufeff"+e,r["\ufeff"+e]=l[e];const c={parse:t=>{const s={};let a=!1;const l=e.url_converter,d=e.url_converter_scope||c,u=(e,t,n)=>{const o=s[e+"-top"+t];if(!o)return;const i=s[e+"-right"+t];if(!i)return;const r=s[e+"-bottom"+t];if(!r)return;const a=s[e+"-left"+t];if(!a)return;const l=[o,i,r,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},p=e=>{const t=s[e];if(!t)return;const n=t.indexOf(",")>-1?[t]:t.split(" ");let o=n.length;for(;o--;)if(n[o]!==n[0])return!1;return s[e]=n[0],!0},f=e=>(a=!0,r[e]),g=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>r[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),m=e=>String.fromCharCode(parseInt(e.slice(1),16)),v=e=>e.replace(/\\[0-9a-f]+/gi,m),y=(t,n,o,i,r,s)=>{if(r=r||s)return"'"+(r=g(r)).replace(/\'/g,"\\'")+"'";if(n=g(n||o||i||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return l&&(n=l.call(d,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let r;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,f)));r=o.exec(t);){o.lastIndex=r.index+r[0].length;let t=r[1].replace(i,"").toLowerCase(),l=r[2].replace(i,"");if(t&&l){if(t=v(t),l=v(l),-1!==t.indexOf("\ufeff")||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===t&&"700"===l?l="bold":"color"!==t&&"background-color"!==t||(l=l.toLowerCase()),h(e.force_hex_color)&&"off"!==e.force_hex_color&&fs(l).each((t=>{"always"!==e.force_hex_color&&1!==t.alpha||(l=ms(gs(t)))})),l=l.replace(n,y),s[t]=a?g(l,!0):l}}u("border","",!0),u("border","-width"),u("border","-color"),u("border","-style"),u("padding",""),u("margin",""),w="border-style",C="border-color",p(b="border-width")&&p(w)&&p(C)&&(s.border=s[b]+" "+s[w]+" "+s[C],delete s[b],delete s[w],delete s[C]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var b,w,C;return s},serialize:(e,t)=>{let n="";const o=(t,o)=>{const i=o[t];if(i)for(let t=0,o=i.length;t<o;t++){const o=i[t],r=e[o];r&&(n+=(n.length>0?" ":"")+o+": "+r+";")}};return t&&s?(o("*",s),o(t,s)):fe(e,((e,o)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(o,t)&&(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return c},ys={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},bs=(e,t)=>{const n=null!=t?t:{};for(const t in e)Se(ys,t)||(n[t]=e[t]);return w(e.composedPath)&&(n.composedPath=()=>e.composedPath()),w(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),w(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},ws=(e,t,n,o)=>{var i;const r=bs(t,o);return r.type=e,b(r.target)&&(r.target=null!==(i=r.srcElement)&&void 0!==i?i:n),(e=>b(e.preventDefault)||(e=>e instanceof Event||C(e.initEvent))(e))(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=F,C(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=F,C(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=F,r.stopPropagation()},(e=>e.isDefaultPrevented===F||e.isDefaultPrevented===I)(r)||(r.isDefaultPrevented=!0===r.defaultPrevented?F:I,r.isPropagationStopped=!0===r.cancelBubble?F:I,r.isImmediatePropagationStopped=I)),r},Cs=/^(?:mouse|contextmenu)|click/,xs=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},Ss=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},_s=(e,t)=>{const n=ws(e.type,e,document,t);if((e=>w(e)&&Cs.test(e.type))(e)&&y(e.pageX)&&!y(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,i=t.body,r=n;r.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return n},ks=(e,t,n)=>{const o=e.document,i={type:"ready"};if(n.domLoaded)return void t(i);const r=()=>{Ss(e,"DOMContentLoaded",r),Ss(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():xs(e,"DOMContentLoaded",r),n.domLoaded||xs(e,"load",r)};class Es{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const i=this;let r;const s=window,a=e=>{i.executeHandlers(_s(e||s.event),l)};if(!e||Qo(e)||ei(e))return n;let l;e[i.expando]?l=e[i.expando]:(l=i.count++,e[i.expando]=l,i.events[l]={}),o=o||e;const c=t.split(" ");let d=c.length;for(;d--;){let t=c[d],u=a,h=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),i.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(o,_s({type:t})):(i.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,p="focusin"===t?"focus":"blur",u=e=>{const t=_s(e||s.event);t.type="focus"===t.type?"focusin":"focusout",i.executeHandlers(t,l)}),r=i.events[l][t],r?"ready"===t&&i.domLoaded?n(_s({type:t})):r.push({func:n,scope:o}):(i.events[l][t]=r=[{func:n,scope:o}],r.fakeName=p,r.capture=h,r.nativeHandler=u,"ready"===t?ks(e,u,i):xs(e,p||t,u,h)))}return e=r=null,n}unbind(e,t,n){if(!e||Qo(e)||ei(e))return this;const o=e[this.expando];if(o){let i=this.events[o];if(t){const o=t.split(" ");let r=o.length;for(;r--;){const t=o[r],s=i[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,o=s.fakeName,r=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=o,a.capture=r,i[t]=a}}n&&0!==s.length||(delete i[t],Ss(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else fe(i,((t,n)=>{Ss(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(const e in i)if(Se(i,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||Qo(e)||ei(e))return this;const o=_s({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||Qo(e)||ei(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Es.Event=new Es;const As=Dt.each,$s=Dt.grep,Ts="data-mce-style",Ls=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Rs=(e,t,n)=>{b(n)||""===n?nn(e,t):Qt(e,t,n)},Ms=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Ds=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const e=i.nodeType;(!t||!Qo(i)||e!==o&&i.data.length)&&(n++,o=e)}return n},Os=(e,t)=>{const n=Jt(t,"style"),o=e.serialize(e.parse(n),zt(t));Rs(t,Ts,o)},Ns=(e,t,n)=>{const o=Ms(t);b(n)||""===n?ho(e,o):ro(e,o,((e,t)=>x(e)?Se(Ls,t)?e+"":e+"px":e)(n,o))},Is=(e,t={})=>{const n={},o=window,i={};let r=0;const s=Dr.forElement(yn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:as({}),c=vs({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),d=t.ownEvents?new Es:Es.Event,u=l.getBlockElements(),p=t=>t&&e&&h(t)?e.getElementById(t):t,f=e=>{const t=p(e);return w(t)?yn(t):null},m=(e,t,n="")=>{let o;const i=f(e);if(w(i)&&Vt(i)){const e=Y[t];o=e&&e.get?e.get(i.dom,t):Jt(i,t)}return w(o)?o:n},v=e=>{const t=p(e);return b(t)?[]:t.attributes},y=(e,n,o)=>{M(e,(e=>{if(zo(e)){const i=yn(e),r=""===o?null:o,s=Jt(i,n),a=Y[n];a&&a.set?a.set(i.dom,r,n):Rs(i,n,r),s!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:i.dom,attrName:n,attrValue:r})}}))},x=()=>t.root_element||e.body,S=(t,n)=>((e,t,n)=>{let o=0,i=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ao(yn(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,i=n.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:o,y:i}}let s=t;for(;s&&s!==n&&s.nodeType&&!Rr(s,n);){const e=s;o+=e.offsetLeft||0,i+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!Rr(s,n);)o-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode;i+=(e=>Tr.isFirefox()&&"table"===zt(e)?Lr(On(e)).filter((e=>"caption"===zt(e))).bind((e=>Lr(Dn(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=o?-i:0})))).getOr(0):0)(yn(t))}return{x:o,y:i}})(e.body,p(t),n),k=(e,t,n)=>{const o=p(e);var i;if(!b(o)&&(Wo(o)||zo(i=o)&&"http://www.w3.org/2000/svg"===i.namespaceURI))return n?ao(yn(o),Ms(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),o.style?o.style[t]:void 0)},E=e=>{const t=p(e);if(!t)return{w:0,h:0};let n=k(t,"width"),o=k(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},T=(e,t)=>{if(!e)return!1;const n=g(e)?e:[e];return $(n,(e=>wn(yn(e),t)))},L=(e,t,n,o)=>{const i=[];let r=p(e);o=void 0===o;const s=n||("BODY"!==x().nodeName?x().parentNode:null);if(h(t))if("*"===t)t=zo;else{const e=t;t=t=>T(t,e)}for(;r&&!(r===s||b(r.nodeType)||ti(r)||ni(r));){if(!t||t(r)){if(!o)return[r];i.push(r)}r=r.parentNode}return o?i:null},R=(e,t,n)=>{let o=t;if(e){h(t)&&(o=e=>T(e,t));for(let t=e[n];t;t=t[n])if(C(o)&&o(t))return t}return null},M=function(e,t,n){const o=null!=n?n:this;if(g(e)){const n=[];return As(e,((e,i)=>{const r=p(e);r&&n.push(t.call(o,r,i))})),n}{const n=p(e);return!!n&&t.call(o,n)}},D=(e,t)=>{M(e,(e=>{fe(t,((t,n)=>{y(e,n,t)}))}))},O=(e,t)=>{M(e,(e=>{const n=yn(e);_o(n,t)}))},N=(t,n,o,i,r)=>M(t,(t=>{const s=h(n)?e.createElement(n):n;return w(o)&&D(s,o),i&&(!h(i)&&i.nodeType?s.appendChild(i):h(i)&&O(s,i)),r?s:t.appendChild(s)})),I=(t,n,o)=>N(e.createElement(t),t,n,o,!0),F=Xr.encodeAllRaw,P=(e,t)=>M(e,(e=>{const n=yn(e);return t&&V(On(n),(e=>{qt(e)&&0===e.dom.length?wo(e):po(n,e)})),wo(n),n.dom})),B=(e,t,n)=>{M(e,(e=>{if(zo(e)){const o=yn(e),i=t.split(" ");V(i,(e=>{w(n)?(n?dn:hn)(o,e):((e,t)=>{sn(e)?e.dom.classList.toggle(t):((e,t)=>{U(an(e),t)?cn(e,t):ln(e,t)})(e,t);un(e)})(o,e)}))}}))},H=(e,t,n)=>M(t,(o=>{var i;const r=g(t)?e.cloneNode(!0):e;return n&&As($s(o.childNodes),(e=>{r.appendChild(e)})),null===(i=o.parentNode)||void 0===i||i.replaceChild(r,o),o})),z=e=>{if(zo(e)){const t="a"===e.nodeName.toLowerCase()&&!m(e,"href")&&m(e,"id");if(m(e,"name")||m(e,"data-mce-bookmark")||t)return!0}return!1},W=()=>e.createRange(),j=(n,i,r,s)=>{if(g(n)){let e=n.length;const t=[];for(;e--;)t[e]=j(n[e],i,r,s);return t}return!t.collect||n!==e&&n!==o||a.push([n,i,r,s]),d.bind(n,i,r,s||G)},q=(t,n,i)=>{if(g(t)){let e=t.length;const o=[];for(;e--;)o[e]=q(t[e],n,i);return o}if(a.length>0&&(t===e||t===o)){let e=a.length;for(;e--;){const[o,r,s]=a[e];t!==o||n&&n!==r||i&&i!==s||d.unbind(o,r,s)}}return d.unbind(t,n,i)},K=e=>{if(e&&Wo(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},G={doc:e,settings:t,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:d,isBlock:e=>h(e)?Se(u,e):zo(e)&&(Se(u,e.nodeName)||Er(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:x,getViewPort:e=>{const t=Oo(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=p(e),n=S(t),o=E(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},getSize:E,getParent:(e,t,n)=>{const o=L(e,t,n,!1);return o&&o.length>0?o[0]:null},getParents:L,get:p,getNext:(e,t)=>R(e,t,"nextSibling"),getPrev:(e,t)=>R(e,t,"previousSibling"),select:(n,o)=>{var i,r;const s=null!==(r=null!==(i=p(o))&&void 0!==i?i:t.root_element)&&void 0!==r?r:e;return C(s.querySelectorAll)?de(s.querySelectorAll(n)):[]},is:T,add:N,create:I,createHTML:(e,t,n="")=>{let o="<"+e;for(const e in t)_e(t,e)&&(o+=" "+e+'="'+F(t[e])+'"');return Ye(n)&&Se(l.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),o=e.createDocumentFragment();let i;for(o.appendChild(n),t&&(n.innerHTML=t);i=n.firstChild;)o.appendChild(i);return o.removeChild(n),o},remove:P,setStyle:(e,n,o)=>{M(e,(e=>{const i=yn(e);Ns(i,n,o),t.update_styles&&Os(c,i)}))},getStyle:k,setStyles:(e,n)=>{M(e,(e=>{const o=yn(e);fe(n,((e,t)=>{Ns(o,t,e)})),t.update_styles&&Os(c,o)}))},removeAllAttribs:e=>M(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:y,setAttribs:D,getAttrib:m,getPos:S,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(G!==Is.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),V(e.split(","),(e=>{i[e]=!0,s.load(e).catch(_)}))},addClass:(e,t)=>{B(e,t,!0)},removeClass:(e,t)=>{B(e,t,!1)},hasClass:(e,t)=>{const n=f(e),o=t.split(" ");return w(n)&&ne(o,(e=>pn(n,e)))},toggleClass:B,show:e=>{M(e,(e=>ho(yn(e),"display")))},hide:e=>{M(e,(e=>ro(yn(e),"display","none")))},isHidden:e=>{const t=f(e);return w(t)&&Ot(co(t,"display"),"none")},uniqueId:e=>(e||"mce_")+r++,setHTML:O,getOuterHTML:e=>{const t=f(e);return w(t)?zo(t.dom)?t.dom.outerHTML:(e=>{
const t=mn("div"),n=yn(e.dom.cloneNode(!0));return mo(t,n),So(t)})(t):""},setOuterHTML:(e,t)=>{M(e,(e=>{zo(e)&&(e.outerHTML=t)}))},decode:Xr.decode,encode:F,insertAfter:(e,t)=>{const n=p(t);return M(e,(e=>{const t=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e}))},replace:H,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=I(t);return As(v(e),(t=>{y(n,t.nodeName,m(e,t.nodeName))})),H(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:M,getAttribs:v,isEmpty:(e,t,n)=>{let o=0;if(z(e))return!1;const i=e.firstChild;if(i){const r=new Po(i,e),s=l?l.getWhitespaceElements():{},a=t||(l?l.getNonEmptyElements():null);let c=i;do{if(zo(c)){const e=c.getAttribute("data-mce-bogus");if(e){c=r.next("all"===e);continue}const t=c.nodeName.toLowerCase();if(a&&a[t]){if("br"===t){o++,c=r.next();continue}return!1}if(z(c))return!1}if(ei(c))return!1;if(Qo(c)&&!nr(c.data)&&(!(null==n?void 0:n.includeZwsp)||!or(c.data)))return!1;if(Qo(c)&&c.parentNode&&s[c.parentNode.nodeName]&&nr(c.data))return!1;c=r.next()}while(c)}return o<=1},createRng:W,nodeIndex:Ds,split:(e,t,n)=>{let o,i,r=W();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return r.setStart(s,Ds(e)),r.setEnd(t.parentNode,Ds(t)),o=r.extractContents(),r=W(),r.setStart(t.parentNode,Ds(t)+1),r.setEnd(s,Ds(e)+1),i=r.extractContents(),s.insertBefore(Ir(G,o,l),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(Ir(G,i,l),e),P(e),n||t}},bind:j,unbind:q,fire:(e,t,n)=>d.dispatch(e,t,n),dispatch:(e,t,n)=>d.dispatch(e,t,n),getContentEditable:K,getContentEditableParent:e=>{const t=x();let n=null;for(let o=e;o&&o!==t&&(n=K(o),null===n);o=o.parentNode);return n},isEditable:e=>{if(w(e)){const t=zo(e)?e:e.parentElement;return w(t)&&Wo(t)&&to(yn(t))}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,o]=a[e];d.unbind(t,n,o)}}fe(i,((e,t)=>{s.unload(t),delete i[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Y=((e,t,n)=>{const o=t.keep_values,i={set:(e,o,i)=>{const r=yn(e);C(t.url_converter)&&w(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),i,e)),Rs(r,"data-mce-"+i,o),Rs(r,i,o)},get:(e,t)=>{const n=yn(e);return Jt(n,"data-mce-"+t)||Jt(n,t)}},r={style:{set:(t,n)=>{const i=yn(t);o&&Rs(i,Ts,n),nn(i,"style"),h(n)&&so(i,e.parse(n))},get:t=>{const n=yn(t),o=Jt(n,Ts)||Jt(n,"style");return e.serialize(e.parse(o),zt(n))}}};return o&&(r.href=r.src=i),r})(c,t,A(G));return G};Is.DOM=Is(document),Is.nodeIndex=Ds;const Fs=Is.DOM;class Ps{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=Fs;let i;const r=()=>{o.remove(s),i&&(i.onerror=i.onload=i=null)},s=o.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=Dt._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=()=>{r(),t()},i.onerror=()=>{r(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{xe(t.scriptLoadedCallbacks,n).each((t=>{V(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=G(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(te(t,(({reason:e})=>g(e)?e:[e]))):Promise.resolve()},i=e=>Promise.allSettled(j(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const r=t.queue;return r.length>0?(t.queue=[],i(r).then(o)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),r=e=>(t.loading=!0,i(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return P.from(n).each(N),o(e)}))),s=ke(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{r(s).then(e,n)}))})):r(s)}}Ps.ScriptLoader=new Ps;const Bs=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Hs={},zs=Bs("en"),Ws=()=>xe(Hs,zs.get()),Us={getData:()=>ge(Hs,(e=>({...e}))),setCode:e=>{e&&zs.set(e)},getCode:()=>zs.get(),add:(e,t)=>{let n=Hs[e];n||(Hs[e]=n={});const o=j(he(t),(e=>e.toLowerCase()));fe(t,((e,i)=>{const r=i.toLowerCase();r!==i&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(o,r)?(Se(t,r)||(n[r]=e),n[i]=e):n[r]=e}))},translate:e=>{const t=Ws().getOr({}),n=e=>C(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,i=e=>{const o=n(e);return Se(t,o)?n(t[o]):xe(t,o.toLowerCase()).map(n).getOr(o)},r=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(p(s=e)&&Se(s,"raw"))return n(e.raw);var s;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return r(i(e[0]).replace(/\{([0-9]+)\}/g,((e,o)=>Se(t,o)?n(t[o]):e)))}return r(i(e))},isRtl:()=>Ws().bind((e=>xe(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Se(Hs,e)},js=()=>{const e=[],t={},n={},o=[],i=(e,t)=>{const n=G(o,(n=>n.name===e&&n.state===t));V(n,(e=>e.resolve()))},r=e=>Se(t,e),s=(e,n)=>{const o=Us.getCode();!o||n&&-1===(","+(n||"")+",").indexOf(","+o+",")||Ps.ScriptLoader.add(t[e]+"/langs/"+o+".js")},a=(e,t="added")=>"added"===t&&(e=>Se(n,e))(e)||"loaded"===t&&r(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==js.languageLoad&&(r(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,o)=>(e.push(o),n[t]={instance:o},i(t,"added"),o),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>h(t)?h(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let r=h(o)?o:o.prefix+o.resource+o.suffix;0!==r.indexOf("/")&&-1===r.indexOf("://")&&(r=js.baseURL+"/"+r),t[e]=r.substring(0,r.lastIndexOf("/"));const s=()=>(i(e,"loaded"),Promise.resolve());return n[e]?s():Ps.ScriptLoader.add(r).then(s)},waitFor:a}};js.languageLoad=!0,js.baseURL="",js.PluginManager=js(),js.ThemeManager=js(),js.ModelManager=js();const Vs=e=>{const t=Bs(P.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{n(),t.set(P.some(setInterval(o,e)))}}},qs=()=>{const e=(e=>{const t=Bs(P.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(P.some(e))}}})(_);return{...e,on:t=>e.get().each(t)}},Ks=(e,t)=>{let n=null;return{cancel:()=>{m(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{m(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}},Gs=(e,t)=>{let n=null;const o=()=>{m(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...i)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}},Ys=A("mce-annotation"),Xs=A("data-mce-annotation"),Qs=A("data-mce-annotation-uid"),Zs=A("data-mce-annotation-active"),Js=A("data-mce-annotation-classes"),ea=A("data-mce-annotation-attrs"),ta=e=>t=>xn(t,e),na=(e,t)=>{const n=e.selection.getRng(),o=yn(n.startContainer),i=yn(e.getBody()),r=t.fold((()=>"."+Ys()),(e=>`[${Xs()}="${e}"]`)),s=Nn(o,n.startOffset).getOr(o);return eo(s,r,ta(i)).bind((t=>en(t,`${Qs()}`).bind((n=>en(t,`${Xs()}`).map((t=>{const o=ia(e,n);return{uid:n,name:t,elements:o}}))))))},oa=(e,t)=>tn(e,"data-mce-bogus")||Fo(e,'[data-mce-bogus="all"]',ta(t)),ia=(e,t)=>{const n=yn(e.getBody()),o=Io(n,`[${Qs()}="${t}"]`);return G(o,(e=>!oa(e,n)))},ra=(e,t)=>{const n=yn(e.getBody()),o=Io(n,`[${Xs()}="${t}"]`),i={};return V(o,(e=>{if(!oa(e,n)){const t=Jt(e,Qs()),n=xe(i,t).getOr([]);i[t]=n.concat([e])}})),i};let sa=0;const aa=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return sa++,e+"_"+n+sa+String(t)},la=(e,t)=>yn(e.dom.cloneNode(t)),ca=e=>la(e,!1),da=e=>la(e,!0),ua=(e,t,n=I)=>{const o=new Po(e,t),i=e=>{let t;do{t=o[e]()}while(t&&!Qo(t)&&!n(t));return P.from(t).filter(Qo)};return{current:()=>P.from(o.current()).filter(Qo),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},ha=(e,t)=>{const n=t||(t=>e.isBlock(t)||oi(t)||si(t)),o=(e,t,n,i)=>{if(Qo(e)){const n=i(e,t,e.data);if(-1!==n)return P.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,i)))};return{backwards:(t,i,r,s)=>{const a=ua(t,null!=s?s:e.getRoot(),n);return o(t,i,(()=>a.prev().map((e=>({container:e,offset:e.length})))),r).getOrNull()},forwards:(t,i,r,s)=>{const a=ua(t,null!=s?s:e.getRoot(),n);return o(t,i,(()=>a.next().map((e=>({container:e,offset:0})))),r).getOrNull()}}},pa=Math.round,fa=e=>e?{left:pa(e.left),top:pa(e.top),bottom:pa(e.bottom),right:pa(e.right),width:pa(e.width),height:pa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},ga=(e,t)=>(e=fa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ma=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,va=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&ma(t.top-e.bottom,e,t)},ya=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&ma(t.bottom-e.top,e,t),ba=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-i)*(n-i))},wa=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ca=(e,t)=>{if(zo(e)&&e.hasChildNodes()){const n=e.childNodes,o=((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1);return n[o]}return e},xa=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Sa=e=>h(e)&&e.charCodeAt(0)>=768&&xa.test(e),_a=zo,ka=Zi,Ea=Vo("display","block table"),Aa=Vo("float","left right"),$a=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(_a,ka,M(Aa)),Ta=M(Vo("white-space","pre pre-line pre-wrap")),La=Qo,Ra=oi,Ma=Is.nodeIndex,Da=(e,t)=>t<0&&zo(e)&&e.hasChildNodes()?void 0:Ca(e,t),Oa=e=>e?e.createRange():Is.DOM.createRng(),Na=e=>h(e)&&/[\r\n\t ]/.test(e),Ia=e=>!!e.setStart&&!!e.setEnd,Fa=e=>{const t=e.startContainer,n=e.startOffset;if(Na(e.toString())&&Ta(t.parentNode)&&Qo(t)){const e=t.data;if(Na(e[n-1])||Na(e[n+1]))return!0}return!1},Pa=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Ba=e=>{var t;let n;const o=e.getClientRects();return n=o.length>0?fa(o[0]):fa(e.getBoundingClientRect()),!Ia(e)&&Ra(e)&&Pa(n)?(e=>{const t=e.ownerDocument,n=Oa(t),o=t.createTextNode(fi),i=e.parentNode;i.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const r=fa(n.getBoundingClientRect());return i.removeChild(o),r})(e):Pa(n)&&Ia(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,i=e.endOffset;if(t===n&&Qo(n)&&0===o&&1===i){const t=e.cloneRange();return t.setEndAfter(n),Ba(t)}return null})(e))&&void 0!==t?t:n},Ha=(e,t)=>{const n=ga(e,t);return n.width=1,n.right=n.left+1,n},za=(e,t,n)=>{const o=()=>(n||(n=(e=>{const t=[],n=e=>{var n,o;0!==e.height&&(t.length>0&&(n=e,o=t[t.length-1],n.left===o.left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right)||t.push(e))},o=(e,t)=>{const o=Oa(e.ownerDocument);if(t<e.data.length){if(Sa(e.data[t]))return;if(Sa(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!Fa(o)))return void n(Ha(Ba(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),Fa(o)||n(Ha(Ba(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),Fa(o)||n(Ha(Ba(o),!0)))},i=e.container(),r=e.offset();if(La(i))return o(i,r),t;if(_a(i))if(e.isAtEnd()){const e=Da(i,r);La(e)&&o(e,e.data.length),$a(e)&&!Ra(e)&&n(Ha(Ba(e),!1))}else{const s=Da(i,r);if(La(s)&&o(s,0),$a(s)&&e.isAtEnd())return n(Ha(Ba(s),!1)),t;const a=Da(e.container(),e.offset()-1);$a(a)&&!Ra(a)&&(Ea(a)||Ea(s)||!$a(s))&&n(Ha(Ba(a),!1)),$a(s)&&n(Ha(Ba(s),!0))}return t})(za(e,t))),n);return{container:A(e),offset:A(t),toRange:()=>{const n=Oa(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(La(e),0===t),isAtEnd:()=>La(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Da(e,n?t-1:t)}};za.fromRangeStart=e=>za(e.startContainer,e.startOffset),za.fromRangeEnd=e=>za(e.endContainer,e.endOffset),za.after=e=>za(e.parentNode,Ma(e)+1),za.before=e=>za(e.parentNode,Ma(e)),za.isAbove=(e,t)=>It(le(t.getClientRects()),ce(e.getClientRects()),va).getOr(!1),za.isBelow=(e,t)=>It(ce(t.getClientRects()),le(e.getClientRects()),ya).getOr(!1),za.isAtStart=e=>!!e&&e.isAtStart(),za.isAtEnd=e=>!!e&&e.isAtEnd(),za.isTextPosition=e=>!!e&&Qo(e.container()),za.isElementPosition=e=>!za.isTextPosition(e);const Wa=(e,t)=>{Qo(t)&&0===t.data.length&&e.remove(t)},Ua=(e,t,n)=>{ni(n)?((e,t,n)=>{const o=P.from(n.firstChild),i=P.from(n.lastChild);t.insertNode(n),o.each((t=>Wa(e,t.previousSibling))),i.each((t=>Wa(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),Wa(e,n.previousSibling),Wa(e,n.nextSibling)})(e,t,n)},ja=Qo,Va=Ko,qa=Is.nodeIndex,Ka=e=>{const t=e.parentNode;return Va(t)?Ka(t):t},Ga=e=>e?Re(e.childNodes,((e,t)=>(Va(t)&&"BR"!==t.nodeName?e=e.concat(Ga(t)):e.push(t),e)),[]):[],Ya=e=>t=>e===t,Xa=e=>(ja(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=Ga(Ka(e)),n=Me(t,Ya(e),e),t=t.slice(0,n+1);const o=Re(t,((e,n,o)=>(ja(n)&&ja(t[o-1])&&e++,e)),0);return t=Le(t,jo([e.nodeName])),n=Me(t,Ya(e),e),n-o})(e)+"]",Qa=(e,t)=>{let n,o=[],i=t.container(),r=t.offset();if(ja(i))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&ja(n);)t+=n.data.length;return t})(i,r);else{const e=i.childNodes;r>=e.length?(n="after",r=e.length-1):n="before",i=e[r]}o.push(Xa(i));let s=((e,t,n)=>{const o=[];for(let n=t.parentNode;n&&n!==e;n=n.parentNode)o.push(n);return o})(e,i);return s=Le(s,M(Ko)),o=o.concat(Te(s,(e=>Xa(e)))),o.reverse().join("/")+","+n},Za=(e,t)=>{if(!t)return null;const n=t.split(","),o=n[0].split("/"),i=n.length>1?n[1]:"before",r=Re(o,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let o=Ga(e);return o=Le(o,((e,t)=>!ja(e)||!ja(o[t-1]))),o=Le(o,jo([t])),o[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!r)return null;if(!ja(r)&&r.parentNode){let e;return e="after"===i?qa(r)+1:qa(r),za(r.parentNode,e)}return((e,t)=>{let n=e,o=0;for(;ja(n);){const i=n.data.length;if(t>=o&&t<=o+i){e=n,t-=o;break}if(!ja(n.nextSibling)){e=n,t=i;break}o+=i,n=n.nextSibling}return ja(e)&&t>e.data.length&&(t=e.data.length),za(e,t)})(r,parseInt(i,10))},Ja=si,el=(e,t,n,o,i)=>{const r=i?o.startContainer:o.endContainer;let s=i?o.startOffset:o.endOffset;const a=[],l=e.getRoot();if(Qo(r))a.push(n?((e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&Qo(n);n=n.previousSibling)o+=e(n.data).length;return o})(t,r,s):s);else{let t=0;const o=r.childNodes;s>=o.length&&o.length&&(t=1,s=Math.max(0,o.length-1)),a.push(e.nodeIndex(o[s],n)+t)}for(let t=r;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,n));return a},tl=(e,t,n)=>{let o=0;return Dt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void o++)),o},nl=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(zo(n)&&"TR"===n.nodeName){const i=n.childNodes;n=i[Math.min(t?o:o-1,i.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},ol=e=>(nl(e,!0),nl(e,!1),e),il=(e,t)=>{if(zo(e)&&(e=Ca(e,t),Ja(e)))return e;if(Ii(e)){Qo(e)&&Oi(e)&&(e=e.parentNode);let t=e.previousSibling;if(Ja(t))return t;if(t=e.nextSibling,Ja(t))return t}},rl=(e,t,n)=>{const o=n.getNode(),i=n.getRng();if("IMG"===o.nodeName||Ja(o)){const e=o.nodeName;return{name:e,index:tl(n.dom,e,o)}}const r=(e=>il(e.startContainer,e.startOffset)||il(e.endContainer,e.endOffset))(i);if(r){const e=r.tagName;return{name:e,index:tl(n.dom,e,r)}}return((e,t,n,o)=>{const i=t.dom,r=el(i,e,n,o,!0),s=t.isForward(),a=Ui(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:r,forward:s,...a}:{start:r,end:el(i,e,n,o,!1),forward:s,...a}})(e,n,t,i)},sl=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},al=(e,t)=>{const n=e.dom;let o=e.getRng();const i=n.uniqueId(),r=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:tl(n,a,s)};const c=ol(o.cloneRange());if(!r){c.collapse(!1);const e=sl(n,i+"_end",t);Ua(n,c,e)}o=ol(o),o.collapse(!0);const d=sl(n,i+"_start",t);return Ua(n,o,d),e.moveToBookmark({id:i,keep:!0,forward:l}),{id:i,forward:l}},ll=R(rl,T,!0),cl=e=>{const t=t=>t(e),n=A(e),o=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:I,map:t=>ul.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>P.some(e)};return i},dl=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:I,isError:F,map:t,mapError:t=>ul.error(t(e)),bind:t,exists:I,forall:F,getOr:T,or:T,getOrThunk:O,orThunk:O,getOrDie:D(String(e)),each:_,toOptional:P.none};return n},ul={value:cl,error:dl,fromOption:(e,t)=>e.fold((()=>dl(t)),cl)},hl=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return V(e,((o,i)=>{const r=he(o);if(1!==r.length)throw new Error("one and only one name per case");const s=r[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!g(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[i].apply(null,n)},match:e=>{const o=he(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!ne(t,(e=>U(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};hl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pl=e=>"inline-command"===e.type||"inline-format"===e.type,fl=e=>"block-command"===e.type||"block-format"===e.type,gl=e=>{const t=t=>ul.error({message:t,pattern:e}),n=(n,o,i)=>{if(void 0!==e.format){let i;if(g(e.format)){if(!ne(e.format,h))return t(n+" pattern has non-string items in the `format` array");i=e.format}else{if(!h(e.format))return t(n+" pattern has non-string `format` parameter");i=[e.format]}return ul.value(o(i))}return void 0!==e.cmd?h(e.cmd)?ul.value(i(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!p(e))return t("Raw pattern is not an object");if(!h(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!h(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,i=e.end;return 0===i.length&&(i=o,o=""),n("Inline",(e=>({type:"inline-format",start:o,end:i,format:e})),((e,t)=>({type:"inline-command",start:o,end:i,cmd:e,value:t})))}return void 0!==e.replacement?h(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):ul.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},ml=e=>G(e,fl),vl=e=>G(e,pl),yl=e=>{const t=(e=>{const t=[],n=[];return V(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(j(e,gl));return V(t.errors,(e=>console.error(e.message,e.pattern))),t.values},bl=xt().deviceType,wl=bl.isTouch(),Cl=Is.DOM,xl=e=>u(e,RegExp),Sl=e=>t=>t.options.get(e),_l=e=>h(e)||p(e),kl=(e,t="")=>n=>{const o=h(n);if(o){if(-1!==n.indexOf("=")){const i=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return X(t,((e,t)=>{const n=t.split("="),o=n[0],i=n.length>1?n[1]:o;return e[Ve(o)]=Ve(i),e}),{})})(n);return{value:xe(i,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},El=Sl("iframe_attrs"),Al=Sl("doctype"),$l=Sl("document_base_url"),Tl=Sl("body_id"),Ll=Sl("body_class"),Rl=Sl("content_security_policy"),Ml=Sl("br_in_pre"),Dl=Sl("forced_root_block"),Ol=Sl("forced_root_block_attrs"),Nl=Sl("newline_behavior"),Il=Sl("br_newline_selector"),Fl=Sl("no_newline_selector"),Pl=Sl("keep_styles"),Bl=Sl("end_container_on_empty_block"),Hl=Sl("automatic_uploads"),zl=Sl("images_reuse_filename"),Wl=Sl("images_replace_blob_uris"),Ul=Sl("icons"),jl=Sl("icons_url"),Vl=Sl("images_upload_url"),ql=Sl("images_upload_base_path"),Kl=Sl("images_upload_credentials"),Gl=Sl("images_upload_handler"),Yl=Sl("content_css_cors"),Xl=Sl("referrer_policy"),Ql=Sl("language"),Zl=Sl("language_url"),Jl=Sl("indent_use_margin"),ec=Sl("indentation"),tc=Sl("content_css"),nc=Sl("content_style"),oc=Sl("font_css"),ic=Sl("directionality"),rc=Sl("inline_boundaries_selector"),sc=Sl("object_resizing"),ac=Sl("resize_img_proportional"),lc=Sl("placeholder"),cc=Sl("event_root"),dc=Sl("service_message"),uc=Sl("theme"),hc=Sl("theme_url"),pc=Sl("model"),fc=Sl("model_url"),gc=Sl("inline_boundaries"),mc=Sl("formats"),vc=Sl("preview_styles"),yc=Sl("format_empty_lines"),bc=Sl("format_noneditable_selector"),wc=Sl("custom_ui_selector"),Cc=Sl("inline"),xc=Sl("hidden_input"),Sc=Sl("submit_patch"),_c=Sl("add_form_submit_trigger"),kc=Sl("add_unload_trigger"),Ec=Sl("custom_undo_redo_levels"),Ac=Sl("disable_nodechange"),$c=Sl("readonly"),Tc=Sl("editable_root"),Lc=Sl("content_css_cors"),Rc=Sl("plugins"),Mc=Sl("external_plugins"),Dc=Sl("block_unsupported_drop"),Oc=Sl("visual"),Nc=Sl("visual_table_class"),Ic=Sl("visual_anchor_class"),Fc=Sl("iframe_aria_text"),Pc=Sl("setup"),Bc=Sl("init_instance_callback"),Hc=Sl("urlconverter_callback"),zc=Sl("auto_focus"),Wc=Sl("browser_spellcheck"),Uc=Sl("protect"),jc=Sl("paste_block_drop"),Vc=Sl("paste_data_images"),qc=Sl("paste_preprocess"),Kc=Sl("paste_postprocess"),Gc=Sl("newdocument_content"),Yc=Sl("paste_webkit_styles"),Xc=Sl("paste_remove_styles_if_webkit"),Qc=Sl("paste_merge_formats"),Zc=Sl("smart_paste"),Jc=Sl("paste_as_text"),ed=Sl("paste_tab_spaces"),td=Sl("allow_html_data_urls"),nd=Sl("text_patterns"),od=Sl("text_patterns_lookup"),id=Sl("noneditable_class"),rd=Sl("editable_class"),sd=Sl("noneditable_regexp"),ad=Sl("preserve_cdata"),ld=Sl("highlight_on_focus"),cd=Sl("xss_sanitization"),dd=Sl("init_content_sync"),ud=e=>Dt.explode(e.options.get("images_file_types")),hd=Sl("table_tab_navigation"),pd=Sl("details_initial_state"),fd=Sl("details_serialized_state"),gd=Sl("force_hex_color"),md=Sl("sandbox_iframes"),vd=zo,yd=Qo,bd=e=>{const t=e.parentNode;t&&t.removeChild(e)},wd=e=>{const t=Ri(e);return{count:e.length-t.length,text:t}},Cd=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Ti));)e.deleteData(t,1)},xd=(e,t)=>(Sd(e),t),Sd=e=>{vd(e)&&Ii(e)&&(Fi(e)?e.removeAttribute("data-mce-caret"):bd(e)),yd(e)&&(Cd(e),0===e.data.length&&bd(e))},_d=si,kd=ci,Ed=ai,Ad=(e,t,n)=>{const o=ga(t.getBoundingClientRect(),n);let i,r;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;i=e.scrollLeft||t.scrollLeft,r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();i=e.scrollLeft-t.left,r=e.scrollTop-t.top}o.left+=i,o.right+=i,o.top+=r,o.bottom+=r,o.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),o.left+=s,o.right+=s),o},$d=()=>Tt.browser.isFirefox(),Td=e=>_d(e)||kd(e),Ld=e=>(Td(e)||Go(e)&&$d())&&$n(yn(e)).exists(to),Rd=ri,Md=si,Dd=ci,Od=Vo("display","block table table-cell table-caption list-item"),Nd=Ii,Id=Oi,Fd=zo,Pd=Qo,Bd=Zi,Hd=e=>e>0,zd=e=>e<0,Wd=(e,t)=>{let n;for(;n=e(t);)if(!Id(n))return n;return null},Ud=(e,t,n,o,i)=>{const r=new Po(e,o),s=Md(e)||Id(e);let a;if(zd(t)){if(s&&(a=Wd(r.prev.bind(r),!0),n(a)))return a;for(;a=Wd(r.prev.bind(r),i);)if(n(a))return a}if(Hd(t)){if(s&&(a=Wd(r.next.bind(r),!0),n(a)))return a;for(;a=Wd(r.next.bind(r),i);)if(n(a))return a}return null},jd=(e,t)=>{for(;e&&e!==t;){if(Od(e))return e;e=e.parentNode}return null},Vd=(e,t,n)=>jd(e.container(),n)===jd(t.container(),n),qd=(e,t)=>{if(!t)return P.none();const n=t.container(),o=t.offset();return Fd(n)?P.from(n.childNodes[o+e]):P.none()},Kd=(e,t)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},Gd=(e,t,n)=>jd(t,e)===jd(n,e),Yd=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let e=i[o];if(e&&Nd(e)&&(e=e[o]),Md(e)||Dd(e)){if(Gd(t,e,i))return e;break}if(Bd(e))break;i=i.parentNode}return null},Xd=R(Kd,!0),Qd=R(Kd,!1),Zd=(e,t,n)=>{let o;const i=R(Yd,!0,t),r=R(Yd,!1,t),s=n.startContainer,a=n.startOffset;if(Oi(s)){const e=Pd(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(o=e.nextSibling,Ld(o)))return Xd(o);if("after"===t&&(o=e.previousSibling,Ld(o)))return Qd(o)}if(!n.collapsed)return n;if(Qo(s)){if(Nd(s)){if(1===e){if(o=r(s),o)return Xd(o);if(o=i(s),o)return Qd(o)}if(-1===e){if(o=i(s),o)return Qd(o);if(o=r(s),o)return Xd(o)}return n}if(zi(s)&&a>=s.data.length-1)return 1===e&&(o=r(s),o)?Xd(o):n;if(Hi(s)&&a<=1)return-1===e&&(o=i(s),o)?Qd(o):n;if(a===s.data.length)return o=r(s),o?Xd(o):n;if(0===a)return o=i(s),o?Qd(o):n}return n},Jd=(e,t)=>qd(e?0:-1,t).filter(Md),eu=(e,t,n)=>{const o=Zd(e,t,n);return-1===e?za.fromRangeStart(o):za.fromRangeEnd(o)},tu=e=>P.from(e.getNode()).map(yn),nu=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},ou=(e,t)=>{const n=Vd(e,t);return!(n||!oi(e.getNode()))||n};var iu;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(iu||(iu={}));const ru=si,su=Qo,au=zo,lu=oi,cu=Zi,du=e=>Yi(e)||(e=>!!Ji(e)&&!X(de(e.getElementsByTagName("*")),((e,t)=>e||ji(t)),!1))(e),uu=er,hu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,pu=(e,t)=>{if(Hd(e)){if(cu(t.previousSibling)&&!su(t.previousSibling))return za.before(t);if(su(t))return za(t,0)}if(zd(e)){if(cu(t.nextSibling)&&!su(t.nextSibling))return za.after(t);if(su(t))return za(t,t.data.length)}return zd(e)?lu(t)?za.before(t):za.after(t):za.before(t)},fu=(e,t,n)=>{let o,i,r,s;if(!au(n)||!t)return null;if(t.isEqual(za.after(n))&&n.lastChild){if(s=za.after(n.lastChild),zd(e)&&cu(n.lastChild)&&au(n.lastChild))return lu(n.lastChild)?za.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(su(a)){if(zd(e)&&l>0)return za(a,--l);if(Hd(e)&&l<a.length)return za(a,++l);o=a}else{if(zd(e)&&l>0&&(i=hu(a,l-1),cu(i)))return!du(i)&&(r=Ud(i,e,uu,i),r)?su(r)?za(r,r.data.length):za.after(r):su(i)?za(i,i.data.length):za.before(i);if(Hd(e)&&l<a.childNodes.length&&(i=hu(a,l),cu(i)))return lu(i)?((e,t)=>{const n=t.nextSibling;return n&&cu(n)?su(n)?za(n,0):za.before(n):fu(iu.Forwards,za.after(t),e)})(n,i):!du(i)&&(r=Ud(i,e,uu,i),r)?su(r)?za(r,0):za.before(r):su(i)?za(i,0):za.after(i);o=i||s.getNode()}if(o&&(Hd(e)&&s.isAtEnd()||zd(e)&&s.isAtStart())&&(o=Ud(o,e,F,n,!0),uu(o,n)))return pu(e,o);i=o?Ud(o,e,uu,n):o;const c=De(G(((e,t)=>{const n=[];let o=e;for(;o&&o!==t;)n.push(o),o=o.parentNode;return n})(a,n),ru));return!c||i&&c.contains(i)?i?pu(e,i):null:(s=Hd(e)?za.after(c):za.before(c),s)},gu=e=>({next:t=>fu(iu.Forwards,t,e),prev:t=>fu(iu.Backwards,t,e)}),mu=e=>za.isTextPosition(e)?0===e.offset():Zi(e.getNode()),vu=e=>{if(za.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Zi(e.getNode(!0))},yu=(e,t)=>!za.isTextPosition(e)&&!za.isTextPosition(t)&&e.getNode()===t.getNode(!0),bu=(e,t,n)=>{const o=gu(t);return P.from(e?o.next(n):o.prev(n))},wu=(e,t,n)=>bu(e,t,n).bind((o=>Vd(n,o,t)&&((e,t,n)=>{return e?!yu(t,n)&&(o=t,!(!za.isTextPosition(o)&&oi(o.getNode())))&&vu(t)&&mu(n):!yu(n,t)&&mu(t)&&vu(n);var o})(e,n,o)?bu(e,t,o):P.some(o))),Cu=(e,t,n,o)=>wu(e,t,n).bind((n=>o(n)?Cu(e,t,n,o):P.some(n))),xu=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Qo(n)?P.some(za(n,e?0:n.data.length)):n?Zi(n)?P.some(e?za.before(n):oi(o=n)?za.before(o):za.after(o)):((e,t,n)=>{const o=e?za.before(n):za.after(n);return bu(e,t,o)})(e,t,n):P.none();var o},Su=R(bu,!0),_u=R(bu,!1),ku=R(xu,!0),Eu=R(xu,!1),Au="_mce_caret",$u=e=>zo(e)&&e.id===Au,Tu=(e,t)=>{let n=t;for(;n&&n!==e;){if($u(n))return n;n=n.parentNode}return null},Lu=e=>Se(e,"name"),Ru=e=>Dt.isArray(e.start),Mu=e=>!(!Lu(e)&&v(e.forward))||e.forward,Du=(e,t)=>(zo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Ou=(e,t)=>Eu(e).fold(I,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),Nu=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!Tu(e,t)||(((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Ti);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)})(t,n),0)),Iu=(e,t,n,o)=>{const i=n[t?"start":"end"],r=e.getRoot();if(i){let e=r,n=i[0];for(let t=i.length-1;e&&t>=1;t--){const n=e.childNodes;if(Nu(r,e,o))return!0;if(i[t]>n.length-1)return!!Nu(r,e,o)||Ou(e,o);e=n[i[t]]}Qo(e)&&(n=Math.min(i[0],e.data.length)),zo(e)&&(n=Math.min(i[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},Fu=e=>Qo(e)&&e.data.length>0,Pu=(e,t,n)=>{const o=e.get(n.id+"_"+t),i=null==o?void 0:o.parentNode,r=n.keep;if(o&&i){let s,a;if("start"===t?r?o.hasChildNodes()?(s=o.firstChild,a=1):Fu(o.nextSibling)?(s=o.nextSibling,a=0):Fu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=i,a=e.nodeIndex(o)+1):(s=i,a=e.nodeIndex(o)):r?o.hasChildNodes()?(s=o.firstChild,a=1):Fu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=i,a=e.nodeIndex(o)):(s=i,a=e.nodeIndex(o)),!r){const i=o.previousSibling,r=o.nextSibling;let l;for(Dt.each(Dt.grep(o.childNodes),(e=>{Qo(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(Qo(r)&&Qo(i)&&!Tt.browser.isOpera()){const t=i.data.length;i.appendData(r.data),e.remove(r),s=i,a=t}}return P.some(za(s,a))}return P.none()},Bu=(e,t,n)=>((e,t,n=!1)=>2===t?rl(Ri,n,e):3===t?(e=>{const t=e.getRng();return{start:Qa(e.dom.getRoot(),za.fromRangeStart(t)),end:Qa(e.dom.getRoot(),za.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):al(e,!1))(e,t,n),Hu=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(Ru(t))return((e,t)=>{const n=e.createRng();return Iu(e,!0,t,n)&&Iu(e,!1,t,n)?P.some({range:n,forward:Mu(t)}):P.none()})(n,t);if((e=>h(e.start))(t))return((e,t)=>{const n=P.from(Za(e.getRoot(),t.start)),o=P.from(Za(e.getRoot(),t.end));return It(n,o,((n,o)=>{const i=e.createRng()
;return i.setStart(n.container(),n.offset()),i.setEnd(o.container(),o.offset()),{range:i,forward:Mu(t)}}))})(n,t);if((e=>Se(e,"id"))(t))return((e,t)=>{const n=Pu(e,"start",t),o=Pu(e,"end",t);return It(n,o.or(n),((n,o)=>{const i=e.createRng();return i.setStart(Du(e,n.container()),n.offset()),i.setEnd(Du(e,o.container()),o.offset()),{range:i,forward:Mu(t)}}))})(n,t);if(Lu(t))return((e,t)=>P.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>Se(e,"rng"))(t))return P.some({range:t.rng,forward:Mu(t)})}return P.none()})(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},zu=e=>zo(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Wu=(fi,e=>"Â "===e);const Uu=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),ju=e=>!Uu(e)&&!Wu(e)&&!gi(e),Vu=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},qu=(e,t)=>{const n=Io(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(e=>G((e=>te(e,(e=>{const t=wa(e);return t?[yn(t)]:[]})))(e),ki))(e)},Ku=e=>qu(Vu(e.selection.getSel()),yn(e.getBody())),Gu=(e,t)=>Zn(e,"table",t),Yu=e=>In(e).fold(A([e]),(t=>[e].concat(Yu(t)))),Xu=e=>Fn(e).fold(A([e]),(t=>"br"===zt(t)?Ln(t).map((t=>[e].concat(Xu(t)))).getOr([]):[e].concat(Xu(t)))),Qu=(e,t)=>It((e=>{const t=e.startContainer,n=e.startOffset;return Qo(t)?0===n?P.some(yn(t)):P.none():P.from(t.childNodes[n]).map(yn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return Qo(t)?n===t.data.length?P.some(yn(t)):P.none():P.from(t.childNodes[n-1]).map(yn)})(t),((t,n)=>{const o=Z(Yu(e),R(xn,t)),i=Z(Xu(e),R(xn,n));return o.isSome()&&i.isSome()})).getOr(!1),Zu=(e,t,n,o)=>{const i=n,r=new Po(n,i),s=be(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!U(["td","th","table"],t.toLowerCase())));let a=n;do{if(Qo(a)&&0!==Dt.trim(a.data).length)return void(o?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(o?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=o?r.next():r.prev());"BODY"===i.nodeName&&(o?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Ju=e=>{const t=e.selection.getSel();return w(t)&&t.rangeCount>0},eh=(e,t)=>{const n=Ku(e);n.length>0?V(n,(n=>{const o=n.dom,i=e.dom.createRng();i.setStartBefore(o),i.setEndAfter(o),t(i,!0)})):t(e.selection.getRng(),!1)},th=(e,t,n)=>{const o=al(e,t);n(o),e.moveToBookmark(o)},nh=e=>x(null==e?void 0:e.nodeType),oh=e=>zo(e)&&!zu(e)&&!$u(e)&&!Ko(e),ih=(e,t,n)=>{const{selection:o,dom:i}=e,r=o.getNode(),s=si(r);th(o,!0,(()=>{t()})),s&&si(r)&&i.isChildOf(r,e.getBody())?e.selection.select(r):n(o.getStart())&&rh(i,o)},rh=(e,t)=>{var n,o;const i=t.getRng(),{startContainer:r,startOffset:s}=i;if(!((e,t)=>{if(oh(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1})(e,t.getNode())&&zo(r)){const a=r.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Po(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Po(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(Qo(n)&&!ch(n))return i.setStart(n,0),void t.setRng(i)}}},sh=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(zo(e)||!ch(e))return e}},ah=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Er(e,t),lh=(e,t,n)=>e.schema.isValidChild(t,n),ch=(e,t=!1)=>{if(w(e)&&Qo(e)){const n=t?e.data.replace(/ /g,"Â "):e.data;return nr(n)}return!1},dh=(e,t)=>{const n=e.dom;return oh(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",o=bc(e),i=Ye(o)?n:`${n},${o}`;return wn(yn(t),i)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},uh=(e,t)=>C(e)?e(t):(w(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),hh=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),ph=(e,t)=>{if(b(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=ms(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},fh=(e,t,n)=>{const o=e.getStyle(t,n);return ph(o,n)},gh=(e,t)=>{let n;return e.getParent(t,(t=>!!zo(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},mh=(e,t,n)=>e.getParents(t,n,e.getRoot()),vh=(e,t,n)=>{const o=e.formatter.get(t);return w(o)&&$(o,n)},yh=e=>_e(e,"block"),bh=e=>_e(e,"selector"),wh=e=>_e(e,"inline"),Ch=e=>bh(e)&&!1!==e.expand&&!wh(e),xh=e=>(e=>{const t=[];let n=e;for(;n;){if(Qo(n)&&n.data!==Ti||n.childNodes.length>1)return[];zo(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Sh=e=>$u(e.dom)&&xh(e.dom),_h=zu,kh=mh,Eh=ch,Ah=ah,$h=(e,t)=>{let n=t;for(;n;){if(zo(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Th=(e,t,n,o)=>{const i=t.data;if(e){for(let e=n;e>0;e--)if(o(i.charAt(e-1)))return e}else for(let e=n;e<i.length;e++)if(o(i.charAt(e)))return e;return-1},Lh=(e,t,n)=>Th(e,t,n,(e=>Wu(e)||Uu(e))),Rh=(e,t,n)=>Th(e,t,n,ju),Mh=(e,t,n,o,i,r)=>{let s;const a=e.getParent(n,e.isBlock)||t,l=(t,n,o)=>{const r=ha(e),l=i?r.backwards:r.forwards;return P.from(l(t,n,((e,t)=>_h(e.parentNode)?-1:(s=e,o(i,e,t))),a))};return l(n,o,Lh).bind((e=>r?l(e.container,e.offset+(i?-1:0),Rh):P.some(e))).orThunk((()=>s?P.some({container:s,offset:i?0:s.length}):P.none()))},Dh=(e,t,n,o,i)=>{const r=o[i];Qo(o)&&Ye(o.data)&&r&&(o=r);const s=kh(e,o);for(let o=0;o<s.length;o++)for(let i=0;i<t.length;i++){const r=t[i];if((!w(r.collapsed)||r.collapsed===n.collapsed)&&bh(r)&&e.is(s[o],r.selector))return s[o]}return o},Oh=(e,t,n,o)=>{var i;let r=n;const s=e.getRoot(),a=t[0];if(yh(a)&&(r=a.wrapper?null:e.getParent(n,a.block,s)),!r){const t=null!==(i=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==i?i:s;r=e.getParent(Qo(n)?n.parentNode:n,(t=>t!==s&&Ah(e.schema,t)),t)}if(r&&yh(a)&&a.wrapper&&(r=kh(e,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r&&r[o]&&!e.isBlock(r[o])&&(r=r[o],!hh(r,"br")););return r||n},Nh=(e,t,n,o)=>{const i=n.parentNode;return!w(n[o])&&(!(i!==t&&!b(i)&&!e.isBlock(i))||Nh(e,t,i,o))},Ih=(e,t,n,o,i)=>{let r=n;const s=i?"previousSibling":"nextSibling",a=e.getRoot();if(Qo(n)&&!Eh(n)&&(i?o>0:o<n.data.length))return n;for(;r;){if(!t[0].block_expand&&e.isBlock(r))return r;for(let t=r[s];t;t=t[s]){const n=Qo(t)&&!Nh(e,a,t,s);if(!_h(t)&&(!oi(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Eh(t,n))return r}if(r===a||r.parentNode===a){n=r;break}r=r.parentNode}var l;return n},Fh=e=>_h(e.parentNode)||_h(e),Ph=(e,t,n,o=!1)=>{let{startContainer:i,startOffset:r,endContainer:s,endOffset:a}=t;const l=n[0];return zo(i)&&i.hasChildNodes()&&(i=Ca(i,r),Qo(i)&&(r=0)),zo(s)&&s.hasChildNodes()&&(s=Ca(s,t.collapsed?a:a-1),Qo(s)&&(a=s.data.length)),i=$h(e,i),s=$h(e,s),Fh(i)&&(i=_h(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,Qo(i)&&(r=t.collapsed?i.length:0)),Fh(s)&&(s=_h(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Qo(s)&&(a=t.collapsed?0:s.length)),t.collapsed&&(Mh(e,e.getRoot(),i,r,!0,o).each((({container:e,offset:t})=>{i=e,r=t})),Mh(e,e.getRoot(),s,a,!1,o).each((({container:e,offset:t})=>{s=e,a=t}))),(wh(l)||l.block_expand)&&(wh(l)&&Qo(i)&&0!==r||(i=Ih(e,n,i,r,!0)),wh(l)&&Qo(s)&&a!==s.data.length||(s=Ih(e,n,s,a,!1))),Ch(l)&&(i=Dh(e,n,t,i,"previousSibling"),s=Dh(e,n,t,s,"nextSibling")),(yh(l)||bh(l))&&(i=Oh(e,n,i,"previousSibling"),s=Oh(e,n,s,"nextSibling"),yh(l)&&(e.isBlock(i)||(i=Ih(e,n,i,r,!0)),e.isBlock(s)||(s=Ih(e,n,s,a,!1)))),zo(i)&&i.parentNode&&(r=e.nodeIndex(i),i=i.parentNode),zo(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:r,endContainer:s,endOffset:a}},Bh=(e,t,n)=>{var o;const i=t.startOffset,r=Ca(t.startContainer,i),s=t.endOffset,a=Ca(t.endContainer,s-1),l=e=>{const t=e[0];Qo(t)&&t===r&&i>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&Qo(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},d=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),u=(e,t,o)=>{const i=o?"nextSibling":"previousSibling";for(let r=e,s=r.parentNode;r&&r!==t;r=s){s=r.parentNode;const t=c(r===e?r:r[i],i);t.length&&(o||t.reverse(),n(l(t)))}};if(r===a)return n(l([r]));const h=null!==(o=e.findCommonAncestor(r,a))&&void 0!==o?o:e.getRoot();if(e.isChildOf(r,a))return u(r,h,!0);if(e.isChildOf(a,r))return u(a,h);const p=d(r,h)||r,f=d(a,h)||a;u(r,p,!0);const g=c(p===r?p:p.nextSibling,"nextSibling",f===a?f.nextSibling:f);g.length&&n(l(g)),u(a,f)},Hh=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],zh=(e,t,n,o,i,r)=>{const{uid:s=t,...a}=n;dn(e,Ys()),Qt(e,`${Qs()}`,s),Qt(e,`${Xs()}`,o);const{attributes:l={},classes:c=[]}=i(s,a);if(Zt(e,l),((e,t)=>{V(t,(t=>{dn(e,t)}))})(e,c),r){c.length>0&&Qt(e,`${Js()}`,c.join(","));const t=he(l);t.length>0&&Qt(e,`${ea()}`,t.join(","))}},Wh=(e,t,n,o,i)=>{const r=mn("span",e);return zh(r,t,n,o,i,!1),r},Uh=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>xe(e,t).map((e=>e.settings)),getNames:()=>he(e)}})();((e,t)=>{const n=Xs(),o=e=>P.from(e.attr(n)).bind(t.lookup),i=e=>{var t,n;e.attr(Qs(),null),e.attr(Xs(),null),e.attr(Zs(),null);const o=P.from(e.attr(ea())).map((e=>e.split(","))).getOr([]),i=P.from(e.attr(Js())).map((e=>e.split(","))).getOr([]);V(o,(t=>e.attr(t,null)));const r=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=ie(r,[Ys()].concat(i));e.attr("class",s.length>0?s.join(" "):null),e.attr(Js(),null),e.attr(ea(),null)};e.serializer.addTempAttr(Zs()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():i(t))}))}))})(e,t);const n=((e,t)=>{const n=Bs({}),o=()=>({listeners:[],previous:qs()}),i=(e,t)=>{r(e,(e=>(t(e),e)))},r=(e,t)=>{const i=n.get(),r=t(xe(i,e).getOrThunk(o));i[e]=r,n.set(i)},s=(t,n)=>{V(ia(e,t),(e=>{n?Qt(e,Zs(),"true"):nn(e,Zs())}))},a=Gs((()=>{const n=se(t.getNames());V(n,(t=>{r(t,(n=>{const o=n.previous.get();return na(e,P.some(t)).fold((()=>{o.each((e=>{(e=>{i(e,(t=>{V(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:r})=>{Ot(o,e)||(o.each((e=>s(e,!1))),((e,t,n)=>{i(e,(o=>{V(o.listeners,(o=>o(!0,e,{uid:t,nodes:j(n,(e=>e.dom))})))}))})(t,e,r),n.previous.set(e),s(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()})),{addListener:(e,t)=>{r(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),o=Yt("span"),i=e=>{V(e,(e=>{o(e)?Co(e):(e=>{hn(e,Ys()),nn(e,`${Qs()}`),nn(e,`${Xs()}`),nn(e,`${Zs()}`);const t=en(e,`${ea()}`).map((e=>e.split(","))).getOr([]),n=en(e,`${Js()}`).map((e=>e.split(","))).getOr([]);var o;V(t,(t=>nn(e,t))),o=e,V(n,(e=>{hn(o,e)})),nn(e,`${Js()}`),nn(e,`${ea()}`)})(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{((e,t,n,o)=>{e.undoManager.transact((()=>{const i=e.selection,r=i.getRng(),s=Ku(e).length>0,a=aa("mce-annotation");if(r.collapsed&&!s&&((e,t)=>{const n=Ph(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,r),i.getRng().collapsed&&!s){const r=Wh(e.getDoc(),a,o,t,n.decorate);_o(r,fi),i.getRng().insertNode(r.dom),i.select(r.dom)}else th(i,!1,(()=>{eh(e,(i=>{((e,t,n,o,i,r)=>{const s=[],a=Wh(e.getDoc(),n,r,o,i),l=qs(),c=()=>{l.clear()},d=e=>{V(e,u)},u=t=>{switch(((e,t,n,o)=>An(t).fold((()=>"skipping"),(i=>"br"===o||(e=>qt(e)&&vi(e)===Ti)(t)?"valid":(e=>Vt(e)&&pn(e,Ys()))(t)?"existing":$u(t.dom)?"caret":$(Hh,(e=>wn(t,e)))?"valid-block":lh(e,n,o)&&lh(e,zt(i),n)?"valid":"invalid-child")))(e,t,"span",zt(t))){case"invalid-child":{c();const e=On(t);d(e),c();break}case"valid-block":c(),zh(t,n,r,o,i,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=ca(a);return s.push(e),l.set(e),e}));vo(t,e);break}}};Bh(e.dom,t,(e=>{c(),(e=>{const t=j(e,yn);d(t)})(e)}))})(e,i,a,t,n.decorate,o)}))}))}))})(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{na(e,P.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();i(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();fe(ra(e,t),((e,t)=>{i(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=ra(e,t);return ge(n,(e=>j(e,(e=>e.dom))))}}},jh=e=>({getBookmark:R(Bu,e),moveToBookmark:R(Hu,e)});jh.isBookmarkNode=zu;const Vh=(e,t,n)=>!n.collapsed&&$(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),qh=(e,t,n)=>{e.dispatch(t,n)},Kh=(e,t,n,o)=>{e.dispatch("FormatApply",{format:t,node:n,vars:o})},Gh=(e,t,n,o)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:o})},Yh=(e,t)=>e.dispatch("SetContent",t),Xh=(e,t)=>e.dispatch("GetContent",t),Qh=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Zh={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Zh.metaKeyPressed(e),metaKeyPressed:e=>Tt.os.isMacOS()||Tt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Jh="data-mce-selected",ep=Math.abs,tp=Math.round,np={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},op=(e,t)=>{const n=t.dom,o=t.getDoc(),i=document,r=t.getBody();let s,a,l,c,d,u,h,p,f,g,m,v,y,b,C;const x=e=>w(e)&&(ii(e)||n.is(e,"figure.image")),S=e=>ci(e)||n.hasClass(e,"mce-preview-object"),_=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return x(e.target)&&!Vh(n.clientX,n.clientY,t)}return x(e.target)&&!Vh(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},k=e=>n.hasClass(e,"mce-preview-object")&&w(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],E=e=>{const o=sc(t);return!!o&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&w(e.firstElementChild)?wn(yn(e.firstElementChild),o):wn(yn(e),o))},A=(e,o,i)=>{if(w(i)){const r=k(e);V(r,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,i):n.setAttrib(e,o,""+i)}))}},T=(e,t,n)=>{A(e,"width",t),A(e,"height",n)},L=e=>{let o,i,d,w,_;o=e.screenX-u,i=e.screenY-h,v=o*c[2]+p,y=i*c[3]+f,v=v<5?5:v,y=y<5?5:y,d=(x(s)||S(s))&&!1!==ac(t)?!Zh.modifierPressed(e):Zh.modifierPressed(e),d&&(ep(o)>ep(i)?(y=tp(v*g),v=tp(y/g)):(v=tp(y/g),y=tp(v*g))),T(a,v,y),w=c.startPos.x+o,_=c.startPos.y+i,w=w>0?w:0,_=_>0?_:0,n.setStyles(l,{left:w,top:_,display:"block"}),l.innerHTML=v+" &times; "+y,c[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",void 0+(p-v)),c[3]<0&&a.clientHeight<=y&&n.setStyle(a,"top",void 0+(f-y)),o=r.scrollWidth-b,i=r.scrollHeight-C,o+i!==0&&n.setStyles(l,{left:w-o,top:_-i}),m||(((e,t,n,o,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:i})})(t,s,p,f,"corner-"+c.name),m=!0)},R=()=>{const e=m;m=!1,e&&(A(s,"width",v),A(s,"height",y)),n.unbind(o,"mousemove",L),n.unbind(o,"mouseup",R),i!==o&&(n.unbind(i,"mousemove",L),n.unbind(i,"mouseup",R)),n.remove(a),n.remove(l),n.remove(d),M(s),e&&(((e,t,n,o,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:i})})(t,s,v,y,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},M=e=>{F();const m=n.getPos(e,r),w=m.x,x=m.y,_=e.getBoundingClientRect(),A=_.width||_.right-_.left,M=_.height||_.bottom-_.top;s!==e&&(O(),s=e,v=y=0);const D=t.dispatch("ObjectSelected",{target:e});E(e)&&!D.isDefaultPrevented()?fe(np,((e,t)=>{let m=n.get("mceResizeHandle"+t);m&&n.remove(m),m=n.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(m,"mousedown",(m=>{m.stopImmediatePropagation(),m.preventDefault(),(m=>{const v=k(s)[0];var y;u=m.screenX,h=m.screenY,p=v.clientWidth,f=v.clientHeight,g=f/p,c=e,c.name=t,c.startPos={x:A*e[0]+w,y:M*e[1]+x},b=r.scrollWidth,C=r.scrollHeight,d=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=S(y=s)?n.create("img",{src:Tt.transparentSrc}):y.cloneNode(!0),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:w,top:x,margin:0}),T(a,A,M),a.removeAttribute(Jh),r.appendChild(a),n.bind(o,"mousemove",L),n.bind(o,"mouseup",R),i!==o&&(n.bind(i,"mousemove",L),n.bind(i,"mouseup",R)),l=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+f)})(m)})),e.elm=m,n.setStyles(m,{left:A*e[0]+w-m.offsetWidth/2,top:M*e[1]+x-m.offsetHeight/2})})):O(!1)},D=Ks(M,0),O=(e=!0)=>{D.cancel(),F(),s&&e&&s.removeAttribute(Jh),fe(np,((e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))}))},N=(e,t)=>n.isChildOf(e,t),I=o=>{if(m||t.removed||t.composing)return;const i="mousedown"===o.type?o.target:e.getNode(),s=eo(yn(i),"table,img,figure.image,hr,video,span.mce-preview-object,details").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement)||"IMG"===e.nodeName&&n.isEditable(e))).getOrUndefined(),a=w(s)?n.getAttrib(s,Jh,"1"):"1";if(V(n.select(`img[${Jh}],hr[${Jh}]`),(e=>{e.removeAttribute(Jh)})),w(s)&&N(s,r)&&t.hasFocus()){P();const t=e.getStart(!0);if(N(t,s)&&N(e.getEnd(!0),s))return n.setAttrib(s,Jh,a),void D.throttle(s)}O()},F=()=>{fe(np,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},P=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(()=>{P(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&I(e)})),t.on("hide blur",O),t.on("contextmenu longpress",_,!0)})),t.on("remove",F),{isResizable:E,showResizeRect:M,hideResizeRect:O,updateResizeRect:I,destroy:()=>{D.cancel(),s=a=d=null}}},ip=(e,t,n)=>{const o=e.document.createRange();var i;return i=o,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},rp=(e,t,n,o,i)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,i),r},sp=hl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ap=(e,t,n)=>t(yn(n.startContainer),n.startOffset,yn(n.endContainer),n.endOffset);sp.ltr,sp.rtl;const lp=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),cp=document.caretPositionFromPoint?(e,t,n)=>{var o,i;return P.from(null===(i=(o=e.dom).caretPositionFromPoint)||void 0===i?void 0:i.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return P.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),P.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var o,i;return P.from(null===(i=(o=e.dom).caretRangeFromPoint)||void 0===i?void 0:i.call(o,t,n))}:P.none,dp=hl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),up={before:dp.before,on:dp.on,after:dp.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(T,T,T)},hp=hl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pp={domRange:hp.domRange,relative:hp.relative,exact:hp.exact,exactFromRange:e=>hp.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>yn(e.startContainer),relative:(e,t)=>up.getStart(e),exact:(e,t,n,o)=>e}))(e);return En(t)},range:lp},fp=(e,t)=>{const n=zt(e);return"input"===n?up.after(e):U(["br","img"],n)?0===t?up.before(e):up.after(e):up.on(e,t)},gp=(e,t)=>{const n=e.fold(up.before,fp,up.after),o=t.fold(up.before,fp,up.after);return pp.relative(n,o)},mp=(e,t,n,o)=>{const i=fp(e,t),r=fp(n,o);return pp.relative(i,r)},vp=(e,t)=>{const n=(t||document).createDocumentFragment();return V(e,(e=>{n.appendChild(e.dom)})),yn(n)},yp=(e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=yn(e.document);return cp(o,t,n).map((e=>lp(yn(e.startContainer),e.startOffset,yn(e.endContainer),e.endOffset)))})(e,t,n))(En(yn(n)).dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),bp=(e,t)=>w(e)&&w(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,wp=(e,t,n)=>null!==((e,t,n)=>{let o=e;for(;o&&o!==t;){if(n(o))return o;o=o.parentNode}return null})(e,t,n),Cp=(e,t,n)=>wp(e,t,(e=>e.nodeName===n)),xp=(e,t)=>Ii(e)&&!wp(e,t,$u),Sp=(e,t,n)=>{const o=t.parentNode;if(o){const i=new Po(t,e.getParent(o,e.isBlock)||e.getRoot());let r;for(;r=i[n?"prev":"next"]();)if(oi(r))return!0}return!1},_p=(e,t,n,o,i)=>{const r=e.getRoot(),s=e.schema.getNonEmptyElements(),a=i.parentNode;let l,c;if(!a)return P.none();const d=e.getParent(a,e.isBlock)||r;if(o&&oi(i)&&t&&e.isEmpty(d))return P.some(za(a,e.nodeIndex(i)));const u=new Po(i,d);for(;c=u[o?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||xp(c,r))return P.none();if(Qo(c)&&c.data.length>0)return Cp(c,r,"A")?P.none():P.some(za(c,o?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return P.none();l=c}return ei(l)?P.none():n&&l?P.some(za(l,0)):P.none()},kp=(e,t,n,o)=>{const i=e.getRoot();let r,s=!1,a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=zo(a)&&l===a.childNodes.length,d=e.schema.getNonEmptyElements();let u=n;if(Ii(a))return P.none();if(zo(a)&&l>a.childNodes.length-1&&(u=!1),ti(a)&&(a=i,l=0),a===i){if(u&&(r=a.childNodes[l>0?l-1:0],r)){if(Ii(r))return P.none();if(d[r.nodeName]||Go(r))return P.none()}if(a.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=Qo(a)&&c?a.data.length:0,!t&&a===i.lastChild&&Go(a))return P.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(si(n))return!0;n=n.parentNode}return!1})(i,a)||Ii(a))return P.none();if(ui(a))return P.none();if(a.hasChildNodes()&&!Go(a)){r=a;const t=new Po(a,i);do{if(si(r)||Ii(r)){s=!1;break}if(Qo(r)&&r.data.length>0){l=u?0:r.data.length,a=r,s=!0;break}if(d[r.nodeName.toLowerCase()]&&!li(r)){l=e.nodeIndex(r),a=r.parentNode,u||l++,s=!0;break}}while(r=u?t.next():t.prev())}}}return t&&(Qo(a)&&0===l&&_p(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),zo(a)&&(r=a.childNodes[l],r||(r=a.childNodes[l-1]),!r||!oi(r)||((e,t)=>{var n;return"A"===(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)})(r)||Sp(e,r,!1)||Sp(e,r,!0)||_p(e,c,t,!0,r).each((e=>{a=e.container(),l=e.offset(),s=!0})))),u&&!t&&Qo(a)&&l===a.data.length&&_p(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?P.some(za(a,l)):P.none()},Ep=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),i=za.fromRangeStart(t);return kp(e,n,!0,o).each((e=>{n&&za.isAbove(i,e)||o.setStart(e.container(),e.offset())})),n||kp(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),bp(t,o)?P.none():P.some(o)},Ap=(e,t)=>e.splitText(t),$p=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,i=e.endOffset;if(t===o&&Qo(t)){if(n>0&&n<t.data.length)if(o=Ap(t,n),t=o.previousSibling,i>n){i-=n;const e=Ap(o,i).previousSibling;t=o=e,i=e.data.length,n=0}else i=0}else if(Qo(t)&&n>0&&n<t.data.length&&(t=Ap(t,n),n=0),Qo(o)&&i>0&&i<o.data.length){const e=Ap(o,i).previousSibling;o=e,i=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:i}},Tp=e=>({walk:(t,n)=>Bh(e,t,n),split:$p,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=Ph(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t},normalize:t=>Ep(e,t).fold(I,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});Tp.compareRanges=bp,Tp.getCaretRangeFromPoint=yp,Tp.getSelectedNode=wa,Tp.getNode=Ca;const Lp=((e,t)=>{const n=t=>{const n=(e=>{const t=e.dom;return Kn(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=ao(t,e);return parseFloat(n)||0}return n},o=(e,t)=>X(t,((t,n)=>{const o=ao(e,n),i=void 0===o?0:parseInt(o,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!x(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;oo(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const i=o(e,n);return t>i?t-i:0}}})("height"),Rp=()=>yn(document),Mp=(e,t)=>e.view(t).fold(A([]),(t=>{const n=e.owner(t),o=Mp(e,n);return[t].concat(o)}));var Dp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?P.none():P.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(yn)},owner:e=>kn(e)});const Op=e=>"textarea"===zt(e),Np=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,i=t.documentElement;if(n===e.dom)return Ao(n.offsetLeft,n.offsetTop);const r=$o(null==o?void 0:o.pageYOffset,i.scrollTop),s=$o(null==o?void 0:o.pageXOffset,i.scrollLeft),a=$o(i.clientTop,n.clientTop),l=$o(i.clientLeft,n.clientLeft);return To(e).translate(s-l,r-a)})(e),o=(e=>Lp.get(e))(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},Ip=(e,t,n,o)=>{Hp(e,((i,r)=>Pp(e,t,n,o)),n)},Fp=(e,t,n,o,i)=>{const r={elm:o.element.dom,alignToTop:i};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,r)||(n(e,t,Lo(t).top,o,i),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,r))},Pp=(e,t,n,o)=>{const i=yn(e.getBody()),r=yn(e.getDoc());i.dom.offsetWidth;const s=((e,t)=>{const n=((e,t)=>{const n=On(e);if(0===n.length||Op(e))return{element:e,offset:t};if(t<n.length&&!Op(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return Op(o)?{element:e,offset:t}:"img"===zt(o)?{element:o,offset:1}:qt(o)?{element:o,offset:vi(o).length}:{element:o,offset:On(o).length}}})(e,t),o=gn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return po(n.element,o),Np(o,(()=>wo(o)))})(yn(n.startContainer),n.startOffset);Fp(e,r,t,s,o),s.cleanup()},Bp=(e,t,n,o)=>{const i=yn(e.getDoc());Fp(e,i,n,(e=>Np(yn(e),_))(t),o)},Hp=(e,t,n)=>{const o=n.startContainer,i=n.startOffset,r=n.endContainer,s=n.endOffset;t(yn(o),yn(r));const a=e.dom.createRng();a.setStart(o,i),a.setEnd(r,s),e.selection.setRng(n)},zp=(e,t,n,o,i)=>{const r=t.pos;if(o)Ro(r.left,r.top,i);else{const o=r.top-n+t.height;Ro(-e.getBody().getBoundingClientRect().left,o,i)}},Wp=(e,t,n,o,i,r)=>{const s=o+n,a=i.pos.top,l=i.bottom,c=l-a>=o;a<n?zp(e,i,o,!1!==r,t):a>s?zp(e,i,o,c?!1!==r:!0===r,t):l>s&&!c&&zp(e,i,o,!0===r,t)},Up=(e,t,n,o,i)=>{const r=En(t).dom.innerHeight;Wp(e,t,n,r,o,i)},jp=(e,t,n,o,i)=>{const r=En(t).dom.innerHeight;Wp(e,t,n,r,o,i);const s=(e=>{const t=Rp(),n=Lo(t),o=((e,t)=>{const n=t.owner(e);return Mp(t,n)})(e,Dp),i=To(e),r=Y(o,((e,t)=>{const n=To(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Ao(r.left+i.left+n.left,r.top+i.top+n.top)})(o.element),a=Oo(window);s.top<a.y?Mo(o.element,!1!==i):s.top>a.bottom&&Mo(o.element,!0===i)},Vp=(e,t,n)=>Ip(e,Up,t,n),qp=(e,t,n)=>Bp(e,t,Up,n),Kp=(e,t,n)=>Ip(e,jp,t,n),Gp=(e,t,n)=>Bp(e,t,jp,n),Yp=(e,t,n)=>{(e.inline?Vp:Kp)(e,t,n)},Xp=(e,t=!1)=>e.dom.focus({preventScroll:t}),Qp=e=>{const t=Wn(e).dom;return e.dom===t.activeElement},Zp=(e=Rp())=>P.from(e.dom.activeElement).map(yn),Jp=(e,t)=>{const n=qt(t)?vi(t).length:On(t).length+1;return e>n?n:e<0?0:e},ef=e=>pp.range(e.start,Jp(e.soffset,e.start),e.finish,Jp(e.foffset,e.finish)),tf=(e,t)=>!Ho(t.dom)&&(Sn(e,t)||xn(e,t)),nf=e=>t=>tf(e,t.start)&&tf(e,t.finish),of=e=>pp.range(yn(e.startContainer),e.startOffset,yn(e.endContainer),e.endOffset),rf=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),P.some(t)}catch(e){return P.none()}},sf=e=>{const t=(e=>e.inline||Tt.browser.isFirefox())(e)?(n=yn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?P.from(t.getRangeAt(0)):P.none()).map(of)})(En(n).dom).filter(nf(n))):P.none();var n;e.bookmark=t.isSome()?t:e.bookmark},af=e=>(e.bookmark?e.bookmark:P.none()).bind((t=>{return n=yn(e.getBody()),o=t,P.from(o).filter(nf(n)).map(ef);var n,o})).bind(rf),lf={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},cf={setEditorTimeout:(e,t,n)=>((e,t)=>(x(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=((e,t)=>(x(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(o):t()}),n);return o}};let df;const uf=Is.DOM,hf=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},pf=(e,t)=>{const n=wc(e),o=uf.getParent(t,(t=>(e=>zo(e)&&lf.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==o},ff=e=>{try{const t=Wn(yn(e.getElement()));return Zp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},gf=(e,t)=>{const n=t.editor;(e=>{const t=Ks((()=>{sf(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};Is.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Is.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||sf(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))})(n);const o=(e,t)=>{ld(e)&&!0!==e.inline&&t(yn(e.getContainer()),"tox-edit-focus")};n.on("focusin",(()=>{const t=e.focusedEditor;hf(ff(n))&&o(n,dn),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{cf.setEditorTimeout(n,(()=>{const t=e.focusedEditor;hf(ff(n))&&t===n||o(n,hn),pf(n,ff(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),df||(df=t=>{const n=e.activeEditor;n&&Vn(t).each((t=>{const o=t;o.ownerDocument===document&&(o===document.body||pf(n,o)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},uf.bind(document,"focusin",df))},mf=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&df&&(uf.unbind(document,"focusin",df),df=null)},vf=(e,t)=>{((e,t)=>(e=>e.collapsed?P.from(Ca(e.startContainer,e.startOffset)).map(yn):P.none())(t).bind((t=>_i(t)?P.some(t):Sn(e,t)?P.none():P.some(e))))(yn(e.getBody()),t).bind((e=>ku(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},yf=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},bf=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=yn(t),Qp(n)||(o=n,Zp(Wn(o)).filter((e=>o.dom.contains(e.dom)))).isSome());var n,o})(e):(e=>w(e.iframeElement)&&Qp(yn(e.iframeElement)))(e),wf=e=>bf(e)||(e=>{const t=Wn(yn(e.getElement()));return Zp(t).filter((t=>!hf(t.dom)&&pf(e,t.dom))).isSome()})(e),Cf=e=>e.editorManager.setActive(e),xf=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Sf=(e,t,n,o,i)=>{const r=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return P.from(r).map(yn).map((e=>o&&t.collapsed?e:Nn(e,i(e,s)).getOr(e))).bind((e=>Vt(e)?P.some(e):An(e).filter(Vt))).map((e=>e.dom)).getOr(e)},_f=(e,t,n=!1)=>Sf(e,t,!0,n,((e,t)=>Math.min(Pn(e),t))),kf=(e,t,n=!1)=>Sf(e,t,!1,n,((e,t)=>t>0?t-1:t)),Ef=(e,t)=>{const n=e;for(;e&&Qo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Af=(e,t)=>j(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),$f=["img","br"],Tf=e=>{const t=yi(e).filter((e=>0!==e.trim().length||e.indexOf(fi)>-1)).isSome();return t||U($f,zt(e))||(e=>jt(e)&&"false"===Jt(e,"contenteditable"))(e)},Lf="[data-mce-autocompleter]",Rf=e=>Jn(e,Lf),Mf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Df=(e,t,n)=>{const o=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[i]
;if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[i],n)return n}},Of=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!nr(n))return!1;const o=e.parent;return!o||"span"===o.name&&!o.attr("style")||!/^[ ]+$/.test(n)},Nf=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class If{static create(e,t){const n=new If(e,Mf[e]||1);return t&&fe(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!h(e))return w(e)&&fe(e,((e,t)=>{n.attr(t,e)})),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;for(;n--;)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new If(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=Df(o,t))o.name===e&&n.push(o);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=Df(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const i=this;let r=i.firstChild;if(Nf(i))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(Nf(r))return!1}if(8===r.type)return!1;if(3===r.type&&!Of(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&nr(null!==(o=r.value)&&void 0!==o?o:""))return!1;if(n&&n(r))return!1}while(r=Df(r,i));return!0}walk(e){return Df(this,null,e)}}const Ff=Dt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Pf=e=>h(e.nodeValue)&&e.nodeValue.includes(Ti),Bf=e=>(0===e.length?"":`${j(e,(e=>`[${e}]`)).join(",")},`)+'[data-mce-bogus="all"]',Hf=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>Pf(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)),zf=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(Pf(e)){const t=e.parentNode;return t&&Se(Ff,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})),Wf=e=>null!==Hf(e).nextNode(),Uf=e=>null!==zf(e).nextNode(),jf=(e,t)=>null!==t.querySelector(Bf(e)),Vf=(e,t)=>{V(((e,t)=>t.querySelectorAll(Bf(e)))(e,t),(t=>{const n=yn(t);"all"===Jt(n,"data-mce-bogus")?wo(n):V(e,(e=>{tn(n,e)&&nn(n,e)}))}))},qf=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},Kf=k(qf,Hf),Gf=k(qf,zf),Yf=(e,t)=>{const n=[{condition:R(jf,t),action:R(Vf,t)},{condition:Wf,action:Kf},{condition:Uf,action:Gf}];let o=e,i=!1;return V(n,(({condition:t,action:n})=>{t(o)&&(i||(o=e.cloneNode(!0),i=!0),n(o))})),o},Xf=e=>{const t=Io(e,"[data-mce-bogus]");V(t,(e=>{"all"===Jt(e,"data-mce-bogus")?wo(e):wi(e)?(po(e,vn(pi)),wo(e)):Co(e)}))},Qf=e=>{const t=Io(e,"input");V(t,(e=>{nn(e,"name")}))},Zf=Dt.makeMap,Jf=e=>{const t=[],n=(e=e||{}).indent,o=Zf(e.indent_before||""),i=Zf(e.indent_after||""),r=Xr.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,n=a.length;e<n;e++){const n=a[e];t.push(" ",n.name,'="',r(n.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&i[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),n&&i[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:r(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",r(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},eg=(e={},t=as())=>{const n=Jf(e);return e.validate=!("validate"in e)||e.validate,{serialize:o=>{const i=e.validate,r={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var o;const a=r[e.type];if(a)a(e);else{const r=e.name,a=r in t.getVoidElements();let l=e.attributes;if(i&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(r,l,a),hr(r))h(e.value)&&n.text(e.value,!0),n.end(r);else if(!a){let t=e.firstChild;if(t){"pre"!==r&&"textarea"!==r||3!==t.type||"\n"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(r)}}};return 1!==o.type||e.inner?3===o.type?r[3](o):r[11](o):s(o),n.getContent()}}},tg=new Set;V(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{tg.add(e)}));const ng=["font","text-decoration","text-emphasis"],og=(e,t)=>he(e.parseStyle(e.getAttrib(t,"style"))),ig=(e,t,n)=>{const o=og(e,t),i=og(e,n),r=o=>{var i,r;const s=null!==(i=e.getStyle(t,o))&&void 0!==i?i:"",a=null!==(r=e.getStyle(n,o))&&void 0!==r?r:"";return Ge(s)&&Ge(a)&&s!==a};return $(o,(e=>{const t=t=>$(t,(t=>t===e));if(!t(i)&&t(ng)){const e=G(i,(e=>$(ng,(t=>We(e,t)))));return $(e,r)}return r(e)}))},rg=(e,t,n)=>P.from(n.container()).filter(Qo).exists((o=>{const i=e?0:-1;return t(o.data.charAt(n.offset()+i))})),sg=R(rg,!0,Uu),ag=R(rg,!1,Uu),lg=e=>{const t=e.container();return Qo(t)&&(0===t.data.length||Li(t.data)&&jh.isBookmarkNode(t.parentNode))},cg=(e,t)=>n=>qd(e?0:-1,n).filter(t).isSome(),dg=e=>ii(e)&&"block"===ao(yn(e),"display"),ug=e=>si(e)&&!(e=>zo(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),hg=cg(!0,dg),pg=cg(!1,dg),fg=cg(!0,ci),gg=cg(!1,ci),mg=cg(!0,Go),vg=cg(!1,Go),yg=cg(!0,ug),bg=cg(!1,ug),wg=(e,t)=>((e,t,n)=>Sn(t,e)?Tn(e,(e=>n(e)||xn(e,t))).slice(0,-1):[])(e,t,I),Cg=(e,t)=>[e].concat(wg(e,t)),xg=(e,t,n)=>Cu(e,t,n,lg),Sg=(e,t,n)=>Z(Cg(yn(t.container()),e),(e=>t=>e.isBlock(zt(t)))(n)),_g=(e,t,n,o)=>xg(e,t.dom,n).forall((e=>Sg(t,n,o).fold((()=>!Vd(e,n,t.dom)),(o=>!Vd(e,n,t.dom)&&Sn(o,yn(e.container())))))),kg=(e,t,n,o)=>Sg(t,n,o).fold((()=>xg(e,t.dom,n).forall((e=>!Vd(e,n,t.dom)))),(t=>xg(e,t.dom,n).isNone())),Eg=R(kg,!1),Ag=R(kg,!0),$g=R(_g,!1),Tg=R(_g,!0),Lg=e=>tu(e).exists(wi),Rg=(e,t,n,o)=>{const i=G(Cg(yn(n.container()),t),(e=>o.isBlock(zt(e)))),r=le(i).getOr(t);return bu(e,r.dom,n).filter(Lg)},Mg=(e,t,n)=>tu(t).exists(wi)||Rg(!0,e,t,n).isSome(),Dg=(e,t,n)=>(e=>P.from(e.getNode(!0)).map(yn))(t).exists(wi)||Rg(!1,e,t,n).isSome(),Og=R(Rg,!1),Ng=R(Rg,!0),Ig=e=>za.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Fg=(e,t,n)=>{const o=G(Cg(yn(t.container()),e),(e=>n.isBlock(zt(e))));return le(o).getOr(e)},Pg=(e,t,n)=>Ig(t)?ag(t):ag(t)||_u(Fg(e,t,n).dom,t).exists(ag),Bg=(e,t,n)=>Ig(t)?sg(t):sg(t)||Su(Fg(e,t,n).dom,t).exists(sg),Hg=e=>tu(e).bind((e=>Xn(e,Vt))).exists((e=>(e=>U(["pre","pre-wrap"],e))(ao(e,"white-space")))),zg=(e,t)=>n=>{return o=new Po(n,e)[t](),w(o)&&si(o)&&Od(o);var o},Wg=(e,t,n)=>!Hg(t)&&(((e,t,n)=>((e,t)=>_u(e.dom,t).isNone())(e,t)||((e,t)=>Su(e.dom,t).isNone())(e,t)||Eg(e,t,n)||Ag(e,t,n)||Dg(e,t,n)||Mg(e,t,n))(e,t,n)||Pg(e,t,n)||Bg(e,t,n)),Ug=(e,t,n)=>!Hg(t)&&(Eg(e,t,n)||$g(e,t,n)||Dg(e,t,n)||Pg(e,t,n)||((e,t)=>{const n=_u(e.dom,t).getOr(t),o=zg(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(n.container()))})(e,t)),jg=(e,t,n)=>!Hg(t)&&(Ag(e,t,n)||Tg(e,t,n)||Mg(e,t,n)||Bg(e,t,n)||((e,t)=>{const n=Su(e.dom,t).getOr(t),o=zg(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(n.container()))})(e,t)),Vg=(e,t,n)=>Ug(e,t,n)||jg(e,(e=>{const t=e.container(),n=e.offset();return Qo(t)&&n<t.data.length?za(t,n+1):e})(t),n),qg=(e,t)=>Wu(e.charAt(t)),Kg=(e,t)=>Uu(e.charAt(t)),Gg=(e,t,n,o)=>{const i=t.data,r=za(t,0);return n||!qg(i,0)||Vg(e,r,o)?!!(n&&Kg(i,0)&&Ug(e,r,o))&&(t.data=fi+i.slice(1),!0):(t.data=" "+i.slice(1),!0)},Yg=(e,t,n,o)=>{const i=t.data,r=za(t,i.length-1);return n||!qg(i,i.length-1)||Vg(e,r,o)?!!(n&&Kg(i,i.length-1)&&jg(e,r,o))&&(t.data=i.slice(0,-1)+fi,!0):(t.data=i.slice(0,-1)+" ",!0)},Xg=(e,t,n,o)=>{if(0===n)return;const i=yn(e),r=Yn(i,(e=>o.isBlock(zt(e)))).getOr(i),s=e.data.slice(t,t+n),a=t+n>=e.data.length&&jg(r,za(e,e.data.length),o),l=0===t&&Ug(r,za(e,0),o);e.replaceData(t,n,rr(s,4,l,a))},Qg=(e,t,n)=>{const o=e.data.slice(t),i=o.length-qe(o).length;Xg(e,t,i,n)},Zg=(e,t,n)=>{const o=e.data.slice(0,t),i=o.length-Ke(o).length;Xg(e,t-i,i,n)},Jg=(e,t,n,o,i=!0)=>{const r=Ke(e.data).length,s=i?e:t,a=i?t:e;return i?s.appendData(a.data):s.insertData(0,a.data),wo(yn(a)),o&&Qg(s,r,n),s},em=(e,t)=>((e,t)=>{const n=e.container(),o=e.offset();return!za.isTextPosition(e)&&n===t.parentNode&&o>za.before(t).offset()})(t,e)?za(t.container(),t.offset()-1):t,tm=e=>{return Zi(e.previousSibling)?P.some((t=e.previousSibling,Qo(t)?za(t,t.data.length):za.after(t))):e.previousSibling?Eu(e.previousSibling):P.none();var t},nm=e=>{return Zi(e.nextSibling)?P.some((t=e.nextSibling,Qo(t)?za(t,0):za.before(t))):e.nextSibling?ku(e.nextSibling):P.none();var t},om=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},im=(e,t)=>t&&Se(e.schema.getBlockElements(),zt(t)),rm=(e,t,n,o=!0,i=!1)=>{const r=((e,t,n)=>((e,t,n)=>e?((e,t)=>nm(t).orThunk((()=>tm(t))).orThunk((()=>((e,t)=>Su(e,za.after(t)).orThunk((()=>_u(e,za.before(t)))))(e,t))))(t,n):((e,t)=>tm(t).orThunk((()=>nm(t))).orThunk((()=>((e,t)=>P.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>_u(e,za.before(t)))).orThunk((()=>Su(e,za.after(t)))))(e,t))))(t,n))(e,t,n).map(R(em,n)))(t,e.getBody(),n.dom),s=Yn(n,R(im,e),(a=e.getBody(),e=>e.dom===a));var a;const l=((e,t,n,o)=>{const i=Ln(e).filter(qt),r=Rn(e).filter(qt);return wo(e),(s=i,a=r,l=t,c=(e,t,i)=>{const r=e.dom,s=t.dom,a=r.data.length;return Jg(r,s,n,o),i.container()===s?za(r,a):i},s.isSome()&&a.isSome()&&l.isSome()?P.some(c(s.getOrDie(),a.getOrDie(),l.getOrDie())):P.none()).orThunk((()=>(o&&(i.each((e=>Zg(e.dom,e.dom.length,n))),r.each((e=>Qg(e.dom,0,n)))),t)));var s,a,l,c})(n,r,e.schema,((e,t)=>Se(e.schema.getTextInlineElements(),zt(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind((e=>((e,t)=>{if(ur(e)){const n=gn('<br data-mce-bogus="1">');return t?V(On(e),(e=>{Sh(e)||wo(e)})):bo(e),mo(e,n),P.some(za.before(n.dom))}return P.none()})(e,i))).fold((()=>{o&&om(e,t,l)}),(n=>{o&&om(e,t,P.some(n))}))},sm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,am=(e,t)=>wn(yn(t),rc(e))&&!Er(e.schema,t)&&e.dom.isEditable(t),lm=e=>{var t;return"rtl"===Is.DOM.getStyle(e,"direction",!0)||(e=>sm.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},cm=(e,t,n)=>{const o=((e,t,n)=>G(Is.DOM.getParents(n.container(),"*",t),e))(e,t,n);return P.from(o[o.length-1])},dm=(e,t)=>{const n=t.container(),o=t.offset();return e?Ni(n)?Qo(n.nextSibling)?za(n.nextSibling,0):za.after(n):Pi(t)?za(n,o+1):t:Ni(n)?Qo(n.previousSibling)?za(n.previousSibling,n.previousSibling.data.length):za.before(n):Bi(t)?za(n,o-1):t},um=R(dm,!0),hm=R(dm,!1),pm=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},fm=e=>pm(e,"Delete"),gm=e=>Ci(e)||Si(e),mm=(e,t)=>Sn(e,t)?Xn(t,gm,(e=>t=>Ot(An(t),e,xn))(e)):P.none(),vm=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},ym=(e,t,n)=>It(ku(n),Eu(n),((o,i)=>{const r=dm(!0,o),s=dm(!1,i),a=dm(!1,t);return e?Su(n,a).exists((e=>e.isEqual(s)&&t.isEqual(r))):_u(n,a).exists((e=>e.isEqual(r)&&t.isEqual(s)))})).getOr(!0),bm=e=>{var t;return(8===Wt(t=e)||"#comment"===zt(t)?Ln(e):Fn(e)).bind(bm).orThunk((()=>P.some(e)))},wm=(e,t,n,o=!0)=>{var i;t.deleteContents();const r=bm(n).getOr(n),s=yn(null!==(i=e.dom.getParent(r.dom,e.dom.isBlock))&&void 0!==i?i:n.dom);if(s.dom===e.getBody()?vm(e,o):ur(s)&&($i(s),o&&e.selection.setCursorLocation(s.dom,0)),!xn(n,s)){const e=Ot(An(s),n)?[]:An(a=s).map(On).map((e=>G(e,(e=>!xn(a,e))))).getOr([]);V(e.concat(On(n)),(e=>{xn(e,s)||Sn(e,s)||!ur(e)||wo(e)}))}var a},Cm=(e,t)=>Qn(e,t).isSome(),xm=e=>Io(e,"td,th"),Sm=(e,t)=>Gu(yn(e),t),_m=(e,t)=>({start:e,end:t}),km=hl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Em=(e,t)=>eo(yn(e),"td,th",t),Am=e=>!xn(e.start,e.end),$m=(e,t)=>Gu(e.start,t).bind((n=>Gu(e.end,t).bind((e=>Ft(xn(n,e),n))))),Tm=e=>t=>$m(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,xm(e)))),Lm=(e,t,n,o)=>{if(n.collapsed||!e.forall(Am))return P.none();if(t.isSameTable){const t=e.bind(Tm(o));return P.some({start:t,end:t})}{const e=Em(n.startContainer,o),t=Em(n.endContainer,o),i=e.bind((e=>t=>Gu(t,e).bind((e=>ce(xm(e)).map((e=>_m(t,e))))))(o)).bind(Tm(o)),r=t.bind((e=>t=>Gu(t,e).bind((e=>le(xm(e)).map((e=>_m(e,t))))))(o)).bind(Tm(o));return P.some({start:i,end:r})}},Rm=(e,t)=>J(e,(e=>xn(e,t))),Mm=e=>It(Rm(e.cells,e.rng.start),Rm(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),Dm=(e,t)=>{const{startTable:n,endTable:o}=t,i=e.cloneRange();return n.each((e=>i.setStartAfter(e.dom))),o.each((e=>i.setEndBefore(e.dom))),i},Om=e=>V(e,(e=>{nn(e,"contenteditable"),$i(e)})),Nm=(e,t,n,o)=>{const i=n.cloneRange();o?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),Bm(e,i,t,!1).each((e=>e()))},Im=e=>{const t=Ku(e),n=yn(e.selection.getNode());ai(n.dom)&&ur(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&$(t,(e=>xn(e,n)))&&Qt(n,"data-mce-selected","1")},Fm=(e,t,n)=>P.some((()=>{const o=e.selection.getRng(),i=n.bind((({rng:n,isStartInTable:i})=>{const r=((e,t)=>P.from(e.dom.getParent(t,e.dom.isBlock)).map(yn))(e,i?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?wo(n):($i(n),e.selection.setCursorLocation(n.dom,0))}))})(e,i,r.filter(ur));const s=i?t[0]:t[t.length-1];return Nm(e,s,o,i),ur(s)?P.none():P.some(i?t.slice(1):t.slice(0,-1))})).getOr(t);Om(i),Im(e)})),Pm=(e,t,n,o)=>P.some((()=>{const i=e.selection.getRng(),r=t[0],s=n[n.length-1];Nm(e,r,i,!0),Nm(e,s,i,!1);const a=ur(r)?t:t.slice(1),l=ur(s)?n:n.slice(0,-1);Om(a.concat(l)),o.deleteContents(),Im(e)})),Bm=(e,t,n,o=!0)=>P.some((()=>{wm(e,t,n,o)})),Hm=(e,t)=>P.some((()=>rm(e,!1,t))),zm=(e,t)=>Z(Cg(t,e),ki),Wm=(e,t)=>Z(Cg(t,e),Yt("caption")),Um=(e,t)=>P.some((()=>{$i(t),e.selection.setCursorLocation(t.dom,0)})),jm=(e,t)=>e?mg(t):vg(t),Vm=(e,t)=>{const n=yn(e.selection.getStart(!0)),o=Ku(e);return e.selection.isCollapsed()&&0===o.length?((e,t,n)=>{const o=yn(e.getBody());return Wm(o,n).fold((()=>((e,t,n,o)=>{const i=za.fromRangeStart(e.selection.getRng());return zm(n,o).bind((o=>ur(o)?Um(e,o):((e,t,n,o,i)=>wu(n,e.getBody(),i).bind((e=>zm(t,yn(e.getNode())).bind((e=>xn(e,o)?P.none():P.some(_))))))(e,n,t,o,i)))})(e,t,o,n).orThunk((()=>Ft(((e,t)=>{const n=za.fromRangeStart(e.selection.getRng());return jm(t,n)||bu(t,e.getBody(),n).exists((e=>jm(t,e)))})(e,t),_)))),(n=>((e,t,n,o)=>{const i=za.fromRangeStart(e.selection.getRng());return ur(o)?Um(e,o):((e,t,n,o,i)=>wu(n,e.getBody(),i).fold((()=>P.some(_)),(r=>((e,t,n,o)=>ku(e.dom).bind((i=>Eu(e.dom).map((e=>t?n.isEqual(i)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(i))))).getOr(!0))(o,n,i,r)?((e,t)=>Um(e,t))(e,o):((e,t,n)=>Wm(e,yn(n.getNode())).fold((()=>P.some(_)),(e=>Ft(!xn(e,t),_))))(t,o,r))))(e,n,t,o,i)})(e,t,o,n)))})(e,t,n):((e,t,n)=>{const o=yn(e.getBody()),i=e.selection.getRng();return 0!==n.length?Fm(e,n,P.none()):((e,t,n,o)=>Wm(t,o).fold((()=>((e,t,n)=>((e,t)=>{const n=(e=>t=>xn(e,t))(e),o=((e,t)=>{const n=Em(e.startContainer,t),o=Em(e.endContainer,t);return It(n,o,_m)})(t,n),i=((e,t)=>{const n=Sm(e.startContainer,t),o=Sm(e.endContainer,t),i=n.isSome(),r=o.isSome(),s=It(n,o,xn).getOr(!1);return(e=>It(e.startTable,e.endTable,((t,n)=>{const o=Cm(t,(e=>xn(e,n))),i=Cm(n,(e=>xn(e,t)));return o||i?{...e,startTable:o?P.none():e.startTable,endTable:i?P.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e})).getOr(e))({startTable:n,endTable:o,isStartInTable:i,isEndInTable:r,isSameTable:s,isMultiTable:!s&&i&&r})})(t,n);return((e,t,n)=>e.exists((e=>((e,t)=>!Am(e)&&$m(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&Qu(e.start,t))))(o,t,n)?o.map((e=>km.singleCellTable(t,e.start))):i.isMultiTable?((e,t,n,o)=>Lm(e,t,n,o).bind((({start:e,end:o})=>{const i=e.bind(Mm).getOr([]),r=o.bind(Mm).getOr([]);if(i.length>0&&r.length>0){const e=Dm(n,t);return P.some(km.multiTable(i,r,e))}return P.none()})))(o,i,t,n):((e,t,n,o)=>Lm(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,i=Mm(e).getOr([]);if(o&&e.cells.length===i.length)return P.some(km.fullTable(e.table));if(i.length>0){if(o)return P.some(km.partialTable(i,P.none()));{const e=Dm(n,t);return P.some(km.partialTable(i,P.some({...t,rng:e})))}}return P.none()})))(o,i,t,n)})(t,n).bind((t=>t.fold(R(Bm,e),R(Hm,e),R(Fm,e),R(Pm,e)))))(e,t,n)),(t=>((e,t)=>Um(e,t))(e,t))))(e,o,i,t)})(e,n,o)},qm=(e,t)=>{let n=t;for(;n&&n!==e;){if(ri(n)||si(n))return n;n=n.parentNode}return null},Km=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Gm=Dt.each,Ym=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=e=>$(Km,(t=>We(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const i=e=>{const n={};return Gm(t.getAttribs(e),(i=>{const r=i.nodeName.toLowerCase();"style"===r||o(r)||(n[r]=t.getAttrib(e,r))})),n},r=(e,t)=>{for(const n in e)if(Se(e,n)){const o=t[n];if(y(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const e in t)if(Se(t,e))return!1;return!0};if(zo(e)&&zo(n)){if(!r(i(e),i(n)))return!1;if(!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!zu(e)&&!zu(n)},isAttributeInternal:o}},Xm=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Qm=(e,t,n,o)=>{const i=n.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===i){const e=o.nodes[i];e?e.nodes.push(n):o.nodes[i]={filter:r,nodes:[n]}}}if(n.attributes)for(let e=0,i=t.length;e<i;e++){const i=t[e],r=i.name;if(r in n.attributes.map){const e=o.attributes[r];e?e.nodes.push(n):o.attributes[r]={filter:i,nodes:[n]}}}},Zm=(e,t)=>{const n=(e,n)=>{fe(e,(e=>{const o=de(e.nodes);V(e.filter.callbacks,(i=>{for(let t=o.length-1;t>=0;t--){const i=o[t];(n?void 0!==i.attr(e.filter.name):i.name===e.filter.name)&&!b(i.parent)||o.splice(t,1)}o.length>0&&i(o,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},Jm=(e,t,n,o={})=>{const i=((e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&((n,i)=>{let r=n;for(;r=r.walk();)Qm(e,t,r,o)})(n),o})(e,t,n);Zm(i,o)},ev=(e,t,n,o)=>{if((e.pad_empty_with_br||t.insert)&&n(o)){const e=new If("br",1);t.insert&&e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new If("#text",3)).value=fi},tv=(e,t)=>{const n=null==e?void 0:e.firstChild;return w(n)&&n===e.lastChild&&n.name===t},nv=(e,t,n,o)=>o.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),ov=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return P.from(t)},iv=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&iv(e,t,n);e.unwrap()}},rv=(e,t,n,o=_)=>{const i=t.getTextBlockElements(),r=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,c=e=>e!==n&&!a[e.name];for(let n=0;n<e.length;n++){const a=e[n];let d,u,h;if(!a.parent||l.has(a))continue;if(i[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&i[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const p=[a];for(d=a.parent;d&&!t.isValidChild(d.name,a.name)&&c(d);d=d.parent)p.push(d);if(d&&p.length>1)if(sv(t,a,d))iv(a,t);else{p.reverse(),u=p[0].clone(),o(u);let e=u;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(h=p[n].clone(),o(h),e.append(h)):h=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){const t=e.next;h.append(e),e=t}e=h}nv(t,r,s,u)?d.insert(a,p[0],!0):(d.insert(u,p[0],!0),d.insert(a,u)),d=p[0],(nv(t,r,s,d)||tv(d,"br"))&&d.empty().remove()}else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new If("ul",1);o(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new If("div",1);o(e),a.wrap(e)}else iv(a,t)}}},sv=(e,t,n=t.parent)=>!(!n||(!e.children[t.name]||e.isValidChild(n.name,t.name))&&("a"!==t.name||!((e,t)=>{let n=e;for(;n;){if("a"===n.name)return!0;n=n.parent}return!1})(n))&&(!(e=>"summary"===e.name)(n)||!Xm(t)||(null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t)),av=e=>e.collapsed?e:(e=>{const t=za.fromRangeStart(e),n=za.fromRangeEnd(e),o=e.commonAncestorContainer;return bu(!1,o,n).map((i=>!Vd(t,n,o)&&Vd(t,i,o)?((e,t,n,o)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,o),i})(t.container(),t.offset(),i.container(),i.offset()):e)).getOr(e)})(e),lv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},cv=(e,t)=>{const n=za.after(e),o=gu(t).prev(n);return o?o.toRange():null},dv=(e,t,n,o)=>{const i=((e,t,n)=>{const o=t.serialize(n);return(e=>{var t,n;const o=e.firstChild,i=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),i&&"mce_marker"===i.id&&(null===(n=i.parentNode)||void 0===n||n.removeChild(i)),e})(e.createFragment(o))})(t,e,o),r=lv(t,n.startContainer),s=(e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||w(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===fi||oi(e))(t.firstChild))?e.slice(0,-1):e;var t,n})((a=i.firstChild,G(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),d=e=>{const o=za.fromRangeStart(n),i=gu(t.getRoot()),s=1===e?i.prev(o):i.next(o),a=null==s?void 0:s.getNode();return!a||lv(t,a)!==r};return r?d(1)?((e,t,n)=>{const o=e.parentNode;return o&&Dt.each(t,(t=>{o.insertBefore(t,e)})),((e,t)=>{const n=za.before(e),o=gu(t).next(n);return o?o.toRange():null})(e,n)})(r,s,c):d(2)?((e,t,n,o)=>(o.insertAfter(t.reverse(),e),cv(t[0],n)))(r,s,c,t):((e,t,n,o)=>{const i=((e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]})(e,o),r=e.parentNode;return r&&(r.insertBefore(i[0],e),Dt.each(t,(t=>{r.insertBefore(t,e)})),r.insertBefore(i[1],e),r.removeChild(e)),cv(t[t.length-1],n)})(r,s,c,n):null},uv=["pre"],hv=ai,pv=(e,t,n)=>{var o,i;const r=e.selection,s=e.dom,a=e.parser,l=n.merge,c=eg({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Ri(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let u=r.getRng();const h=u.startContainer,p=e.getBody();h===p&&r.isCollapsed()&&s.isBlock(p.firstChild)&&((e,t)=>w(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&s.isEmpty(p.firstChild)&&(u=s.createRng(),u.setStart(p.firstChild,0),u.setEnd(p.firstChild,0),r.setRng(u)),r.isCollapsed()||(e=>{const t=e.dom,n=av(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,hv);((e,t,n)=>!!w(n)&&n===e.getParent(t.endContainer,hv)&&Qu(yn(n),t))(t,n,o)?Bm(e,n,yn(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&Qo(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const f=r.getNode(),g={context:f.nodeName.toLowerCase(),data:n.data,insert:!0},m=a.parse(t,g);if(!0===n.paste&&((e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),((e,t)=>{const n=e.getNonEmptyElements();return w(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>w(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===fi)(t.firstChild))(e,t))})(e,o)&&(o=null==o?void 0:o.prev),!(!n||n!==o||"ul"!==n.name&&"ol"!==n.name)})(e.schema,m)&&((e,t)=>!!lv(e,t))(s,f))return u=dv(c,s,r.getRng(),m),u&&r.setRng(u),t;!0===n.paste&&((e,t,n,o)=>{var i;const r=t.firstChild,s=t.lastChild,a=r===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=U(uv,r.name);if(a&&l){const t="false"!==r.attr("contenteditable"),s=(null===(i=e.getParent(n,e.isBlock))||void 0===i?void 0:i.nodeName.toLowerCase())===r.name,a=P.from(qm(o,n)).forall(ri);return t&&s&&a}return!1})(s,m,f,e.getBody())&&(null===(o=m.firstChild)||void 0===o||o.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(m);let v=m.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),g.invalid||((e,t,n)=>{var o;return $(n.children(),Xm)&&"SUMMARY"===(null===(o=e.getParent(t,e.isBlock))||void 0===o?void 0:o.nodeName)})(s,f,m)){e.selection.setContent(d);let n,o=r.getNode();const l=e.getBody();for(ti(o)?o=n=l:n=o;n&&n!==l;)o=n,n=n.parentNode;t=o===l?l.innerHTML:s.getOuterHTML(o);const u=a.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return P.some(t);return P.none()})(u),p=h.bind(ov).getOr(u);h.each((e=>e.replace(m)));const f=m.children(),g=null!==(i=m.parent)&&void 0!==i?i:u;m.unwrap();const v=G(f,(t=>sv(e.schema,t,g)));rv(v,e.schema,p),Jm(a.getNodeFilters(),a.getAttributeFilters(),u),t=c.serialize(u),o===l?s.setHTML(l,t):s.setOuterHTML(o,t)}else t=c.serialize(m),((e,t,n)=>{var o;if("all"===n.getAttribute("data-mce-bogus"))null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,i=n.lastChild;!o||o===i&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,f);var y;return((e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),i=Ym(e);Dt.each(o.select("*[data-mce-fragment]"),(e=>{if(w(n[e.nodeName.toLowerCase()])&&((e,t)=>ne(og(e,t),(e=>!(e=>tg.has(e))(e))))(o,e))for(let n=e.parentElement;w(n)&&n!==t&&!ig(o,e,n);n=n.parentElement)if(i.compare(n,e)){o.remove(e,!0);break}}))}})(e,l),((e,t)=>{var n,o,i;let r;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=qm(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const d=t.previousSibling;if(Qo(d)){c.setStart(d,null!==(o=null===(n=d.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;Qo(e)&&(d.appendData(e.data),null===(i=e.parentNode)||void 0===i||i.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const u=s.getParent(t,s.isBlock);if(s.remove(t),u&&s.isEmpty(u)){const t=hv(u);bo(yn(u)),c.setStart(u,0),c.setEnd(u,0),t||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(r=(t=>{let n=za.fromRangeStart(t);return n=gu(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(u,s.create("br",t?{}:{"data-mce-bogus":"1"})):(c=r,s.remove(u))}a.setRng(c)})(e,s.get("mce_marker")),y=e.getBody(),Dt.each(y.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t,n)=>{P.from(e.getParent(t,"td,th")).map(yn).each((e=>((e,t)=>{Fn(e).each((n=>{Ln(n).each((o=>{t.isBlock(zt(e))&&wi(n)&&t.isBlock(zt(o))&&wo(n)}))}))})(e,n)))})(s,r.getStart(),e.schema),((e,t,n)=>{const o=Tn(yn(n),(e=>xn(e,yn(t))));ae(o,o.length-2).filter(Vt).fold((()=>Cr(e,t)),(t=>Cr(e,t.dom)))})(e.schema,e.getBody(),r.getStart()),t},fv=e=>e instanceof If,gv=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{bf(e)&&ku(e.getBody()).each((t=>{const n=t.getNode(),o=Go(n)?ku(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e)},mv=e=>C(e)?e:I,vv=(e,t,n)=>{const o=t(e),i=mv(n);return o.orThunk((()=>i(e)?P.none():((e,t,n)=>{let o=e.dom;const i=mv(n);for(;o.parentNode;){o=o.parentNode;const e=yn(o),n=t(e);if(n.isSome())return n;if(i(e))break}return P.none()})(e,t,i)))},yv=hh,bv=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let n=0;n<o.length;n++){const i=o[n];if(bh(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},wv=(e,t,n,o,i)=>{const r=e.dom.getRoot();if(t===r)return!1;const s=e.dom.getParent(t,(t=>!!bv(e,t,n)||t.parentNode===r||!!Sv(e,t,n,o,!0)));return!!Sv(e,s,n,o,i)},Cv=(e,t,n)=>!(!wh(n)||!yv(t,n.inline))||!(!yh(n)||!yv(t,n.block))||!!bh(n)&&zo(t)&&e.is(t,n.selector),xv=(e,t,n,o,i,r)=>{const s=n[o],a="attributes"===o;if(C(n.onmatch))return n.onmatch(t,n,o);if(s)if(Ee(s)){for(let n=0;n<s.length;n++)if(a?e.getAttrib(t,s[n]):fh(e,t,s[n]))return!0}else for(const o in s)if(Se(s,o)){const l=a?e.getAttrib(t,o):fh(e,t,o),c=uh(s[o],r),d=b(l)||Ye(l);if(d&&b(c))continue;if(i&&d&&!n.exact)return!1;if((!i||n.exact)&&!yv(l,ph(c,o)))return!1}return!0},Sv=(e,t,n,o,i)=>{const r=e.formatter.get(n),s=e.dom;if(r&&zo(t))for(let n=0;n<r.length;n++){const a=r[n];if(Cv(e.dom,t,a)&&xv(s,t,a,"attributes",i,o)&&xv(s,t,a,"styles",i,o)){const n=a.classes;if(n)for(let i=0;i<n.length;i++)if(!e.dom.hasClass(t,uh(n[i],o)))return;return a}}},_v=(e,t,n,o,i)=>{if(o)return wv(e,o,t,n,i);if(o=e.selection.getNode(),wv(e,o,t,n,i))return!0;const r=e.selection.getStart();return!(r===o||!wv(e,r,t,n,i))},kv=Ti,Ev=e=>{if(e){const t=new Po(e,e);for(let e=t.current();e;e=t.next())if(Qo(e))return e}return null},Av=e=>{const t=mn("span");return Zt(t,{id:Au,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&mo(t,vn(kv)),t},$v=(e,t,n)=>{const o=e.dom,i=e.selection;if(xh(t))rm(e,!1,yn(t),n,!0);else{const e=i.getRng(),n=o.getParent(t,o.isBlock),r=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Ev(e);return t&&t.data.charAt(0)===kv&&t.deleteData(0,1),
t})(t);o.remove(t,!0),r===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&o.isEmpty(n)&&$i(yn(n)),i.setRng(e)}},Tv=(e,t,n)=>{const o=e.dom,i=e.selection;if(t)$v(e,t,n);else if(!(t=Tu(e.getBody(),i.getStart())))for(;t=o.get(Au);)$v(e,t,n)},Lv=(e,t)=>(e.appendChild(t),t),Rv=(e,t)=>{var n;const o=Y(e,((e,t)=>Lv(e,t.cloneNode(!1))),t),i=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return Lv(o,i.createTextNode(kv))},Mv=(e,t,n,o)=>{const s=e.dom,a=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const d=a.getRng(),u=d.startContainer,h=d.startOffset;let p=u;Qo(u)&&(h!==u.data.length&&(l=!0),p=p.parentNode);const f=[];let m;for(;p;){if(Sv(e,p,t,n,o)){m=p;break}p.nextSibling&&(l=!0),f.push(p),p=p.parentNode}if(m)if(l){const i=a.getBookmark();d.collapse(!0);let r=Ph(s,d,c,!0);r=$p(r),e.formatter.remove(t,n,r,o),a.moveToBookmark(i)}else{const l=Tu(e.getBody(),m),c=w(l)?s.getParents(m.parentNode,F,l):[],d=Av(!1).dom;((e,t,n)=>{var o,i;const r=e.dom,s=r.getParent(n,R(ah,e.schema));s&&r.isEmpty(s)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):((e=>{const t=Io(e,"br"),n=G((e=>{const t=[];let n=e.dom;for(;n;)t.push(yn(n)),n=n.lastChild;return t})(e).slice(-1),wi);t.length===n.length&&V(n,wo)})(yn(n)),r.isEmpty(n)?null===(i=n.parentNode)||void 0===i||i.replaceChild(t,n):r.insertAfter(t,n))})(e,d,null!=l?l:m);const u=((e,t,n,o,s,a)=>{const l=e.formatter,c=e.dom,d=G(he(l.get()),(e=>e!==o&&!ze(e,"removeformat"))),u=((e,t,n)=>X(n,((n,o)=>{const i=((e,t)=>vh(e,t,(e=>{const t=e=>C(e)||e.length>1&&"%"===e.charAt(0);return $(["styles","attributes"],(n=>xe(e,n).exists((e=>{const n=g(e)?e:Ce(e);return $(n,t)}))))})))(e,o);return e.formatter.matchNode(t,o,{},i)?n.concat([o]):n}),[]))(e,n,d);if(G(u,(t=>!((e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],s=e=>be(e,((e,t)=>$(o,(e=>e===t))));return vh(e,t,(t=>{const o=s(t);return vh(e,n,(e=>{const t=s(e);return((e,t,n=r)=>i(n).eq(e,t))(o,t)}))}))})(e,t,o))).length>0){const e=n.cloneNode(!1);return c.add(t,e),l.remove(o,s,e,a),c.remove(e),P.some(e)}return P.none()})(e,d,m,t,n,o),h=Rv([...f,...u.toArray(),...c],d);l&&$v(e,l,w(l)),a.setCursorLocation(h,1),s.isEmpty(m)&&s.remove(m)}},Dv=e=>{const t=Av(!1),n=Rv(e,t.dom);return{caretContainer:t,caretPosition:za(n,0)}},Ov=(e,t)=>{const{caretContainer:n,caretPosition:o}=Dv(t);return po(yn(e),n),wo(yn(e)),o},Nv=(e,t)=>{if($u(t.dom))return!1;const n=e.schema.getTextInlineElements();return Se(n,zt(t))&&!$u(t.dom)&&!Ko(t.dom)},Iv={},Fv=jo(["pre"]);((e,t)=>{Iv[e]||(Iv[e]=[]),Iv[e].push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=G(G(t,Fv),(e=>t=>{const n=t.previousSibling;return Fv(n)&&U(e,n)})(t));V(n,(e=>{((e,t)=>{const n=yn(t),o=kn(n).dom;wo(n),yo(yn(e),[mn("br",o),mn("br",o),...On(n)])})(e.previousSibling,e)}))}}))})("pre");const Pv=["fontWeight","fontStyle","color","fontSize","fontFamily"],Bv=(e,t)=>{const n=e.get(t);return g(n)?Z(n,(e=>wh(e)&&"span"===e.inline&&(e=>p(e.styles)&&$(he(e.styles),(e=>U(Pv,e))))(e))):P.none()},Hv=(e,t)=>_u(t,za.fromRangeStart(e)).isNone(),zv=(e,t)=>!1===Su(t,za.fromRangeEnd(e)).exists((e=>!oi(e.getNode())||Su(t,e).isSome())),Wv=e=>t=>di(t)&&e.isEditable(t),Uv=e=>G(e.getSelectedBlocks(),Wv(e.dom)),jv=Dt.each,Vv=e=>zo(e)&&!zu(e)&&!$u(e)&&!Ko(e),qv=(e,t)=>{for(let n=e;n;n=n[t]){if(Qo(n)&&Ge(n.data))return e;if(zo(n)&&!zu(n))return n}return e},Kv=(e,t,n)=>{const o=Ym(e),i=Wo(t)&&e.dom.isEditable(t),r=Wo(n)&&e.dom.isEditable(n);if(i&&r){const i=qv(t,"previousSibling"),r=qv(n,"nextSibling");if(o.compare(i,r)){for(let e=i.nextSibling;e&&e!==r;){const t=e;e=e.nextSibling,i.appendChild(t)}return e.dom.remove(r),Dt.each(Dt.grep(r.childNodes),(e=>{i.appendChild(e)})),i}}return n},Gv=(e,t,n,o)=>{var i;if(o&&!1!==t.merge_siblings){const t=null!==(i=Kv(e,sh(o),o))&&void 0!==i?i:o;Kv(e,t,sh(t,!0))}},Yv=(e,t,n)=>{jv(e.childNodes,(e=>{Vv(e)&&(t(e)&&n(e),e.hasChildNodes()&&Yv(e,t,n))}))},Xv=(e,t)=>n=>!(!n||!fh(e,n,t)),Qv=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,o)},Zv=hl([{keep:[]},{rename:["name"]},{removed:[]}]),Jv=/^(src|href|style)$/,ey=Dt.each,ty=hh,ny=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),oy=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(zo(o)){const e=o.childNodes.length-1;!n&&i&&i--,o=o.childNodes[i>e?e:i]}return Qo(o)&&n&&i>=o.data.length&&(o=new Po(o,e.getBody()).next()||o),Qo(o)&&!n&&0===i&&(o=new Po(o,e.getBody()).prev()||o),o},iy=(e,t)=>{const n=t?"firstChild":"lastChild",o=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&o?"TR"===e.nodeName&&o[n]||o:e},ry=(e,t,n,o)=>{var i;const r=e.create(n,o);return null===(i=t.parentNode)||void 0===i||i.insertBefore(r,t),r.appendChild(t),r},sy=(e,t,n,o,i)=>{const r=yn(t),s=yn(e.create(o,i)),a=n?Dn(r):Mn(r);return yo(s,a),n?(po(r,s),go(s,r)):(fo(r,s),mo(s,r)),s.dom},ay=(e,t,n)=>{const o=t.parentNode;let i;const r=e.dom,s=Dl(e);yh(n)&&o===r.getRoot()&&(n.list_block&&ty(t,n.list_block)||V(de(t.childNodes),(t=>{lh(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=ry(r,t,s),r.setAttribs(i,Ol(e))):i=null}))),(e=>bh(e)&&wh(e)&&Ot(xe(e,"mixed"),!0))(n)&&!ty(n.inline,t)||r.remove(t,!0)},ly=(e,t,n)=>x(e)?{name:t,value:null}:{name:e,value:uh(t,n)},cy=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},dy=(e,t,n,o,i)=>{let r=!1;ey(n.styles,((s,a)=>{const{name:l,value:c}=ly(a,s,o),d=ph(c,l);(n.remove_similar||m(c)||!zo(i)||ty(fh(e,i,l),d))&&e.setStyle(t,l,""),r=!0})),r&&cy(e,t)},uy=(e,t,n,o,i)=>{const r=e.dom,s=Ym(e),a=e.schema;if(wh(t)&&_r(a,t.inline)&&Er(a,o)&&o.parentElement===e.getBody())return ay(e,o,t),Zv.removed();if(!t.ceFalseOverride&&o&&"false"===r.getContentEditableParent(o))return Zv.keep();if(o&&!Cv(r,o,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(o,t))return Zv.keep();const l=o,c=t.preserve_attributes;if(wh(t)&&"all"===t.remove&&g(c)){const e=G(r.getAttribs(l),(e=>U(c,e.name.toLowerCase())));if(r.removeAllAttribs(l),V(e,(e=>r.setAttrib(l,e.name,e.value))),e.length>0)return Zv.rename("span")}if("all"!==t.remove){dy(r,l,t,n,i),ey(t.attributes,((e,o)=>{const{name:s,value:a}=ly(o,e,n);if(t.remove_similar||m(a)||!zo(i)||ty(r.getAttrib(i,s),a)){if("class"===s){const e=r.getAttrib(l,s);if(e){let t="";if(V(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void r.setAttrib(l,s,t)}}if(Jv.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&jo(["li"])(l)&&"none"===r.getStyle(l,"list-style-type"))return l.removeAttribute(s),void r.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),ey(t.classes,(e=>{e=uh(e,n),zo(i)&&!r.hasClass(i,e)||r.removeClass(l,e)}));const e=r.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!s.isAttributeInternal(n))return Zv.keep()}}return"none"!==t.remove?(ay(e,l,t),Zv.removed()):Zv.keep()},hy=(e,t,n,o)=>uy(e,t,n,o,o).fold(A(o),(t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t))),A(null)),py=(e,t,n,o,i)=>{(o||e.selection.isEditable())&&((e,t,n,o,i)=>{const r=e.formatter.get(t),s=r[0],a=e.dom,l=e.selection,c=o=>{const a=((e,t,n,o,i)=>{let r;return t.parentNode&&V(mh(e.dom,t.parentNode).reverse(),(t=>{if(!r&&zo(t)&&"_start"!==t.id&&"_end"!==t.id){const s=Sv(e,t,n,o,i);s&&!1!==s.split&&(r=t)}})),r})(e,o,t,n,i);return((e,t,n,o,i,r,s,a)=>{var l,c;let d,u;const h=e.dom;if(n){const r=n.parentNode;for(let n=o.parentNode;n&&n!==r;n=n.parentNode){let o=h.clone(n,!1);for(let n=0;n<t.length&&(o=hy(e,t[n],a,o),null!==o);n++);o&&(d&&o.appendChild(d),u||(u=o),d=o)}s.mixed&&h.isBlock(n)||(o=null!==(l=h.split(n,o))&&void 0!==l?l:o),d&&u&&(null===(c=i.parentNode)||void 0===c||c.insertBefore(d,i),u.appendChild(i),wh(s)&&Gv(e,s,0,d))}return o})(e,r,a,o,o,0,s,n)},d=t=>$(r,(o=>fy(e,o,n,t,t))),u=t=>{const n=de(t.childNodes),o=d(t)||$(r,(e=>Cv(a,t,e))),i=t.parentNode;if(!o&&w(i)&&Ch(s)&&d(i),s.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);V(["underline","line-through","overline"],(n=>{zo(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&gh(a,t.parentNode)===n&&fy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},h=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>zu(e)&&zo(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),Qo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},p=t=>{let n,o,i=Ph(a,t,r,t.collapsed);if(s.split){if(i=$p(i),n=oy(e,i,!0),o=oy(e,i),n!==o){if(n=iy(n,!0),o=iy(o,!1),ny(a,n,o)){const e=P.from(n.firstChild).getOr(n);return c(sy(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(ny(a,o,n)){const e=P.from(o.lastChild).getOr(o);return c(sy(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=ry(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=ry(a,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(o),Bh(a,e,(e=>{V(e,(e=>{zu(e)||zu(e.parentNode)||c(e)}))})),c(n),c(o),n=h(!0),o=h()}else n=o=c(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=a.nodeIndex(n),i.endContainer=o.parentNode?o.parentNode:o,i.endOffset=a.nodeIndex(o)+1}Bh(a,i,(e=>{V(e,u)}))};if(o){if(nh(o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),p(e)}else p(o);Gh(e,t,o,n)}else l.isCollapsed()&&wh(s)&&!Ku(e).length?Mv(e,t,n,i):(ih(e,(()=>eh(e,p)),(o=>wh(s)&&_v(e,t,n,o))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?V(Uv(e.selection),(t=>{V(Pv,(n=>e.dom.setStyle(t,n,""))),cy(e.dom,t)})):Bv(e.formatter,t).each((t=>{V(Uv(e.selection),(o=>dy(e.dom,o,t,n,null)))}))})(e,t,n),Gh(e,t,o,n)})(e,t,n,o,i)},fy=(e,t,n,o,i)=>uy(e,t,n,o,i).fold(I,(t=>(e.dom.rename(o,t),!0)),F),gy=Dt.each,my=Dt.each,vy=(e,t,n,o)=>{if(my(n.styles,((n,i)=>{e.setStyle(t,i,uh(n,o))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},yy=(e,t,n,o)=>{const i=e.formatter.get(t),r=i[0],s=!o&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=r)=>{C(t.onformat)&&t.onformat(e,t,n,o),vy(a,e,t,n),my(t.attributes,((t,o)=>{a.setAttrib(e,o,uh(t,n))})),my(t.classes,(t=>{const o=uh(t,n);a.hasClass(e,o)||a.addClass(e,o)}))},d=(e,t)=>{let n=!1;return my(e,(e=>!(!bh(e)||("false"!==a.getContentEditable(t)||e.ceFalseOverride)&&(!w(e.collapsed)||e.collapsed===s)&&a.is(t,e.selector)&&!$u(t)&&(c(t,e),n=!0,1)))),n},u=e=>{if(h(e)){const t=a.create(e);return c(t),t}return null},p=(o,s,a)=>{const l=[];let h=!0;const p=r.inline||r.block,f=u(p);Bh(o,s,(s=>{let u;const g=s=>{let m=!1,v=h,y=!1;const b=s.parentNode,C=b.nodeName.toLowerCase(),x=o.getContentEditable(s);w(x)&&(v=h,h="true"===x,m=!0,y=dh(e,s));const S=h&&!m;if(oi(s)&&!((e,t,n,o)=>{if(yc(e)&&wh(t)&&n.parentNode){const t=rs(e.schema),i=((e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>Z(e.dom.childNodes,(e=>t(yn(e)))).map(yn))(yn(n.parentNode),(n=>!xn(e,n)&&t(n))):P.none()})(e,t).isSome())(yn(n),(e=>$u(e.dom)));return _e(t,o)&&ur(yn(n.parentNode),!1)&&!i}return!1})(e,r,s,C))return u=null,void(yh(r)&&o.remove(s));if((o=>(e=>yh(e)&&!0===e.wrapper)(r)&&Sv(e,o,t,n))(s))u=null;else{if(((t,n,o)=>{const i=(e=>yh(e)&&!0!==e.wrapper)(r)&&ah(e.schema,t)&&lh(e,n,p);return o&&i})(s,C,S)){const e=o.rename(s,p);return c(e),l.push(e),void(u=null)}if(bh(r)){let e=d(i,s);if(!e&&w(b)&&Ch(r)&&(e=d(i,b)),!wh(r)||e)return void(u=null)}w(f)&&((t,n,i,s)=>{const l=t.nodeName.toLowerCase(),c=lh(e,p,l)&&lh(e,n,p),d=!a&&Qo(t)&&Li(t.data),u=$u(t),h=!wh(r)||!o.isBlock(t);return(i||s)&&c&&!d&&!u&&h})(s,C,S,y)?(u||(u=o.clone(f,!1),b.insertBefore(u,s),l.push(u)),y&&m&&(h=v),u.appendChild(s)):(u=null,V(de(s.childNodes),g),m&&(h=v),u=null)}};V(s,g)})),!0===r.links&&V(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,r),V(de(e.childNodes),t)};t(e)})),V(l,(s=>{const a=(e=>{let t=0;return V(e.childNodes,(e=>{(e=>w(e)&&Qo(e)&&0===e.length)(e)||zu(e)||t++})),t})(s);!(l.length>1)&&o.isBlock(s)||0!==a?(wh(r)||yh(r)&&r.wrapper)&&(r.exact||1!==a||(s=(e=>Z(e.childNodes,oh).filter((e=>"false"!==o.getContentEditable(e)&&Cv(o,e,r))).map((t=>{const n=o.clone(t,!1);return c(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e))(s)),((e,t,n,o)=>{gy(t,(t=>{wh(t)&&gy(e.dom.select(t.inline,o),(o=>{Vv(o)&&fy(e,t,n,o,t.exact?o:null)})),((e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";jv(e.select(o,n),(n=>{Vv(n)&&e.isEditable(n)&&jv(t.styles,((t,o)=>{e.setStyle(n,o,"")}))}))}})(e.dom,t,o)}))})(e,i,n,s),((e,t,n,o,i)=>{const r=i.parentNode;Sv(e,r,n,o)&&fy(e,t,o,i)||t.merge_with_parents&&r&&e.dom.getParent(r,(r=>!!Sv(e,r,n,o)&&(fy(e,t,o,i),!0)))})(e,r,t,n,s),((e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const i=Xv(e,"fontSize");Yv(o,(t=>i(t)&&e.isEditable(t)),Qv(e,"backgroundColor",uh(t.styles.backgroundColor,n)))}})(o,r,n,s),((e,t,n,o)=>{const i=t=>{if(Wo(t)&&zo(t.parentNode)&&e.isEditable(t)){const n=gh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(o,i,"childNodes"),i(o))})(o,r,0,s),((e,t,n,o)=>{if(wh(t)&&("sub"===t.inline||"sup"===t.inline)){const n=Xv(e,"fontSize");Yv(o,(t=>n(t)&&e.isEditable(t)),Qv(e,"fontSize",""));const i=G(e.select("sup"===t.inline?"sub":"sup",o),e.isEditable);e.remove(i,!0)}})(o,r,0,s),Gv(e,r,0,s)):o.remove(s,!0)}))},f=nh(o)?o:l.getNode();if("false"===a.getContentEditable(f)&&!dh(e,f))return d(i,o=f),void Kh(e,t,o,n);if(r){if(o)if(nh(o)){if(!d(i,o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),p(a,Ph(a,e,i),!0)}}else p(a,o,!0);else s&&wh(r)&&!Ku(e).length?((e,t,n)=>{let o;const i=e.selection,r=e.formatter.get(t);if(!r)return;const s=i.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;o=Tu(e.getBody(),i.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const o=i.getBookmark();s.collapse(!0);let a=Ph(e.dom,s,r);a=$p(a),e.formatter.apply(t,n,a),i.moveToBookmark(o)}else{let r=o?Ev(o):null;o&&(null==r?void 0:r.data)===kv||(d=e.getDoc(),u=Av(!0).dom,o=d.importNode(u,!0),r=o.firstChild,s.insertNode(o),a=1),e.formatter.apply(t,n,o),i.setCursorLocation(r,a)}var d,u})(e,t,n):(l.setRng(av(l.getRng())),ih(e,(()=>{eh(e,((e,t)=>{const n=t?e:Ph(a,e,i);p(a,n,!1)}))}),F),e.nodeChanged()),Bv(e.formatter,t).each((t=>{V((e=>G((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return Hv(n,t[0])&&zv(n,t[0])?t:[];{const e=le(t).filter((e=>Hv(n,e))).toArray(),o=ce(t).filter((e=>zv(n,e))).toArray(),i=t.slice(1,-1);return e.concat(i).concat(o)}})(e),Wv(e.dom)))(e.selection),(e=>vy(a,e,t,n)))}));((e,t)=>{Se(Iv,e)&&V(Iv[e],(e=>{e(t)}))})(t,e)}Kh(e,t,o,n)},by=(e,t,n,o)=>{(o||e.selection.isEditable())&&yy(e,t,n,o)},wy=e=>Se(e,"vars"),Cy=e=>e.selection.getStart(),xy=(e,t,n,o,i)=>Q(t,(t=>{const r=e.formatter.matchNode(t,n,null!=i?i:{},o);return!y(r)}),(t=>!!bv(e,t,n)||!o&&w(e.formatter.matchNode(t,n,i,!0)))),Sy=(e,t)=>{const n=null!=t?t:Cy(e);return G(mh(e.dom,n),(e=>zo(e)&&!Ko(e)))},_y=(e,t,n)=>{const o=Sy(e,t);fe(n,((n,i)=>{const r=n=>{const r=xy(e,o,i,n.similar,wy(n)?n.vars:void 0),s=r.isSome();if(n.state.get()!==s){n.state.set(s);const e=r.getOr(t);wy(n)?n.callback(s,{node:e,format:i,parents:o}):V(n.callbacks,(t=>t(s,{node:e,format:i,parents:o})))}};V([n.withSimilar,n.withoutSimilar],r),V(n.withVars,r)}))},ky=Dt.explode,Ey=()=>{const e={};return{addFilter:(t,n)=>{V(ky(t),(t=>{Se(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>Ce(e),removeFilter:(t,n)=>{V(ky(t),(t=>{if(Se(e,t))if(w(n)){const o=e[t],i=G(o.callbacks,(e=>e!==n));i.length>0?o.callbacks=i:delete e[t]}else delete e[t]}))}}},Ay=(e,t,n)=>{t.addNodeFilter("br",((t,o,i)=>{const r=Dt.extend({},n.getBlockElements()),s=n.getNonEmptyElements(),a=n.getWhitespaceElements();r.body=1;const l=e=>e.name in r||$r(n,e);for(let o=0,c=t.length;o<c;o++){let c=t[o],d=c.parent;if(d&&l(d)&&c===d.lastChild){let t=c.prev;for(;t;){const e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(c=null);break}t=t.prev}if(c&&(c.remove(),nv(n,s,a,d))){const t=n.getElementRule(d.name);t&&(t.removeEmpty?d.remove():t.paddEmpty&&ev(e,i,l,d))}}else{let e=c;for(;d&&d.firstChild===e&&d.lastChild===e&&(e=d,!r[d.name]);)d=d.parent;if(e===d){const e=new If("#text",3);e.value=fi,c.replace(e)}}}}))},$y=e=>{const[t,...n]=e.split(","),o=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const e=";base64"===i[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(o):decodeURIComponent(o);return P.some({type:i[1],data:t,base64Encoded:e})}return P.none()},Ty=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(e){return P.none()}const i=new Uint8Array(o.length);for(let e=0;e<i.length;e++)i[e]=o.charCodeAt(e);return P.some(new Blob([i],{type:e}))},Ly=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}));let Ry=0;const My=(e,t,n)=>$y(e).bind((({data:e,type:o,base64Encoded:i})=>{if(t&&!i)return P.none();{const t=i?e:btoa(e);return n(t,o)}})),Dy=(e,t,n)=>{const o=e.create("blobid"+Ry++,t,n);return e.add(o),o},Oy=(e,t,n=!1)=>My(t,n,((t,n)=>P.from(e.getByData(t,n)).orThunk((()=>Ty(n,t).map((n=>Dy(e,n,t))))))),Ny=(e,t)=>We(e,`${t}/`),{entries:Iy,setPrototypeOf:Fy,isFrozen:Py,getPrototypeOf:By,getOwnPropertyDescriptor:Hy}=Object;let{freeze:zy,seal:Wy,create:Uy}=Object,{apply:jy,construct:Vy}="undefined"!=typeof Reflect&&Reflect;jy||(jy=function(e,t,n){return e.apply(t,n)}),zy||(zy=function(e){return e}),Wy||(Wy=function(e){return e}),Vy||(Vy=function(e,t){return new e(...t)});const qy=ib(Array.prototype.forEach),Ky=ib(Array.prototype.pop),Gy=ib(Array.prototype.push),Yy=ib(String.prototype.toLowerCase),Xy=ib(String.prototype.toString),Qy=ib(String.prototype.match),Zy=ib(String.prototype.replace),Jy=ib(String.prototype.indexOf),eb=ib(String.prototype.trim),tb=ib(RegExp.prototype.test),nb=(ob=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vy(ob,t)});var ob;function ib(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return jy(e,t,o)}}function rb(e,t,n){var o;n=null!==(o=n)&&void 0!==o?o:Yy,Fy&&Fy(e,null);let i=t.length;for(;i--;){let o=t[i];if("string"==typeof o){const e=n(o);e!==o&&(Py(t)||(t[i]=e),o=e)}e[o]=!0}return e}function sb(e){const t=Uy(null);for(const[n,o]of Iy(e))t[n]=o;return t}function ab(e,t){for(;null!==e;){const n=Hy(e,t);if(n){if(n.get)return ib(n.get);if("function"==typeof n.value)return ib(n.value)}e=By(e)}return function(e){return console.warn("fallback value for",e),null}}const lb=zy(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cb=zy(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),db=zy(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ub=zy(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hb=zy(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pb=zy(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fb=zy(["#text"]),gb=zy(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),mb=zy(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vb=zy(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yb=zy(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bb=Wy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wb=Wy(/<%[\w\W]*|[\w\W]*%>/gm),Cb=Wy(/\${[\w\W]*}/gm),xb=Wy(/^data-[\-\w.\u00B7-\uFFFF]/),Sb=Wy(/^aria-[\-\w]+$/),_b=Wy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kb=Wy(/^(?:\w+script|data):/i),Eb=Wy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ab=Wy(/^html$/i);var $b=Object.freeze({__proto__:null,MUSTACHE_EXPR:bb,ERB_EXPR:wb,TMPLIT_EXPR:Cb,DATA_ATTR:xb,ARIA_ATTR:Sb,IS_ALLOWED_URI:_b,IS_SCRIPT_OR_DATA:kb,ATTR_WHITESPACE:Eb,DOCTYPE_NAME:Ab});const Tb=()=>"undefined"==typeof window?null:window;var Lb=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tb();const n=t=>e(t);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const o=t.document,i=o.currentScript;let{document:r}=t;const{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:f}=t,g=c.prototype,m=ab(g,"cloneNode"),v=ab(g,"nextSibling"),y=ab(g,"childNodes"),b=ab(g,"parentNode");if("function"==typeof a){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,C="";const{implementation:x,createNodeIterator:S,createDocumentFragment:_,getElementsByTagName:k}=r,{importNode:E}=o;let A={};n.isSupported="function"==typeof Iy&&"function"==typeof b&&x&&void 0!==x.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:L,TMPLIT_EXPR:R,DATA_ATTR:M,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:N}=$b;let{IS_ALLOWED_URI:I}=$b,F=null;const P=rb({},[...lb,...cb,...db,...hb,...fb]);let B=null;const H=rb({},[...gb,...mb,...vb,...yb]);let z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,U=null,$=!0,j=!0,V=!1,q=!0,K=!1,G=!1,Y=!1,X=!1,Q=!1,Z=!1,J=!1,ee=!0,te=!1,ne=!0,oe=!1,ie={},re=null;const se=rb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const le=rb({},["audio","video","img","source","image","track"]);let ce=null;const de=rb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let fe=pe,ge=!1,me=null;const ve=rb({},[ue,he,pe],Xy);let ye;const be=["application/xhtml+xml","text/html"];let we,Ce=null;const xe=r.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},_e=function(e){if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=sb(e),ye=ye=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,we="application/xhtml+xml"===ye?Xy:Yy,F="ALLOWED_TAGS"in e?rb({},e.ALLOWED_TAGS,we):P,B="ALLOWED_ATTR"in e?rb({},e.ALLOWED_ATTR,we):H,me="ALLOWED_NAMESPACES"in e?rb({},e.ALLOWED_NAMESPACES,Xy):ve,ce="ADD_URI_SAFE_ATTR"in e?rb(sb(de),e.ADD_URI_SAFE_ATTR,we):de,ae="ADD_DATA_URI_TAGS"in e?rb(sb(le),e.ADD_DATA_URI_TAGS,we):le,re="FORBID_CONTENTS"in e?rb({},e.FORBID_CONTENTS,we):se,W="FORBID_TAGS"in e?rb({},e.FORBID_TAGS,we):{},U="FORBID_ATTR"in e?rb({},e.FORBID_ATTR,we):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,j=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,q=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,G=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,Z=e.RETURN_DOM_FRAGMENT||!1,J=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||_b,fe=e.NAMESPACE||pe,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(j=!1),Z&&(Q=!0),ie&&(F=rb({},[...fb]),B=[],!0===ie.html&&(rb(F,lb),rb(B,gb)),!0===ie.svg&&(rb(F,cb),rb(B,mb),rb(B,yb)),!0===ie.svgFilters&&(rb(F,db),rb(B,mb),rb(B,yb)),!0===ie.mathMl&&(rb(F,hb),rb(B,vb),rb(B,yb))),e.ADD_TAGS&&(F===P&&(F=sb(F)),rb(F,e.ADD_TAGS,we)),e.ADD_ATTR&&(B===H&&(B=sb(B)),rb(B,e.ADD_ATTR,we)),e.ADD_URI_SAFE_ATTR&&rb(ce,e.ADD_URI_SAFE_ATTR,we),e.FORBID_CONTENTS&&(re===se&&(re=sb(re)),rb(re,e.FORBID_CONTENTS,we)),ne&&(F["#text"]=!0),G&&rb(F,["html","head","body"]),F.table&&(rb(F,["tbody"]),delete W.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw nb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw nb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,C=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(f,i)),null!==w&&"string"==typeof C&&(C=w.createHTML(""));zy&&zy(e),Ce=e}},ke=rb({},["mi","mo","mn","ms","mtext"]),Ee=rb({},["foreignobject","desc","title","annotation-xml"]),Ae=rb({},["title","style","font","a","script"]),$e=rb({},cb);rb($e,db),rb($e,ub);const Te=rb({},hb);rb(Te,pb);const Le=function(e){Gy(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Re=function(e,t){try{Gy(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Gy(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!B[e])if(Q||Z)try{Le(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Me=function(e){let t,n;if(X)e="<remove></remove>"+e;else{const t=Qy(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ye&&fe===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=w?w.createHTML(e):e;if(fe===pe)try{t=(new p).parseFromString(o,ye)}catch(e){}if(!t||!t.documentElement){t=x.createDocument(fe,"template",null);try{t.documentElement.innerHTML=ge?C:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),
fe===pe?k.call(t,G?"html":"body")[0]:G?t.documentElement:i},De=function(e){return S.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Oe=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ne=function(e,t,o){A[e]&&qy(A[e],(e=>{e.call(n,t,o,Ce)}))},Ie=function(e){let t;if(Ne("beforeSanitizeElements",e,null),(o=e)instanceof h&&("string"!=typeof o.nodeName||"string"!=typeof o.textContent||"function"!=typeof o.removeChild||!(o.attributes instanceof u)||"function"!=typeof o.removeAttribute||"function"!=typeof o.setAttribute||"string"!=typeof o.namespaceURI||"function"!=typeof o.insertBefore||"function"!=typeof o.hasChildNodes))return Le(e),!0;var o;const i=we(e.nodeName);if(Ne("uponSanitizeElement",e,{tagName:i,allowedTags:F}),e.hasChildNodes()&&!Oe(e.firstElementChild)&&(!Oe(e.content)||!Oe(e.content.firstElementChild))&&tb(/<[/\w]/g,e.innerHTML)&&tb(/<[/\w]/g,e.textContent))return Le(e),!0;if(!F[i]||W[i]){if(!W[i]&&Pe(i)){if(z.tagNameCheck instanceof RegExp&&tb(z.tagNameCheck,i))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(i))return!1}if(ne&&!re[i]){const t=b(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o)t.insertBefore(m(n[o],!0),v(e))}return Le(e),!0}return e instanceof c&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});const n=Yy(e.tagName),o=Yy(t.tagName);return!!me[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===pe?"svg"===n:t.namespaceURI===ue?"svg"===n&&("annotation-xml"===o||ke[o]):Boolean($e[n]):e.namespaceURI===ue?t.namespaceURI===pe?"math"===n:t.namespaceURI===he?"math"===n&&Ee[o]:Boolean(Te[n]):e.namespaceURI===pe?!(t.namespaceURI===he&&!Ee[o])&&!(t.namespaceURI===ue&&!ke[o])&&!Te[n]&&(Ae[n]||!$e[n]):!("application/xhtml+xml"!==ye||!me[e.namespaceURI]))}(e)?(Le(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!tb(/<\/no(script|embed|frames)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=Zy(t,T," "),t=Zy(t,L," "),t=Zy(t,R," "),e.textContent!==t&&(Gy(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ne("afterSanitizeElements",e,null),!1):(Le(e),!0)},Fe=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in r||n in xe))return!1;if(j&&!U[t]&&tb(M,t));else if($&&tb(D,t));else if(!B[t]||U[t]){if(!(Pe(e)&&(z.tagNameCheck instanceof RegExp&&tb(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&tb(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&tb(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(ce[t]);else if(tb(I,Zy(n,N,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Jy(n,"data:")||!ae[e])if(V&&!tb(O,Zy(n,N,"")));else if(n)return!1;return!0},Pe=function(e){return e.indexOf("-")>0},Be=function(e){let t,n,o,i;Ne("beforeSanitizeAttributes",e,null);const{attributes:r}=e;if(!r)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(i=r.length;i--;){t=r[i];const{name:a,namespaceURI:l}=t;n="value"===a?t.value:eb(t.value);const c=n;if(o=we(a),s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Ne("uponSanitizeAttribute",e,s),n=s.attrValue,s.forceKeepAttr)continue;if(!s.keepAttr){Re(a,e);continue}if(!q&&tb(/\/>/i,n)){Re(a,e);continue}K&&(n=Zy(n,T," "),n=Zy(n,L," "),n=Zy(n,R," "));const d=we(e.nodeName);if(Fe(d,o,n)){if(!te||"id"!==o&&"name"!==o||(Re(a,e),n="user-content-"+n),w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(l);else switch(f.getAttributeType(d,o)){case"TrustedHTML":n=w.createHTML(n);break;case"TrustedScriptURL":n=w.createScriptURL(n)}if(n!==c)try{l?e.setAttributeNS(l,a,n):e.setAttribute(a,n)}catch(t){Re(a,e)}}else Re(a,e)}Ne("afterSanitizeAttributes",e,null)},He=function e(t){let n;const o=De(t);for(Ne("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Ne("uponSanitizeShadowNode",n,null),Ie(n)||(n.content instanceof s&&e(n.content),Be(n));Ne("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,i,r,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ge=!e,ge&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw nb("toString is not a function");if("string"!=typeof(e=e.toString()))throw nb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Y||_e(c),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=we(e.nodeName);if(!F[t]||W[t])throw nb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Me("\x3c!----\x3e"),i=t.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?t=i:t.appendChild(i);else{if(!Q&&!K&&!G&&-1===e.indexOf("<"))return w&&J?w.createHTML(e):e;if(t=Me(e),!t)return Q?null:J?C:""}t&&X&&Le(t.firstChild);const d=De(oe?e:t);for(;r=d.nextNode();)Ie(r)||(r.content instanceof s&&He(r.content),Be(r));if(oe)return e;if(Q){if(Z)for(a=_.call(t.ownerDocument);t.firstChild;)a.appendChild(t.firstChild);else a=t;return(B.shadowroot||B.shadowrootmode)&&(a=E.call(o,a,!0)),a}let u=G?t.outerHTML:t.innerHTML;return G&&F["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&tb(Ab,t.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+u),K&&(u=Zy(u,T," "),u=Zy(u,L," "),u=Zy(u,R," ")),w&&J?w.createHTML(u):u},n.setConfig=function(e){_e(e),Y=!0},n.clearConfig=function(){Ce=null,Y=!1},n.isValidAttribute=function(e,t,n){Ce||_e({});const o=we(e),i=we(t);return Fe(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&(A[e]=A[e]||[],Gy(A[e],t))},n.removeHook=function(e){if(A[e])return Ky(A[e])},n.removeHooks=function(e){A[e]&&(A[e]=[])},n.removeAllHooks=function(){A={}},n}();const Rb=Dt.each,Mb=Dt.trim,Db=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ob={ftp:21,http:80,https:443,mailto:25},Nb=["img","video"],Ib=(e,t,n)=>{const o=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?((e,t)=>w(e)?!e:!w(t)||!U(Nb,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class Fb{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=Xr.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!Ib(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=Mb(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new Fb(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+o.toAbsPath(t,e);else{const i=/([^#?]*)([#?]?.*)/.exec(e);i&&(e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,i[1])+i[2])}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);r&&Rb(Db,((e,t)=>{let n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),i&&(o.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new Fb(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let i=this.toRelPath(this.path,t.path);return t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),i}toAbsolute(e,t){const n=new Fb(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?Ob[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,i=0,r="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,o=s.length;n<o;n++)if(n>=a.length||s[n]!==a[n]){i=n+1;break}if(s.length<a.length)for(n=0,o=a.length;n<o;n++)if(n>=s.length||s[n]!==a[n]){i=n+1;break}if(1===i)return t;for(n=0,o=s.length-(i-1);n<o;n++)r+="../";for(n=i-1,o=a.length;n<o;n++)r+=n!==i-1?"/"+a[n]:a[n];return r}toAbsPath(e,t){let n=0;const o=/\/$/.test(t)?"/":"",i=e.split("/"),r=t.split("/"),s=[];Rb(i,(e=>{e&&s.push(e)}));const a=[];for(let e=r.length-1;e>=0;e--)0!==r[e].length&&"."!==r[e]&&(".."!==r[e]?n>0?n--:a.push(r[e]):n++);const l=s.length-n;let c;return c=l<=0?oe(a).join("/"):s.slice(0,l).join("/")+"/"+oe(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const Pb=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Bb="data-mce-type";let Hb=0;const zb=(e,t,n,o,i)=>{var r,s,a,l;const c=t.validate,d=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const u=null!==(s=null==i?void 0:i.tagName)&&void 0!==s?s:e.nodeName.toLowerCase();if("html"!==o&&n.isValid(o))return void(w(i)&&(i.allowedTags[u]=!0));if(1!==e.nodeType||"body"===u)return;const p=yn(e),f=tn(p,Bb),g=Jt(p,"data-mce-bogus");if(!f&&h(g))return void("all"===g?wo(p):Co(p));const m=n.getElementRule(u);if(!c||m){if(w(i)&&(i.allowedTags[u]=!0),c&&m&&!f){if(V(null!==(a=m.attributesForced)&&void 0!==a?a:[],(e=>{Qt(p,e.name,"{$uid}"===e.value?"mce_"+Hb++:e.value)})),V(null!==(l=m.attributesDefault)&&void 0!==l?l:[],(e=>{tn(p,e.name)||Qt(p,e.name,"{$uid}"===e.value?"mce_"+Hb++:e.value)})),m.attributesRequired&&!$(m.attributesRequired,(e=>tn(p,e))))return void Co(p);if(m.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(p))return void Co(p);m.outputName&&m.outputName!==u&&((e,t)=>{const n=((e,t)=>{const n=mn(t),o=on(e);return Zt(n,o),n})(e,t);fo(e,n);const o=On(e);yo(n,o),wo(e)})(p,m.outputName)}}else Se(d,u)?wo(p):Co(p)},Wb=(e,t,n,o,i,r)=>"html"!==n&&!hr(o)||!(i in Pb&&Ib(e,r,o))&&(!e.validate||t.isValid(o,i)||We(i,"data-")||We(i,"aria-")),Ub=(e,t)=>e.hasAttribute(Bb)&&("id"===t||"class"===t||"style"===t),jb=(e,t)=>e in t.getBoolAttrs(),Vb=(e,t,n,o)=>{const{attributes:i}=e;for(let r=i.length-1;r>=0;r--){const s=i[r],a=s.name,l=s.value;Wb(t,n,o,e.tagName.toLowerCase(),a,l)||Ub(e,a)?jb(a,n)&&e.setAttribute(a,a):e.removeAttribute(a)}},qb=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map((e=>`xlink:${e}`)),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return Lb().sanitize(e,n),e.innerHTML},Kb=Dt.makeMap,Gb=Dt.extend,Yb=(e,t,n,o)=>{const i=e.name,r=i in n&&"title"!==i&&"textarea"!==i,s=t.childNodes;for(let t=0,i=s.length;t<i;t++){const i=s[t],a=new If(i.nodeName.toLowerCase(),i.nodeType);if(zo(i)){const e=i.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];a.attr(n.name,n.value)}hr(a.name)&&(o(i),a.value=i.innerHTML)}else Qo(i)?(a.value=i.data,r&&(a.raw=!0)):(ei(i)||Zo(i)||Jo(i))&&(a.value=i.data);hr(a.name)||Yb(a,i,n,o),e.append(a)}},Xb=(e={},t=as())=>{const n=Ey(),o=Ey(),i={validate:!0,root_name:"body",sanitize:!0,...e},r=new DOMParser,s=((e,t)=>{const n=(()=>{let e=[];const t=()=>e[e.length-1];return{track:n=>{pr(n)&&e.push(n);let o=t();return o&&!o.contains(n)&&(e.pop(),o=t()),fr(o)},current:()=>fr(t()),reset:()=>{e=[]}}})();if(e.sanitize){const o=((e,t,n)=>{const o=Lb();return o.addHook("uponSanitizeElement",((o,i)=>{zb(o,e,t,n.track(o),i)})),o.addHook("uponSanitizeAttribute",((o,i)=>{((e,t,n,o,i)=>{const r=e.tagName.toLowerCase(),{attrName:s,attrValue:a}=i;i.keepAttr=Wb(t,n,o,r,s,a),i.keepAttr?(i.allowedAttributes[s]=!0,jb(s,n)&&(i.attrValue=s),t.allow_svg_data_urls&&We(a,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):Ub(e,s)&&(i.forceKeepAttr=!0)})(o,e,t,n.current(),i)})),o})(e,t,n),i=(t,i)=>{o.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,i)),o.removed=[],n.reset()};return{sanitizeHtmlElement:i,sanitizeNamespaceElement:qb}}return{sanitizeHtmlElement:(o,i)=>{const r=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let s;for(;s=r.nextNode();){const o=n.track(s);zb(s,e,t,o),zo(s)&&Vb(s,e,t,o)}n.reset()},sanitizeNamespaceElement:_}})(i,t),a=n.addFilter,l=n.getFilters,c=n.removeFilter,d=o.addFilter,u=o.getFilters,p=o.removeFilter,f=(e,n)=>{const o=h(n.attr(Bb)),i=1===n.type&&!Se(e,n.name)&&!$r(t,n)&&!hr(n.name);return 3===n.type||i&&!o},g={schema:t,addAttributeFilter:d,getAttributeFilters:u,removeAttributeFilter:p,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var o;const a=i.validate,c=null!==(o=n.context)&&void 0!==o?o:i.root_name,d=((e,n,o="html")=>{const i="xhtml"===o?"application/xhtml+xml":"text/html",a=Se(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c="xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,d=r.parseFromString(c,i).body;return s.sanitizeHtmlElement(d,i),a?d.firstChild:d})(e,c,n.format);Cr(t,d);const h=new If(c,11);Yb(h,d,t.getSpecialElements(),s.sanitizeNamespaceElement),d.innerHTML="";const[p,g]=((e,t,n,o)=>{const i=n.validate,r=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Gb(Kb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=rs(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;w(t);){if(t.name in s)return!0;t=t.parent}return!1},p=n=>n.name in a||$r(t,n)||hr(n.name)&&n.parent===e,f=(t,n)=>{const i=n?t.prev:t.next;return!w(i)&&!b(t.parent)&&p(t.parent)&&(t.parent!==e||!0===o.isRootContent)};return[e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>w(e)&&(t(e)||"br"===e.name))(e.prev,p)||f(e,!0))&&(n=n.replace(d,"")),0===n.length?e.remove():e.value=n}},e=>{var a;if(1===e.type){const a=t.getElementRule(e.name);if(i&&a){const i=nv(t,r,s,e);a.paddInEmptyBlock&&i&&(e=>{let n=e;for(;w(n);){if(n.name in l)return nv(t,r,s,n);n=n.parent}return!1})(e)?ev(n,o,p,e):a.removeEmpty&&i?p(e)?e.remove():e.unwrap():a.paddEmpty&&(i||(e=>{var t;return tv(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===fi})(e))&&ev(n,o,p,e)}}else if(3===e.type&&!h(e)){let t=null!==(a=e.value)&&void 0!==a?a:"";(e.next&&p(e.next)||f(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]})(h,t,i,n),m=[],v=a?e=>((e,n)=>{sv(t,e)&&n.push(e)})(e,m):_,y={nodes:{},attributes:{}},C=e=>Qm(l(),u(),e,y);if(((e,t,n)=>{const o=[];for(let n=e,i=n;n;i=n,n=n.walk()){const r=n;V(t,(e=>e(r))),b(r.parent)&&r!==e?n=i:o.push(r)}for(let e=o.length-1;e>=0;e--){const t=o[e];V(n,(e=>e(t)))}})(h,[p,C],[g,v]),m.reverse(),a&&m.length>0)if(n.context){const{pass:e,fail:o}=K(m,(e=>e.parent===h));rv(o,t,h,C),n.invalid=e.length>0}else rv(m,t,h,C);const x=((e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o})(i,n);return x&&("body"===h.name||n.isRootContent)&&((e,n)=>{const o=Gb(Kb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),r=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(r,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;f(o,a)?(l||(l=new If(n,1),l.attr(i.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(h,x),n.invalid||Zm(y,n),h}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&Ay(t,e,n),e.addAttributeFilter("href",(e=>{let n=e.length;const o=e=>{const t=e?Dt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",o(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,o,i,r=e.length;for(;r--;)if(i=e[r],"a"===i.name&&i.firstChild&&!i.attr("href"))for(o=i.parent,t=i.lastChild;t&&o;)n=t.prev,o.insert(t,i),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,o=e.length;for(;o--;)if(t=e[o],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new If("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const o=n.getValidClasses();t.validate&&o&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const i=e[n],r=null!==(t=i.attr("class"))&&void 0!==t?t:"",s=Dt.explode(r," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,r=o["*"];r&&r[t]&&(n=!0),r=o[i.name],!n&&r&&r[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),i.attr("class",a)}})),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Tt.transparentSrc||w(e.attr("data-mce-placeholder")))(e)||(e=>w(e.attr("data-mce-bogus")))(e)||b(t)||Oy(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>V(e,t)))}})(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",(e=>V(e,(e=>{e.replace(((e,t,n,o,i)=>{let r;r=y(e)?"iframe":Ny(e,"image")?"img":Ny(e,"video")?"video":Ny(e,"audio")?"audio":"iframe";const s=new If(r,1);return s.attr("audio"===r?{src:t}:{src:t,width:n,height:o}),"audio"!==r&&"video"!==r||s.attr("controls",""),"iframe"===r&&i&&s.attr("sandbox",""),s})(e.attr("type"),"object"===e.name?e.attr("data"):e.attr("src"),e.attr("width"),e.attr("height"),t.sandbox_iframes))})))),t.sandbox_iframes&&e.addNodeFilter("iframe",(e=>V(e,(e=>e.attr("sandbox","")))))})(g,i),((e,t,n)=>{t.inline_styles&&((e,t,n)=>{var o;const i=vs();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter("font",(e=>{V(e,(e=>{const o=t.parse(e.attr("style")),i=e.attr("color"),r=e.attr("face"),s=e.attr("size");i&&(o.color=i),r&&(o["font-family"]=r),s&&Xe(s).each((e=>{o["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(o)),((e,t)=>{V(["color","face","size"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,i,Dt.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const o="html4"!==t.type;V(e,(e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,i)})(e,t,n)})(g,i,t),g},Qb=(e,t,n)=>{const o=(e=>fv(e)?eg({validate:!1}).serialize(e):e)(e),i=t(o);if(i.isDefaultPrevented())return i;if(fv(e)){if(i.content!==o){const t=Xb({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:t}}return{...i,content:e}}return i},Zb=(e,t)=>{if(t.no_events)return ul.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?ul.error(Xh(e,{content:"",...n}).content):ul.value(n)}},Jb=(e,t,n)=>{if(n.no_events)return t;{const o=Qb(t,(t=>Xh(e,{...n,content:t})),{sanitize:cd(e),sandbox_iframes:md(e)});return o.content}},ew=(e,t)=>{if(t.no_events)return ul.value(t);{const n=Qb(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),{sanitize:cd(e),sandbox_iframes:md(e)});return n.isDefaultPrevented()?(Yh(e,n),ul.error(void 0)):ul.value(n)}},tw=(e,t,n)=>{n.no_events||Yh(e,{...n,content:t})},nw=(e,t,n)=>({element:e,width:t,rows:n}),ow=(e,t)=>({element:e,cells:t}),iw=(e,t)=>({x:e,y:t}),rw=(e,t)=>en(e,t).bind(Xe).getOr(1),sw=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},aw=e=>X(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),lw=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const o=n[e].cells;for(let n=0;n<o.length;n++)if(xn(o[n],t))return P.some(iw(n,e))}return P.none()},cw=(e,t,n,o,i)=>{const r=[],s=e.rows;for(let e=n;e<=i;e++){const n=s[e].cells,i=t<o?n.slice(t,o+1):n.slice(o,t+1);r.push(ow(s[e].element,i))}return r},dw=e=>((e,t)=>{const n=ca(e.element),o=mn("tbody");return yo(o,t),mo(n,o),n})(e,(e=>j(e.rows,(e=>{const t=j(e.cells,(e=>{const t=da(e);return nn(t,"colspan"),nn(t,"rowspan"),t})),n=ca(e.element);return yo(n,t),n})))(e)),uw=()=>vp([]),hw=(e,t,n)=>{const o=qu(t,e);return o.length>0?((e,t)=>((e,t)=>Zn(t,"table",R(xn,e)))(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],i=(e=>{const t=nw(ca(e),0,[]);return V(Io(e,"tr"),((e,n)=>{V(Io(e,"td,th"),((o,i)=>{((e,t,n,o,i)=>{const r=rw(i,"rowspan"),s=rw(i,"colspan"),a=e.rows;for(let e=n;e<n+r;e++){a[e]||(a[e]=ow(da(o),[]));for(let o=t;o<t+s;o++)a[e].cells[o]=e===n&&o===t?i:ca(i)}})(t,((e,t,n)=>{for(;sw(e,t,n);)t++;return t})(t,i,n),n,e,o)}))})),nw(t.element,aw(t.rows),t.rows)})(e);return((e,t,n)=>lw(e,t).bind((t=>lw(e,n).map((n=>((e,t,n)=>{const o=t.x,i=t.y,r=n.x,s=n.y,a=i<s?cw(e,o,i,r,s):cw(e,o,s,r,i);return nw(e.element,aw(a),a)})(e,t,n))))))(i,n,o).map((e=>vp([dw(e)])))})).getOrThunk(uw))(e,o):((e,t,n)=>t.length>0&&t[0].collapsed?uw():((e,t,n)=>((e,t)=>{const n=X(t,((e,t)=>(mo(t,e),t)),e);return t.length>0?vp([n]):n})(yn(t.cloneContents()),((e,t,n)=>{const o=yn(t.commonAncestorContainer),i=Cg(o,e),r=G(i,(e=>n.isWrapper(zt(e)))),s=((e,t)=>Z(e,(e=>"li"===zt(e)&&Qu(e,t))).fold(A([]),(t=>(e=>Z(e,(e=>"ul"===zt(e)||"ol"===zt(e))))(e).map((e=>{const t=mn(zt(e)),n=be(uo(e),((e,t)=>We(t,"list-style")));return so(t,n),[mn("li"),t]})).getOr([]))))(i,t),a=r.concat(s.length?s:(e=>Si(e)?An(e).filter(xi).fold(A([]),(t=>[e,t])):xi(e)?[e]:[])(o));return j(a,ca)})(e,t,n)))(e,t[0],n))(e,t,n)},pw=(e,t)=>t>=0&&t<e.length&&Uu(e.charAt(t)),fw=e=>Ri(e.innerText),gw=e=>zo(e)?e.outerHTML:Qo(e)?Xr.encodeRaw(e.data,!1):ei(e)?"\x3c!--"+e.data+"--\x3e":"",mw=Oe((()=>document.implementation.createHTMLDocument("undo"))),vw=e=>{const t=e.serializer.getTempAttrs(),n=Yf(e.getBody(),t);return(e=>null!==e.querySelector("iframe"))(n)?{type:"fragmented",fragments:G(j(de(n.childNodes),k(Ri,gw)),(e=>e.length>0)),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Ri(n.innerHTML),bookmark:null,beforeBookmark:null}},yw=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((e,t)=>{let n=0;V(e,(e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const o=(e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(o,t)}else e.appendChild(o)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,o=new Array(n),i=new Array(n),r=(n,o,i,s,l)=>{const c=a(n,o,i,s);if(null===c||c.start===o&&c.diag===o-s||c.end===n&&c.diag===n-i){let r=n,a=i;for(;r<o||a<s;)r<o&&a<s&&e[r]===t[a]?(l.push([0,e[r]]),++r,++a):o-n>s-i?(l.push([2,e[r]]),++r):(l.push([1,t[a]]),++a)}else{r(n,c.start,i,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);r(c.end,o,c.end-c.diag,s,l)}},s=(n,o,i,r)=>{let s=n;for(;s-o<r&&s<i&&e[s]===t[s-o];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,o)},a=(n,r,a,l)=>{const c=r-n,d=l-a;if(0===c||0===d)return null;const u=c-d,h=d+c,p=(h%2==0?h:h+1)/2;let f,g,m,v,y;for(o[1+p]=n,i[1+p]=r+1,f=0;f<=p;++f){for(g=-f;g<=f;g+=2){for(m=g+p,g===-f||g!==f&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,v=o[m],y=v-n+a-g;v<r&&y<l&&e[v]===t[y];)o[m]=++v,++y;if(u%2!=0&&u-f<=g&&g<=u+f&&i[m-u]<=o[m])return s(i[m-u],g+n-a,r,l)}for(g=u-f;g<=u+f;g+=2){for(m=g+p-u,g===u-f||g!==u+f&&i[m+1]<=i[m-1]?i[m]=i[m+1]-1:i[m]=i[m-1],v=i[m]-1,y=v-n+a-g;v>=n&&y>=a&&e[v]===t[y];)i[m]=v--,y--;if(u%2==0&&-f<=g&&g<=f&&i[m]<=o[m+u])return s(i[m],g+n-a,r,l)}}return null},l=[];return r(0,e.length,0,t.length,l),l})(j(de(t.childNodes),gw),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!w(o)||!Ru(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},bw=e=>"fragmented"===e.type?e.fragments.join(""):e.content,ww=e=>{const t=mn("body",mw());return _o(t,bw(e)),V(Io(t,"*[data-mce-bogus]"),Co),So(t)},Cw=(e,t)=>!(!e||!t)&&(!!((e,t)=>bw(e)===bw(t))(e,t)||((e,t)=>ww(e)===ww(t))(e,t)),xw=e=>0===e.get(),Sw=(e,t,n)=>{xw(n)&&(e.typing=t)},_w=(e,t)=>{e.typing&&(Sw(e,!1,t),e.add())},kw=e=>({init:{bindEvents:_},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{xw(t)&&n.set(ll(e.selection))})(e,t,n),add:(t,n,o,i,r,s)=>((e,t,n,o,i,r,s)=>{const a=vw(e),l=Dt.extend(r||{},a);if(!xw(o)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Cw(c,l))return null;t.data[n.get()]&&i.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const d=Ec(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=ll(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,n,o,i,r,s),undo:(t,n,o)=>((e,t,n,o)=>{let i;return t.typing&&(t.add(),t.typing=!1,Sw(t,!1,n)),o.get()>0&&(o.set(o.get()-1),i=t.data[o.get()],yw(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i})(e,t,n,o),redo:(t,n)=>((e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],yw(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Cw(vw(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(_w(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,o,i)=>((e,t,n,o,i)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,r=t.data[n.get()-1];yw(e,r,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=o)}})(e,t,n,o,i)},formatter:{match:(t,n,o,i)=>_v(e,t,n,o,i),matchAll:(t,n)=>((e,t,n)=>{const o=[],i={},r=e.selection.getStart();return e.dom.getParent(r,(r=>{for(let s=0;s<t.length;s++){const a=t[s];!i[a]&&Sv(e,r,a,n)&&(i[a]=!0,o.push(a))}}),e.dom.getRoot()),o})(e,t,n),matchNode:(t,n,o,i)=>Sv(e,t,n,o,i),canApply:t=>((e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),i=mh(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!bh(t))return!0;for(let e=i.length-1;e>=0;e--)if(o.is(i[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>xn(t,yn(e.getBody()));return P.from(e.selection.getStart(!0)).bind((o=>vv(yn(o),(n=>ue(t,(t=>((t,n)=>Sv(e,t.dom,n)?P.some(n):P.none())(n,t)))),n))).getOrNull()})(e,t),apply:(t,n,o)=>by(e,t,n,o),remove:(t,n,o,i)=>py(e,t,n,o,i),toggle:(t,n,o)=>((e,t,n,o)=>{const i=e.formatter.get(t);i&&(!_v(e,t,n,o)||"toggle"in i[0]&&!i[0].toggle?by(e,t,n,o):py(e,t,n,o))})(e,t,n,o),formatChanged:(t,n,o,i,r)=>((e,t,n,o,i,r)=>(((e,t,n,o,i,r)=>{const s=t.get();V(n.split(","),(t=>{const n=xe(s,t).getOrThunk((()=>{const e={withSimilar:{state:Bs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Bs(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const n=Sy(e);return xy(e,n,t,i,r).isSome()};if(y(r)){const e=i?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:Bs(a()),similar:i,vars:r,callback:o})})),t.set(s)})(e,t,n,o,i,r),{unbind:()=>((e,t,n)=>{const o=e.get();V(t.split(","),(e=>xe(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:G(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:G(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:G(t.withVars,(e=>e.callback!==n))}})))),e.set(o)})(t,n,o)}))(e,t,n,o,i,r)},editor:{getContent:t=>((e,t)=>P.from(e.getBody()).fold(A("tree"===t.format?new If("body",11):""),(n=>((e,t,n)=>{let o;return o="raw"===t.format?Dt.trim(Ri(Yf(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?((e,t)=>{const n=e.getDoc(),o=Wn(yn(e.getBody())),i=mn("div",n);Qt(i,"data-mce-bogus","all"),so(i,{position:"fixed",left:"-9999999px",top:"0"}),_o(i,t.innerHTML),Xf(i),Qf(i);const r=(e=>Bn(e)?e:yn(kn(e).dom.body))(o);mo(r,i);const s=Ri(i.dom.innerText);return wo(i),s})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=Dl(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Ei(yn(n))&&h(o)?Dt.trim(o):o})(e,t,n))))(e,t),setContent:(t,n)=>((e,t,n)=>P.from(e.getBody()).map((o=>fv(t)?((e,t,n,o)=>{Jm(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=eg({validate:!1},e.schema).serialize(n),r=Ri(Ei(yn(t))?i:Dt.trim(i));return gv(e,r,o.no_selection),{content:n,html:r}})(e,o,t,n):((e,t,n,o)=>{if(0===(n=Ri(n)).length||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const r=Dl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=i,n=e.dom.createHTML(r,Ol(e),n)):n||(n=i),gv(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=eg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=Ei(yn(t))?n:Dt.trim(n);return gv(e,i,o.no_selection),{content:i,html:i}}})(e,o,t,n))).getOr({content:t,html:fv(n.content)?"":n.content}))(e,t,n),insertContent:(t,n)=>pv(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,o=w(t)?t:e.getBody();V(n.select("table,a",o),(t=>{switch(t.nodeName){case"TABLE":const o=Nc(e),i=n.getAttrib(t,"border");i&&"0"!==i||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,i=Ic(e);o&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const o=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return Zb(e,o).fold(T,(t=>{const n=((e,t)=>{if("text"===t.format)return(e=>P.from(e.selection.getRng()).map((t=>{var n;const o=P.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),r=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(o),s=yn(t.cloneContents());Xf(s),Qf(s);const a=e.dom.add(i,r,{
"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=fw(a),c=Ri(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),pw(c,0)||pw(c,c.length-1)){const e=o.getOr(i),t=fw(e),n=t.indexOf(l);return-1===n?l:(pw(t,n-1)?" ":"")+l+(pw(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),r=Af(e,Vu(i)),s=t.contextual?hw(yn(e.getBody()),r,e.schema).dom:n.cloneContents();return s&&o.appendChild(s),e.selection.serializer.serialize(o,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}})(e,t);return Jb(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:t=>((e,t)=>{if(Rf(yn(e.getBody())).isNone()){const o=gn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());mo(o,yn(t.extractContents())),t.insertNode(o.dom),An(o).each((e=>e.dom.normalize())),(n=o,((e,t)=>{const n=e=>{const o=On(e);for(let e=o.length-1;e>=0;e--){const i=o[e];if(t(i))return P.some(i);const r=n(i);if(r.isSome())return r}return P.none()};return n(e)})(n,Tf)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===zt(e)?1:yi(e).fold((()=>On(e).length),(e=>e.length)))(t))}))}var n})(e,t),removeDecoration:()=>((e,t)=>Rf(t).each((t=>{const n=e.selection.getBookmark();Co(t),e.selection.moveToBookmark(n)})))(e,yn(e.getBody()))},raw:{getModel:()=>P.none()}}),Ew=e=>Se(e.plugins,"rtc"),Aw=e=>e.rtcInstance?e.rtcInstance:kw(e),$w=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Tw=e=>$w(e).init.bindEvents(),Lw=e=>0===e.dom.length?(wo(e),P.none()):P.some(e),Rw=(e,t,n,o,i)=>{e.bind((e=>((o?Zg:Qg)(e.dom,o?e.dom.length:0,i),t.filter(qt).map((t=>((e,t,n,o,i)=>{const r=e.dom,s=t.dom,a=o?r.length:s.length;o?(Jg(r,s,i,!1,!o),n.setStart(s,a)):(Jg(s,r,i,!1,!o),n.setEnd(s,a))})(e,t,n,o,i)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>jh.isBookmarkNode(e.dom))).bind(t?Rn:Ln))(t,o).or(t).filter(qt);return e.map((e=>((e,t,n)=>{An(e).each((o=>{const i=e.dom;t&&Ug(o,za(i,0),n)?Qg(i,0,n):!t&&jg(o,za(i,i.length),n)&&Zg(i,i.length,n)}))})(e,o,i)))}))},Mw=(e,t,n)=>{if(Se(e,t)){const o=G(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}},Dw=e=>!(!e||!e.ownerDocument)&&Sn(yn(e.ownerDocument),yn(e)),Ow=(e,t,n,o)=>{let i,r;const{selectorChangedWithUnbind:s}=((e,t)=>{let n,o;const i=(t,n)=>Z(n,(n=>e.is(n,t))),r=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},o={},t.on("NodeChange",(e=>{const t=e.element,s=r(t),a={};fe(n,((e,t)=>{i(t,s).each((n=>{o[t]||(V(e,(e=>{e(!0,{node:n,selector:t,parents:s})})),o[t]=e),a[t]=e}))})),fe(o,((e,n)=>{a[n]||(delete o[n],V(e,(e=>{e(!1,{node:t,selector:n,parents:s})})))}))}))),n[e]||(n[e]=[]),n[e].push(s),i(e,r(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{Mw(n,e,s),Mw(o,e,s)}})}})(e,o),a=(e,t)=>((e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);ew(e,o).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=o?{context:o.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return eg({validate:!1},e.schema).serialize(r)}return t.content})(e,t),o=e.selection.getRng();((e,t,n)=>{const o=P.from(t.firstChild).map(yn),i=P.from(t.lastChild).map(yn);e.deleteContents(),e.insertNode(t);const r=o.bind(Ln).filter(qt).bind(Lw),s=i.bind(Rn).filter(qt).bind(Lw);Rw(r,o,e,!0,n),Rw(s,i,e,!1,n),e.collapse(!1)})(o,o.createContextualFragment(n),e.schema),e.selection.setRng(o),Yp(e,o),tw(e,n,t)}))})(o,e,t),l=e=>{const t=d();t.collapse(!!e),u(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(w(o.bookmark)&&!bf(o)){const e=af(o);if(e.isSome())return e.map((e=>Af(o,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Ho(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=Af(o,[n])[0])}catch(e){}if(n||(n=a.createRange()),ti(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return i&&r&&(0===s(n.START_TO_START,n,i)&&0===s(n.END_TO_END,n,i)?n=r:(i=null,r=null)),n},u=(e,t)=>{if(!(e=>!!e&&Dw(e.startContainer)&&Dw(e.endContainer))(e))return;const n=c();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){r=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),n=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!n||!o||Ho(n)||Ho(o))return!0;const i=e.createRng(),r=e.createRng();try{i.setStart(n,t.anchorOffset),i.collapse(!0),r.setStart(o,t.focusOffset),r.collapse(!0)}catch(e){return!0}return i.compareBoundaryPoints(i.START_TO_START,r)<=0},p={dom:e,win:t,serializer:n,editor:o,expand:(t={type:"word"})=>u(Tp(e).expand(d(),t)),collapse:l,setCursorLocation:(t,n)=>{const i=e.createRng();w(t)&&w(n)?(i.setStart(t,n),i.setEnd(t,n),u(i),l(!1)):(Zu(e,i,o.getBody(),!0),u(i))},getContent:e=>((e,t={})=>((e,t,n)=>$w(e).selection.getContent(t,n))(e,t.format?t.format:"html",t))(o,e),setContent:a,getBookmark:(e,t)=>f.getBookmark(e,t),moveToBookmark:e=>f.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>P.from(t).bind((t=>P.from(t.parentNode).map((o=>{const i=e.nodeIndex(t),r=e.createRng();return r.setStart(o,i),r.setEnd(o,i+1),n&&(Zu(e,r,t,!0),Zu(e,r,t,!1)),r})))))(e,t,n).each(u),t),isCollapsed:()=>{const e=d(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=d(),n=o.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ne(n,(t=>e.isEditable(t.parentElement))):xf(e,t)},isForward:h,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const i=t.startOffset,r=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===o&&r-i<2&&n.hasChildNodes()&&(s=n.childNodes[i]),Qo(n)&&Qo(o)&&(n=n.length===i?Ef(n.nextSibling,!0):n.parentNode,o=0===r?Ef(o.previousSibling,!1):o.parentNode,n&&n===o&&(s=n)));const a=Qo(s)?s.parentNode:s;return Wo(a)?a:e})(o.getBody(),d()),getSel:c,setRng:u,getRng:d,getStart:e=>_f(o.getBody(),d(),e),getEnd:e=>kf(o.getBody(),d(),e),getSelectedBlocks:(t,n)=>((e,t,n,o)=>{const i=[],r=e.getRoot(),s=e.getParent(n||_f(r,t,t.collapsed),e.isBlock),a=e.getParent(o||kf(r,t,t.collapsed),e.isBlock);if(s&&s!==r&&i.push(s),s&&a&&s!==a){let t;const n=new Po(s,r);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&i.push(t)}return a&&s!==a&&a!==r&&i.push(a),i})(e,d(),t,n),normalize:()=>{const t=d(),n=c();if(!(Vu(n).length>1)&&Ju(o)){const n=Ep(e,t);return n.each((e=>{u(e,h())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{w(e)?((e,t,n)=>{(e.inline?qp:Gp)(e,t,n)})(o,e,t):Yp(o,d(),t)},placeCaretAt:(e,t)=>u(yp(e,t,o.getDoc())),getBoundingClientRect:()=>{const e=d();return e.collapsed?za.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=i=r=null,g.destroy()}},f=jh(p),g=op(p,o);return p.bookmarkManager=f,p.controlSelection=g,p},Nw=(e,t,n)=>{-1===Dt.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},Iw=(e,t)=>{const n=((e,t)=>{const n=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Is.DOM,r=t&&t.schema?t.schema:as(o),s=Xb(o,r);return((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,o)=>{const i="data-mce-"+o,r=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(i);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(i,null)):(l=t.attr(o),"style"===o?l=n.serializeStyle(n.parseStyle(l),t.name):r&&(l=r.call(s,l,o,t.name)),t.attr(o,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let o=n.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let o=e.length;for(;o--;){const t=e[o];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=P.from(t.firstChild).exists((e=>{var t;return!Li(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;for(;n--;){const o=e[n].firstChild;o&&(o.value=Xr.decode(null!==(t=o.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var o;const i=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;for(;r--;){const s=e[r],a=s.firstChild,l=null!==(o=null==a?void 0:a.value)&&void 0!==o?o:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+i(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+i(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let o=e.length;for(;o--;){const i=e[o],r=i.value;t.preserve_cdata&&0===(null==r?void 0:r.indexOf("[CDATA["))?(i.name="#cdata",i.type=4,i.value=n.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==r?void 0:r.indexOf("mce:protected "))&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(r).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{V(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.remove_trailing_brs&&Ay(t,e,e.schema)})(s,o,i),{schema:r,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:(e,n={})=>{const a={format:"html",...n},l=((e,t,n)=>((e,t)=>w(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let o;const i=e.dom;let r=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Dt.each("BODY"===r.nodeName?r.childNodes:[r],(t=>{e.body.appendChild(e.importNode(t,!0))})),r="BODY"!==r.nodeName?e.body.firstChild:e.body,o=i.doc,i.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:r}),o&&(i.doc=o),r})(e,t,n):t)(t,e,a),c=((e,t,n)=>{const o=Ri(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ei(yn(t))?o:Dt.trim(o)})(i,l,a),d=((e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,o);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(i),i})(s,c,a);return"tree"===a.format?d:((e,t,n,o,i)=>{const r=((e,t,n)=>eg(e,t).serialize(n))(t,n,o);return((e,t,n)=>{if(!t.no_events&&e){const o=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return o.content}return n})(e,i,r)})(t,o,r,d,a)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:R(Nw,s,n),getTempAttrs:A(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters,removeNodeFilter:s.removeNodeFilter,removeAttributeFilter:s.removeAttributeFilter}})(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Fw=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return ew(e,o).map((t=>{const n=((e,t,n)=>Aw(e).editor.setContent(t,n))(e,t.content,t);return tw(e,n.html,t),n.content})).getOr(t)},Pw="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Bw="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Hw="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),zw=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Ww=(e,t)=>{const n=G(t,(t=>Se(e,t)));return se(n)},Uw=(e,t)=>{const n=Dt.makeMap(e.plugins," "),o=G(t,(e=>Se(n,e)));return se(o)},jw=e=>Z(zw,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),Vw=Is.DOM,qw=e=>P.from(e).each((e=>e.destroy())),Kw=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Se(e,t)}})(),Gw=js.ModelManager,Yw=(e,t)=>t.dom[e],Xw=(e,t)=>parseInt(ao(t,e),10),Qw=R(Yw,"clientWidth"),Zw=R(Yw,"clientHeight"),Jw=R(Xw,"margin-top"),eC=R(Xw,"margin-left"),tC=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},o=()=>P.from(t[0]),i=()=>{V(t,(e=>{e.reposition()}))},r=e=>{J(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),P.from(t).map(yn)).map(Kn).getOr(!1);var t})(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),Z(t,(e=>{return t=n().getArgs(e),o=s,!(t.type!==o.type||t.text!==o.text||t.progressBar||t.timeout||o.progressBar||o.timeout);var t,o})).getOrThunk((()=>{e.editorManager.setActive(e);const a=n().open(s,(()=>{r(a),i(),wf(e)&&o().fold((()=>e.focus()),(e=>Xp(yn(e.getEl()))))}));return(e=>{t.push(e)})(a),i(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=A(t);return(e=>{e.on("SkinLoaded",(()=>{const t=dc(e);t&&s({text:t,type:"warning",timeout:0},!1),i()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(i)})),e.on("remove",(()=>{V(t.slice(),(e=>{n().close(e)}))}))})(e),{open:s,close:()=>{o().each((e=>{n().close(e),r(e),i()}))},getNotifications:a}},nC=js.PluginManager,oC=js.ThemeManager,iC=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,i=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=G(t,(e=>e!==n)),0===t.length&&e.focus()},r=n=>{e.editorManager.setActive(e),sf(e),e.ui.show();const o=n();return(n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)})(o),o};return e.on("remove",(()=>{V(t,(e=>{n().close(e)}))})),{open:(e,t)=>r((()=>n().open(e,t,i))),openUrl:e=>r((()=>n().openUrl(e,i))),alert:(e,t,i)=>{const r=n();r.alert(e,o(i||r,t))},confirm:(e,t,i)=>{const r=n();r.confirm(e,o(i||r,t))},close:()=>{P.from(t[t.length-1]).each((e=>{n().close(e),i(e)}))}}},rC=(e,t)=>{e.notificationManager.open({type:"error",text:t})},sC=(e,t)=>{e._skinLoaded?rC(e,t):e.on("SkinLoaded",(()=>{rC(e,t)}))},aC=(e,t,n)=>{qh(e,t,{message:n}),console.error(n)},lC=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,cC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},dC=e=>"content/"+e+"/content.css",uC=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return j(t,(t=>(e=>tinymce.Resource.has(dC(e)))(t)?t:(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${o}`:e.documentBaseURI.toAbsolute(t)))},hC=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,o)=>{e[n]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let pC=0;const fC=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),gC=(e,t)=>((e,t)=>{const n={},o=(e,n)=>new Promise(((o,i)=>{const r=new XMLHttpRequest;r.open("POST",t.url),r.withCredentials=t.credentials,r.upload.onprogress=e=>{n(e.loaded/e.total*100)},r.onerror=()=>{i("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=()=>{if(r.status<200||r.status>=300)return void i("HTTP Error: "+r.status);const e=JSON.parse(r.responseText);var n,s;e&&h(e.location)?o((n=t.basePath,s=e.location,n?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+r.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),r.send(s)})),i=C(t.handler)?t.handler:o,r=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Dt.each(n[e],(e=>{e(t)})),delete n[e]};return{upload:(l,c)=>t.url||i!==o?((t,o)=>(t=Dt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Dt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,o)=>(e.markPending(t.blobUri()),new Promise((i=>{let l,c;try{const d=()=>{l&&(l.close(),c=_)},u=n=>{d(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),r(t,n)),i(r(t,n))},p=n=>{d(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),i(s(t,n))};c=e=>{e<0||e>100||P.from(l).orThunk((()=>P.from(o).map(O))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,c).then(u,(e=>{p(h(e)?{message:e}:e)}))}catch(e){i(s(t,e))}}))))(t,i,o))))))(l,c):new Promise((e=>{e([])}))}})(t,{url:Vl(e),basePath:ql(e),credentials:Kl(e),handler:Gl(e)}),mC=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+pC+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,o=e.blob;var i;return{id:A(t),name:A(n),filename:A(e.filename||n+"."+(i=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[i.toLowerCase()]||"dat")),blob:A(o),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(o)),uri:A(e.uri)}},n=t=>Z(e,t).getOrUndefined(),o=e=>n((t=>t.id()===e));return{create:(e,n,o,i,r)=>{if(h(e))return t({id:e,name:i,filename:r,blob:n,base64:o});if(p(e))return t(e);throw new Error("Unknown input type")},add:t=>{o(t.id())||e.push(t)},get:o,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=G(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{V(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,o;const i=hC(),r=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>{const o=`src="${n}"${n===Tt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,o),a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{V(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=j(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},d=()=>(n||(n=gC(e,i)),g().then(s((o=>{const i=j(o,(e=>e.blobInfo));return n.upload(i,fC(e)).then(s((n=>{const i=[];let r=!1;const s=j(n,((n,s)=>{const{blobInfo:a,image:l}=o[s];let d=!1;return n.status&&Wl(e)?(n.url&&!ze(l.src,n.url)&&(r=!0),t.removeByUri(l.src),Ew(e)||((t,n)=>{const o=e.convertURL(n,"src");var i;c(t.src,n),Zt(yn(t),{src:zl(e)?(i=n,i+(-1===i.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,Tt.transparentSrc),i.push(l),d=!0),((e,t)=>{sC(e,Us.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:d}}));return i.length>0&&!Ew(e)?e.undoManager.transact((()=>{V(xo(i),(n=>{const o=An(n);wo(n),o.each((e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&w(e.schema.getTextBlockElements()[zt(t)]))(e,t)&&mo(t,gn('<br data-mce-bogus="1" />'))})(e)),t.removeByUri(n.dom.src)}))})):r&&e.undoManager.dispatchChange(),s})))})))),u=()=>Hl(e)?d():Promise.resolve([]),f=e=>ne(r,(t=>t(e))),g=()=>(o||(o=((e,t)=>{const n={};return{findAll:(o,i=F)=>{const r=G((e=>e?de(e.getElementsByTagName("img")):[])(o),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Tt.transparentSrc)&&(We(n,"blob:")?!e.isUploaded(n)&&i(t):!!We(n,"data:")&&i(t))})),s=j(r,(e=>{const o=e.src;if(Se(n,o))return n[o].then((t=>h(t)?t:{image:e,blobInfo:t.blobInfo}));{const i=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(We(t,"blob:")){const r=e.getByUri(t);return w(r)?Promise.resolve(r):(o=t,We(o,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))))(o):We(o,"data:")?(i=o,new Promise(((e,t)=>{$y(i).bind((({type:e,data:t,base64Encoded:n})=>Ty(e,t,n))).fold((()=>t("Invalid data URI")),e)}))):Promise.reject("Unknown URI format")).then((t=>Ly(t).then((o=>My(o,!1,(n=>P.some(Dy(e,t,n)))).getOrThunk(n)))))}var o,i;return We(t,"data:")?Oy(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=i,i}}));return Promise.all(s)}}})(i,t)),o.findAll(e.getBody(),f).then(s((t=>{const n=G(t,(t=>h(t)?(sC(e,t),!1):"blob"!==t.uriType));return Ew(e)||V(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),m=n=>n.replace(/src="(blob:[^"]+)"/g,((n,o)=>{const r=i.getResultUri(o);if(r)return'src="'+r+'"';let s=t.getByUri(o);return s||(s=X(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),void 0)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':n}));return e.on("SetContent",(()=>{Hl(e)?u():g()})),e.on("RawSaveContent",(e=>{e.content=m(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=m(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{V(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const o=i.getResultUri(n);o&&e.attr("src",o)}))}))})),{blobCache:t,addFilter:e=>{r.push(e)},uploadImages:d,uploadImagesAuto:u,scanForImages:g,destroy:()=>{t.destroy(),i.destroy(),o=n=null}}},vC={remove_similar:!0,inherit:!1},yC={selector:"td,th",...vC},bC={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...yC},tablecellverticalalign:{styles:{"vertical-align":"%value"},...yC},tablecellbordercolor:{styles:{borderColor:"%value"},...yC},tablecellclass:{classes:["%value"],...yC},tableclass:{selector:"table",classes:["%value"],...vC},tablecellborderstyle:{styles:{borderStyle:"%value"},...yC},tablecellborderwidth:{styles:{borderWidth:"%value"},...yC}},wC=A(bC),CC=Dt.each,xC=Is.DOM,SC=e=>w(e)&&p(e),_C=(e,t)=>{const n=t&&t.schema||as({}),o=e=>{const t=h(e)?{name:e,classes:[],attrs:{}}:e,n=xC.create(t.name);return((e,t)=>{t.classes.length>0&&xC.addClass(e,t.classes.join(" ")),xC.setAttribs(e,t.attrs)})(n,t),n},i=(e,t,r)=>{let s;const a=t[0],l=SC(a)?a.name:void 0,c=((e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),i=null==o?void 0:o.parentsRequired;return!(!i||!i.length)&&(t&&U(i,t)?t:i[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!r)return e;const d=s?o(s):xC.create("div");d.appendChild(e),r&&Dt.each(r,(t=>{const n=o(t);d.insertBefore(n,e)}));const u=SC(s)?s.siblings:void 0;return i(d,t,u)},r=xC.create("div");if(e.length>0){const t=e[0],n=o(t),s=SC(t)?t.siblings:void 0;r.appendChild(i(n,e.slice(1),s))}return r},kC=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Dt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,o,i,r)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==Dt.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===i){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},EC=(e,t)=>{let n="",o=vc(e);if(""===o)return"";const i=e=>h(e)?e.replace(/%(\w+)/g,""):"",r=(t,n)=>xC.getStyle(null!=n?n:e.getBody(),t,!0);if(h(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";o=e||o}let s,a=t.block||t.inline||"span";const l=(c=t.selector,h(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Dt.map(e.split(/(?:~\+|~|\+)/),kC),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=_C(l,e)):s=_C([a],e);const d=xC.select(a,s)[0]||s.firstChild;CC(t.styles,((e,t)=>{const n=i(e);n&&xC.setStyle(d,t,n)})),CC(t.attributes,((e,t)=>{const n=i(e);n&&xC.setAttrib(d,t,n)})),CC(t.classes,(e=>{const t=i(e);xC.hasClass(d,t)||xC.addClass(d,t)})),e.dispatch("PreviewFormats"),xC.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const u=r("fontSize"),p=/px$/.test(u)?parseInt(u,10):0;return CC(o.split(" "),(e=>{let t=r(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=r(e),"#ffffff"===ms(t).toLowerCase())||"color"===e&&"#000000"===ms(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===p)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*p+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),xC.remove(s),n},AC=e=>{const t=(e=>{const t={},n=(e,o)=>{e&&(h(e)?(g(o)||(o=[o]),V(o,(e=>{y(e.deep)&&(e.deep=!bh(e)),y(e.split)&&(e.split=!bh(e)||wh(e)),y(e.remove)&&bh(e)&&!wh(e)&&(e.remove="none"),bh(e)&&wh(e)&&(e.mixed=!0,e.block_expand=!0),h(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=o):fe(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>zo(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{Dt.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{
selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{o[e]={block:e,remove:"all"}})),o})(e)),n(wC()),n(mc(e)),{get:e=>w(e)?t[e]:t,has:e=>Se(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=Bs({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",(t=>{var n;((e,t,n)=>{const o=e.selection,i=e.getBody();Tv(e,null,n),8!==t&&46!==t||!o.isCollapsed()||o.getStart().innerHTML!==kv||Tv(e,Tu(i,o.getStart()),!0),37!==t&&39!==t||Tv(e,Tu(i,o.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,Qo(n)&&Ue(n.data,fi)))}))})(e),Ew(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{_y(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const o=P.from(n.node).map((e=>nh(e)?e:e.startContainer)).bind((e=>zo(e)?P.some(e):P.from(e.parentElement))).getOrThunk((()=>Cy(t)));_y(t,o,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{((e,t,n,o)=>{$w(e).formatter.apply(t,n,o)})(e,t,n,o)},remove:(t,n,o,i)=>{((e,t,n,o,i)=>{$w(e).formatter.remove(t,n,o,i)})(e,t,n,o,i)},toggle:(t,n,o)=>{((e,t,n,o)=>{$w(e).formatter.toggle(t,n,o)})(e,t,n,o)},match:(t,n,o,i)=>((e,t,n,o,i)=>$w(e).formatter.match(t,n,o,i))(e,t,n,o,i),closest:t=>((e,t)=>$w(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>$w(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,o,i)=>((e,t,n,o,i)=>$w(e).formatter.matchNode(t,n,o,i))(e,t,n,o,i),canApply:t=>((e,t)=>$w(e).formatter.canApply(t))(e,t),formatChanged:(t,o,i,r)=>((e,t,n,o,i,r)=>$w(e).formatter.formatChanged(t,n,o,i,r))(e,n,t,o,i,r),getCssText:R(EC,e)}},$C=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},TC=e=>{const t=qs(),n=Bs(0),o=Bs(0),i={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{$w(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(r,s)=>((e,t,n,o,i,r,s)=>$w(e).undoManager.add(t,n,o,i,r,s))(e,i,o,n,t,r,s),dispatchChange:()=>{e.setDirty(!0);const t=vw(e);t.bookmark=ll(e.selection),e.dispatch("change",{level:t,lastLevel:ae(i.data,o.get()).getOrUndefined()})},undo:()=>((e,t,n,o)=>$w(e).undoManager.undo(t,n,o))(e,i,n,o),redo:()=>((e,t,n)=>$w(e).undoManager.redo(t,n))(e,o,i.data),clear:()=>{((e,t,n)=>{$w(e).undoManager.clear(t,n)})(e,i,o)},reset:()=>{((e,t)=>{$w(e).undoManager.reset(t)})(e,i)},hasUndo:()=>((e,t,n)=>$w(e).undoManager.hasUndo(t,n))(e,i,o),hasRedo:()=>((e,t,n)=>$w(e).undoManager.hasRedo(t,n))(e,i,o),transact:t=>((e,t,n,o)=>$w(e).undoManager.transact(t,n,o))(e,i,n,t),ignore:t=>{((e,t,n)=>{$w(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,o,i)=>{$w(e).undoManager.extra(t,n,o,i)})(e,i,o,t,n)}};return Ew(e)||((e,t,n)=>{const o=Bs(!1),i=e=>{Sw(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const o=e.command;$C(o)||(_w(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;$C(t)||i(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",(n=>{const r=n.keyCode;if(n.isDefaultPrevented())return;const s=Tt.os.isMacOS()&&"Meta"===n.key;(r>=33&&r<=36||r>=37&&r<=40||45===r||n.ctrlKey||s)&&(i(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),o.get()&&t.typing&&!Cw(vw(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged())})),e.on("keydown",(e=>{const r=e.keyCode;if(e.isDefaultPrevented())return;if(r>=33&&r<=36||r>=37&&r<=40||45===r)return void(t.typing&&i(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;if((r<16||r>20)&&224!==r&&91!==r&&!t.typing&&!s)return t.beforeChange(),Sw(t,!0,n),t.add({},e),void o.set(!0);(Tt.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()})),e.on("mousedown",(e=>{t.typing&&i(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&i(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,i,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),i},LC=[9,27,Zh.HOME,Zh.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Zh.DOWN,Zh.UP,Zh.LEFT,Zh.RIGHT].concat(Tt.browser.isFirefox()?[224]:[]),RC="data-mce-placeholder",MC=e=>"keydown"===e.type||"keyup"===e.type,DC=e=>{const t=e.keyCode;return t===Zh.BACKSPACE||t===Zh.DELETE},OC=(e,t)=>({from:e,to:t}),NC=(e,t)=>{const n=yn(e),o=yn(t.container());return mm(n,o).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},IC=(e,t)=>Xn(t,(e=>ki(e)||ri(e.dom)),(t=>xn(t,e))).filter(Vt).getOr(e),FC=(e,t)=>{const n=((e,t)=>{const n=On(e);return J(n,(e=>t.isBlock(zt(e)))).fold(A(n),(e=>n.slice(0,e)))})(e,t);return V(n,wo),n},PC=(e,t)=>{const n=Cg(t,e);return Z(n.reverse(),(e=>ur(e))).each(wo)},BC=(e,t,n,o,i)=>{if(ur(n))return $i(n),ku(n.dom);0===G(Mn(i),(e=>!ur(e))).length&&ur(t)&&po(i,mn("br"));const r=_u(n.dom,za.before(i.dom));return V(FC(t,o),(e=>{po(i,e)})),PC(e,t),r},HC=(e,t,n,o)=>{if(ur(n)){if(ur(t)){const e=e=>{const t=(e,n)=>In(e).fold((()=>n),(e=>((e,t)=>e.isInline(zt(t)))(o,e)?t(e,n.concat(ca(e))):n));return t(e,[])},i=Y(e(n),((e,t)=>(vo(e,t),t)),Ai());bo(t),mo(t,i)}return wo(n),ku(t.dom)}const i=Eu(n.dom);return V(FC(t,o),(e=>{mo(n,e)})),PC(e,t),i},zC=(e,t)=>{xu(e,t.dom).bind((e=>P.from(e.getNode()))).map(yn).filter(wi).each(wo)},WC=(e,t,n,o)=>(zC(!0,t),zC(!1,n),((e,t)=>Sn(t,e)?((e,t)=>{const n=Cg(t,e);return P.from(n[n.length-1])})(t,e):P.none())(t,n).fold(R(HC,e,t,n,o),R(BC,e,t,n,o))),UC=(e,t,n,o,i)=>t?WC(e,o,n,i):WC(e,n,o,i),jC=(e,t)=>{const n=yn(e.getBody()),o=((e,t,n)=>n.collapsed?((e,t,n)=>{const o=NC(e,za.fromRangeStart(n)),i=o.bind((n=>bu(t,e,n.position).bind((n=>NC(e,n).map((n=>((e,t,n)=>oi(n.position.getNode())&&!ur(n.block)?xu(!1,n.block.dom).bind((o=>o.isEqual(n.position)?bu(t,e,o).bind((t=>NC(e,t))):P.some(n))).getOr(n):n)(e,t,n)))))));return It(o,i,OC).filter((t=>(e=>!xn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=yn(e);return xn(IC(n,t.from.block),IC(n,t.to.block))})(e,t)&&(e=>!1===si(e.from.block.dom)&&!1===si(e.to.block.dom))(t)&&(e=>{const t=e=>Ci(e)||Sr(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))})(e,t,n):P.none())(n.dom,t,e.selection.getRng()).map((o=>()=>{UC(n,t,o.from.block,o.to.block,e.schema).each((t=>{e.selection.setRng(t.toRange())}))}));return o},VC=(e,t)=>{const n=yn(t),o=R(xn,e);return Yn(n,ki,o).isSome()},qC=(e,t)=>e.selection.isCollapsed()?P.none():(e=>{const t=yn(e.getBody());return((e,t)=>{const n=_u(e.dom,za.fromRangeStart(t)).isNone(),o=Su(e.dom,za.fromRangeEnd(t)).isNone();return!((e,t)=>VC(e,t.startContainer)||VC(e,t.endContainer))(e,t)&&n&&o})(t,e.selection.getRng())?(e=>P.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t,n)=>{const o=t.getRng();return It(mm(e,yn(o.startContainer)),mm(e,yn(o.endContainer)),((i,r)=>xn(i,r)?P.none():P.some((()=>{o.deleteContents(),UC(e,!0,i,r,n).each((e=>{t.setRng(e.toRange())}))})))).getOr(P.none())})(t,e.selection,e.schema)})(e),KC=(e,t,n,o,i)=>P.from(t._selectionOverrides.showCaret(e,n,o,i)),GC=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?P.none():P.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),YC=(e,t,n)=>t.collapsed?((e,t,n)=>{const o=Zd(1,e.getBody(),t),i=za.fromRangeStart(o),r=i.getNode();if(Td(r))return KC(1,e,r,!i.isAtEnd(),!1);const s=i.getNode(!0);if(Td(s))return KC(1,e,s,!1,!1);const a=qm(e.dom.getRoot(),i.getNode());return Td(a)?KC(1,e,a,!1,n):P.none()})(e,t,n).getOr(t):t,XC=e=>yg(e)||fg(e),QC=e=>bg(e)||gg(e),ZC=(e,t,n,o,i,r)=>{KC(o,e,r.getNode(!i),i,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();i?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{Qo(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},JC=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!Qo(n.commonAncestorContainer))return P.none();const o=t?iu.Forwards:iu.Backwards,i=gu(e.getBody()),r=R(nu,t?i.next:i.prev),s=t?XC:QC,a=eu(o,e.getBody(),n),l=r(a),c=l?dm(t,l):l;if(!c||!ou(a,c))return P.none();if(s(c))return P.some((()=>ZC(e,n,a.getNode(),o,t,c)));const d=r(c);return d&&s(d)&&ou(c,d)?P.some((()=>ZC(e,n,a.getNode(),o,t,d))):P.none()})(e,t),ex=(e,t)=>{const n=e.getBody();return t?ku(n).filter(yg):Eu(n).filter(bg)},tx=e=>{const t=e.selection.getRng();return!t.collapsed&&(ex(e,!0).exists((e=>e.isEqual(za.fromRangeStart(t))))||ex(e,!1).exists((e=>e.isEqual(za.fromRangeEnd(t)))))},nx=hl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ox=(e,t,n,o)=>bu(t,e,n).bind((i=>{return r=i.getNode(),w(r)&&(ki(yn(r))||Si(yn(r)))||((e,t,n,o,i)=>{const r=t=>i.isInline(t.nodeName.toLowerCase())&&!Vd(n,o,e);return Jd(!t,n).fold((()=>Jd(t,o).fold(I,r)),r)})(e,t,n,i,o)?P.none():t&&si(i.getNode())||!t&&si(i.getNode(!0))?((e,t,n,o)=>{const i=o.getNode(!t);return mm(yn(e),yn(n.getNode())).map((e=>ur(e)?nx.remove(e.dom):nx.moveToElement(i))).orThunk((()=>P.some(nx.moveToElement(i))))})(e,t,n,i):t&&bg(n)||!t&&yg(n)?P.some(nx.moveToPosition(i)):P.none();var r})),ix=(e,t)=>P.from(qm(e.getBody(),t)),rx=e=>{const t=e.dom,n=e.selection,o=qm(e.getBody(),n.getNode());if(ri(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(za.before(e).toRange())}return!0},sx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=e.selection.getNode();return ix(e,n).filter(si).fold((()=>((e,t,n,o)=>{const i=Zd(t?1:-1,e,n),r=za.fromRangeStart(i),s=yn(e);return!t&&bg(r)?P.some(nx.remove(r.getNode(!0))):t&&yg(r)?P.some(nx.remove(r.getNode())):!t&&yg(r)&&Dg(s,r,o)?Og(s,r,o).map((e=>nx.remove(e.getNode()))):t&&bg(r)&&Mg(s,r,o)?Ng(s,r,o).map((e=>nx.remove(e.getNode()))):((e,t,n,o)=>((e,t)=>{const n=t.getNode(!e),o=e?"after":"before";return zo(n)&&n.getAttribute("data-mce-caret")===o})(t,n)?((e,t)=>b(t)?P.none():e&&si(t.nextSibling)?P.some(nx.moveToElement(t.nextSibling)):!e&&si(t.previousSibling)?P.some(nx.moveToElement(t.previousSibling)):P.none())(t,n.getNode(!t)).orThunk((()=>ox(e,t,n,o))):ox(e,t,n,o).bind((t=>((e,t,n)=>n.fold((e=>P.some(nx.remove(e))),(e=>P.some(nx.moveToElement(e))),(n=>Vd(t,n,e)?P.none():P.some(nx.moveToPosition(n)))))(e,n,t))))(e,t,r,o)})(e.getBody(),t,e.selection.getRng(),e.schema).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),rm(e,t,yn(n)),!0))(e,t),((e,t)=>n=>{const o=t?za.before(n):za.after(n);return e.selection.setRng(o.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>P.some(_)))})(e,t):((e,t)=>{const n=e.selection.getNode();return si(n)&&!ai(n)?ix(e,n.parentNode).filter(si).fold((()=>P.some((()=>{var n;n=yn(e.getBody()),V(Io(n,".mce-offscreen-selection"),wo),rm(e,t,yn(e.selection.getNode())),vm(e)}))),(()=>P.some(_))):tx(e)?P.some((()=>{wm(e,e.selection.getRng(),yn(e.getBody()))})):P.none()})(e,t),ax=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=za.fromRangeStart(e.selection.getRng());return bu(t,e.getBody(),n).filter((e=>t?hg(e):pg(e))).bind((e=>qd(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):P.none(),lx=Qo,cx=e=>lx(e)&&e.data[0]===Ti,dx=e=>lx(e)&&e.data[e.data.length-1]===Ti,ux=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Ti)},hx=(e,t)=>e?(e=>{var t;if(lx(e.previousSibling))return dx(e.previousSibling)||e.previousSibling.appendData(Ti),e.previousSibling;if(lx(e))return cx(e)||e.insertData(0,Ti),e;{const n=ux(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(lx(e.nextSibling))return cx(e.nextSibling)||e.nextSibling.insertData(0,Ti),e.nextSibling;if(lx(e))return dx(e)||e.appendData(Ti),e;{const o=ux(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}})(t),px=R(hx,!0),fx=R(hx,!1),gx=(e,t)=>Qo(e.container())?hx(t,e.container()):hx(t,e.getNode()),mx=(e,t)=>{const n=t.get();return n&&e.container()===n&&Ni(n)},vx=(e,t)=>t.fold((t=>{Sd(e.get());const n=px(t);return e.set(n),P.some(za(n,n.length-1))}),(t=>ku(t).map((t=>{if(mx(t,e)){const t=e.get();return za(t,1)}{Sd(e.get());const n=gx(t,!0);return e.set(n),za(n,1)}}))),(t=>Eu(t).map((t=>{if(mx(t,e)){const t=e.get();return za(t,t.length-1)}{Sd(e.get());const n=gx(t,!1);return e.set(n),za(n,n.length-1)}}))),(t=>{Sd(e.get());const n=fx(t);return e.set(n),P.some(za(n,1))})),yx=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return P.none()},bx=hl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),wx=(e,t)=>jd(t,e)||e,Cx=(e,t,n)=>{const o=um(n),i=wx(t,o.container());return cm(e,i,o).fold((()=>Su(i,o).bind(R(cm,e,i)).map((e=>bx.before(e)))),P.none)},xx=(e,t)=>null===Tu(e,t),Sx=(e,t,n)=>cm(e,t,n).filter(R(xx,t)),_x=(e,t,n)=>{const o=hm(n);return Sx(e,t,o).bind((e=>_u(e,o).isNone()?P.some(bx.start(e)):P.none()))},kx=(e,t,n)=>{const o=um(n);return Sx(e,t,o).bind((e=>Su(e,o).isNone()?P.some(bx.end(e)):P.none()))},Ex=(e,t,n)=>{const o=hm(n),i=wx(t,o.container());return cm(e,i,o).fold((()=>_u(i,o).bind(R(cm,e,i)).map((e=>bx.after(e)))),P.none)},Ax=e=>!lm(Tx(e)),$x=(e,t,n)=>yx([Cx,_x,kx,Ex],[e,t,n]).filter(Ax),Tx=e=>e.fold(T,T,T,T),Lx=e=>e.fold(A("before"),A("start"),A("end"),A("after")),Rx=e=>e.fold(bx.before,bx.before,bx.after,bx.after),Mx=e=>e.fold(bx.start,bx.start,bx.end,bx.end),Dx=(e,t,n,o,i,r)=>It(cm(t,n,o),cm(t,n,i),((t,o)=>t!==o&&((e,t,n)=>{const o=jd(t,e),i=jd(n,e);return w(o)&&o===i})(n,t,o)?bx.after(e?t:o):r)).getOr(r),Ox=(e,t)=>e.fold(F,(e=>{return o=t,!(Lx(n=e)===Lx(o)&&Tx(n)===Tx(o));var n,o})),Nx=(e,t)=>e?t.fold(k(P.some,bx.start),P.none,k(P.some,bx.after),P.none):t.fold(P.none,k(P.some,bx.before),P.none,k(P.some,bx.end)),Ix=(e,t,n)=>{const o=e?1:-1;return t.setRng(za(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var Fx;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Fx||(Fx={}));const Px=(e,t)=>e===iu.Backwards?oe(t):t,Bx=(e,t,n)=>e===iu.Forwards?t.next(n):t.prev(n),Hx=(e,t,n,o)=>oi(o.getNode(t===iu.Forwards))?Fx.Br:!1===Vd(n,o)?Fx.Block:Fx.Wrap,zx=(e,t,n,o)=>{const i=gu(n);let r=o;const s=[];for(;r;){const n=Bx(t,i,r);if(!n)break;if(oi(n.getNode(!1)))return t===iu.Forwards?{positions:Px(t,s).concat([n]),breakType:Fx.Br,breakAt:P.some(n)}:{positions:Px(t,s),breakType:Fx.Br,breakAt:P.some(n)};if(n.isVisible()){if(e(r,n)){const e=Hx(0,t,r,n);return{positions:Px(t,s),breakType:e,breakAt:P.some(n)}}s.push(n),r=n}else r=n}return{positions:Px(t,s),breakType:Fx.Eol,breakAt:P.none()}},Wx=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const i=t(n,o).positions;return e===iu.Backwards?i.concat(o):[o].concat(i)})).getOr([]),Ux=(e,t)=>X(e,((e,n)=>e.fold((()=>P.some(n)),(o=>It(le(o.getClientRects()),le(n.getClientRects()),((e,i)=>{const r=Math.abs(t-e.left);return Math.abs(t-i.left)<=r?n:o})).or(e)))),P.none()),jx=(e,t)=>le(t.getClientRects()).bind((t=>Ux(e,t.left))),Vx=R(zx,za.isAbove,-1),qx=R(zx,za.isBelow,1),Kx=R(Wx,-1,Vx),Gx=R(Wx,1,qx),Yx=(e,t)=>Vx(e,t).breakAt.isNone(),Xx=(e,t)=>qx(e,t).breakAt.isNone(),Qx=(e,t)=>jx(Kx(e,t),t),Zx=(e,t)=>jx(Gx(e,t),t),Jx=si,eS=(e,t)=>Math.abs(e.left-t),tS=(e,t)=>Math.abs(e.right-t),nS=(e,t)=>Re(e,((e,n)=>{const o=Math.min(eS(e,t),tS(e,t)),i=Math.min(eS(n,t),tS(n,t));return i===o&&_e(n,"node")&&Jx(n.node)||i<o?n:e})),oS=e=>{const t=t=>j(t,(t=>{const n=fa(t);return n.node=e,n}));if(zo(e))return t(e.getClientRects());if(Qo(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},iS=e=>te(e,oS);var rS;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(rS||(rS={}));const sS=(e,t,n,o,i,r)=>{let s=0;const a=[],l=o=>{let r=iS([o]);-1===e&&(r=r.reverse());for(let e=0;e<r.length;e++){const o=r[e];if(!n(o,c)){if(a.length>0&&t(o,De(a))&&s++,o.line=s,i(o))return!0;a.push(o)}}return!1},c=De(r.getClientRects());if(!c)return a;const d=r.getNode();return d&&(l(d),((e,t,n,o)=>{let i=o;for(;i=Ud(i,e,er,t);)if(n(i))return})(e,o,l,d)),a},aS=R(sS,rS.Up,va,ya),lS=R(sS,rS.Down,ya,va),cS=e=>De(e.getClientRects()),dS=e=>t=>((e,t)=>t.line>e)(e,t),uS=e=>t=>((e,t)=>t.line===e)(e,t),hS=(e,t)=>{e.selection.setRng(t),Yp(e,e.selection.getRng())},pS=(e,t,n)=>P.some(YC(e,t,n)),fS=(e,t,n,o,i,r)=>{const s=t===iu.Forwards,a=gu(e.getBody()),l=R(nu,s?a.next:a.prev),c=s?o:i;if(!n.collapsed){const o=wa(n);if(r(o))return KC(t,e,o,t===iu.Backwards,!1);if(tx(e)){const e=n.cloneRange();return e.collapse(t===iu.Backwards),P.from(e)}}const d=eu(t,e.getBody(),n);if(c(d))return GC(e,d.getNode(!s));let u=l(d);const h=Ui(n);if(!u)return h?P.some(n):P.none();if(u=dm(s,u),c(u))return KC(t,e,u.getNode(!s),s,!1);const p=l(u);return p&&c(p)&&ou(u,p)?KC(t,e,p.getNode(!s),s,!1):h?pS(e,u.toRange(),!1):P.none()},gS=(e,t,n,o,i,r)=>{const s=eu(t,e.getBody(),n),a=De(s.getClientRects()),l=t===rS.Down,c=e.getBody();if(!a)return P.none();if(tx(e)){const e=l?za.fromRangeEnd(n):za.fromRangeStart(n);return(l?Zx:Qx)(c,e).orThunk((()=>P.from(e))).map((e=>e.toRange()))}const d=(l?lS:aS)(c,dS(1),s),u=G(d,uS(1)),h=a.left,p=nS(u,h);if(p&&r(p.node)){const n=Math.abs(h-p.left),o=Math.abs(h-p.right);return KC(t,e,p.node,n<o,!1)}let f;if(f=o(s)?s.getNode():i(s)?s.getNode(!0):wa(n),f){const n=((e,t,n,o)=>{const i=gu(t);let r,s,a,l;const c=[];let d=0;1===e?(r=i.next,s=ya,a=va,l=za.after(o)):(r=i.prev,s=va,a=ya,l=za.before(o));const u=cS(l);do{if(!l.isVisible())continue;const e=cS(l);if(a(e,u))continue;c.length>0&&s(e,De(c))&&d++;const t=fa(e);if(t.position=l,t.line=d,n(t))return c;c.push(t)}while(l=r(l));return c})(t,c,dS(1),f);let o=nS(G(n,uS(1)),h);if(o)return pS(e,o.position.toRange(),!1);if(o=De(G(n,uS(0))),o)return pS(e,o.position.toRange(),!1)}return 0===u.length?mS(e,l).filter(l?i:o).map((t=>YC(e,t.toRange(),!1))):P.none()},mS=(e,t)=>{const n=e.selection.getRng(),o=t?za.fromRangeEnd(n):za.fromRangeStart(n),i=(r=o.container(),s=e.getBody(),Yn(yn(r),(e=>Rd(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var r,s;if(t){const e=qx(i,o);return ce(e.positions)}{const e=Vx(i,o);return le(e.positions)}},vS=(e,t,n)=>mS(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),yS=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},bS=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},wS=(e,t,n)=>vx(t,n).map((t=>(yS(e,t),n))),CS=(e,t,n)=>!!gc(e)&&((e,t,n)=>{const o=e.getBody(),i=((e,t,n)=>{const o=za.fromRangeStart(e);if(e.collapsed)return o;{const i=za.fromRangeEnd(e);return n?_u(t,i).getOr(i):Su(t,o).getOr(o)}})(e.selection.getRng(),o,n);return((e,t,n,o)=>{const i=dm(e,o),r=$x(t,n,i);return $x(t,n,i).bind(R(Nx,e)).orThunk((()=>((e,t,n,o,i)=>{const r=dm(e,i);return bu(e,n,r).map(R(dm,e)).fold((()=>o.map(Rx)),(i=>$x(t,n,i).map(R(Dx,e,t,n,r,i)).filter(R(Ox,o)))).filter(Ax)})(e,t,n,r,o)))})(n,R(am,e),o,i).bind((n=>wS(e,t,n)))})(e,t,n).isSome(),xS=(e,t,n)=>!!gc(t)&&((e,t)=>{const n=t.selection.getRng(),o=e?za.fromRangeEnd(n):za.fromRangeStart(n);return!!(e=>C(e.selection.getSel().modify))(t)&&(e&&Pi(o)?Ix(!0,t.selection,o):!(e||!Bi(o))&&Ix(!1,t.selection,o))})(e,t),SS=e=>{const t=Bs(null),n=R(am,e);return e.on("NodeChange",(o=>{gc(e)&&(((e,t,n)=>{const o=j(Io(yn(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),i=G(o,e),r=G(n,e);V(ie(i,r),R(bS,!1)),V(ie(r,i),R(bS,!0))})(n,e.dom,o.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=za.fromRangeStart(e.selection.getRng());za.isTextPosition(o)&&!(e=>Pi(e)||Bi(e))(o)&&(yS(e,((e,t)=>za.isTextPosition(t)?((e,t)=>yd(e)&&t.container()===e?((e,t)=>{const n=wd(e.data.substr(0,t.offset())),o=wd(e.data.substr(t.offset()));return(n.text+o.text).length>0?(Cd(e),za(e,t.offset()-n.count)):t})(e,t):xd(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),o=((e,t)=>{const n=W(e,t);return-1===n?P.none():P.some(n)})(de(n.childNodes),e).map((e=>e<t.offset()?za(n,t.offset()-1):t)).getOr(t);return Sd(e),o})(e,t):xd(e,t))(e,t))(n,o)),t.set(null))}})(e,t),((e,t,n,o)=>{if(t.selection.isCollapsed()){const i=G(o,e);V(i,(o=>{const i=za.fromRangeStart(t.selection.getRng());$x(e,t.getBody(),i).bind((e=>wS(t,n,e)))}))}})(n,e,t,o.parents))})),t},_S=R(xS,!0),kS=R(xS,!1),ES=(e,t,n)=>{if(gc(e)){const o=mS(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?za.fromRangeEnd(n):za.fromRangeStart(n)}));return $x(R(am,e),e.getBody(),o).exists((t=>{const o=Rx(t);return vx(n,o).exists((t=>(yS(e,t),!0)))}))}return!1},AS=(e,t)=>n=>vx(t,n).map((t=>()=>yS(e,t))),$S=(e,t,n,o)=>{const i=e.getBody(),r=R(am,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,o)),fm(e),$x(r,i,za.fromRangeStart(e.selection.getRng())).map(Mx).bind(AS(e,t)).each(N)})),e.nodeChanged()},TS=(e,t,n)=>{if(e.selection.isCollapsed()&&gc(e)){const o=za.fromRangeStart(e.selection.getRng());return((e,t,n,o)=>{const i=((e,t)=>jd(t,e)||e)(e.getBody(),o.container()),r=R(am,e),s=$x(r,i,o);return s.bind((e=>n?e.fold(A(P.some(Mx(e))),P.none,A(P.some(Rx(e))),P.none):e.fold(P.none,A(P.some(Rx(e))),P.none,A(P.some(Mx(e)))))).map(AS(e,t)).getOrThunk((()=>{const a=wu(n,i,o),l=a.bind((e=>$x(r,i,e)));return It(s,l,(()=>cm(r,i,o).bind((t=>(e=>It(ku(e),Eu(e),((t,n)=>{const o=dm(!0,t),i=dm(!1,n);return Su(e,o).forall((e=>e.isEqual(i)))})).getOr(!0))(t)?P.some((()=>{rm(e,n,yn(t))})):P.none())))).getOrThunk((()=>l.bind((()=>a.map((i=>()=>{n?$S(e,t,o,i):$S(e,t,i,o)}))))))}))})(e,t,n,o)}return P.none()},LS=(e,t)=>{const n=yn(e.getBody()),o=yn(e.selection.getStart()),i=Cg(o,n);return J(i,t).fold(A(i),(e=>i.slice(0,e)))},RS=e=>1===Pn(e),MS=(e,t)=>{const n=R(Nv,e);return te(t,(e=>n(e)?[e.dom]:[]))},DS=e=>{const t=(e=>LS(e,(t=>e.schema.isBlock(zt(t)))))(e);return MS(e,t)},OS=(e,t)=>{const n=e.selection.getStart(),o=((e,t)=>{const n=t.parentElement;return oi(t)&&!m(n)&&e.dom.isEmpty(n)})(e,n)||Sh(yn(n))?Ov(n,t):((e,t)=>{const{caretContainer:n,caretPosition:o}=Dv(t);return e.insertNode(n.dom),o})(e.selection.getRng(),t);e.selection.setRng(o.toRange())},NS=e=>Qo(e.startContainer),IS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=G((e=>LS(e,(t=>e.schema.isBlock(zt(t))||(e=>Pn(e)>1)(t))))(e),RS);return ce(n).bind((o=>{const i=za.fromRangeStart(e.selection.getRng());return ym(t,i,o.dom)&&!Sh(o)?P.some((()=>((e,t,n,o)=>{const i=MS(t,o);if(0===i.length)rm(t,e,n);else{const e=Ov(n.dom,i);t.selection.setRng(e.toRange())}})(t,e,o,n))):P.none()}))})(e,t):(e=>{if((e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&NS(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!m(n)&&Nv(e,yn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!m(t)&&!m(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(Qo(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)})(e)){const t=DS(e);return P.some((()=>{fm(e),((e,t)=>{const n=ie(t,DS(e));n.length>0&&OS(e,n)})(e,t)}))}return P.none()})(e),FS=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(NS(t)||e.dom.isEmpty(t.startContainer))&&!(e=>((e,t)=>Yn(e,(e=>$u(e.dom)),(e=>t.isBlock(zt(e)))).isSome())(yn(e.selection.getStart()),e.schema))(e)})(e)&&OS(e,[]),!0),PS=(e,t,n)=>w(n)?P.some((()=>{e._selectionOverrides.hideFakeCaret(),rm(e,t,yn(n))})):P.none(),BS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?fg:gg,o=t?iu.Forwards:iu.Backwards,i=eu(o,e.getBody(),e.selection.getRng());return n(i)?PS(e,t,i.getNode(!t)):P.from(dm(t,i)).filter((e=>n(e)&&ou(i,e))).bind((n=>PS(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return ci(n)?PS(e,t,n):P.none()})(e,t),HS=e=>Xe(null!=e?e:"").getOr(0),zS=(e,t)=>(e||"table"===zt(t)?"margin":"padding")+("rtl"===ao(t,"direction")?"-right":"-left"),WS=e=>{const t=jS(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ne(t,(t=>{const n=zS(Jl(e),t),o=co(t,n).map(HS).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0})))(e,t))},US=e=>xi(e)||Si(e),jS=e=>G(xo(e.selection.getSelectedBlocks()),(e=>!US(e)&&!(e=>An(e).exists(US))(e)&&Xn(e,(e=>ri(e.dom)||si(e.dom))).exists((e=>ri(e.dom))))),VS=(e,t)=>{var n,o;const{dom:i}=e,r=ec(e),s=null!==(o=null===(n=/[a-z%]+$/i.exec(r))||void 0===n?void 0:n[0])&&void 0!==o?o:"px",a=HS(r),l=Jl(e);V(jS(e),(e=>{((e,t,n,o,i,r)=>{const s=zS(n,yn(r)),a=HS(e.getStyle(r,s));if("outdent"===t){const t=Math.max(0,a-o);e.setStyle(r,s,t?t+i:"")}else{const t=a+o+i;e.setStyle(r,s,t)}})(i,t,l,a,s,e.dom)}))},qS=e=>VS(e,"outdent"),KS=e=>{if(e.selection.isCollapsed()&&WS(e)){const t=e.dom,n=e.selection.getRng(),o=za.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(null!==i&&Eg(yn(i),o,e.schema))return P.some((()=>qS(e)))}return P.none()},GS=(e,t,n)=>ue([KS,sx,JC,(e,n)=>TS(e,t,n),jC,Vm,ax,BS,qC,IS],(t=>t(e,n))).filter((t=>e.selection.isEditable())),YS=e=>void 0===e.touches||1!==e.touches.length?P.none():P.some(e.touches[0]),XS=(e,t)=>Se(e,t.nodeName),QS=(e,t)=>!!Qo(t)||!!zo(t)&&!(XS(e.getBlockElements(),t)||zu(t)||Er(e,t)||pr(t)),ZS=(e,t)=>{if(Qo(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||XS(e,t.nextSibling)||pr(t.nextSibling)}return!1},JS=e=>e.dom.create(Dl(e),Ol(e)),e_=e=>{const t=e.dom,n=e.selection,o=e.schema,i=o.getBlockElements(),r=n.getStart(),s=e.getBody();let a,l,c=!1;const d=Dl(e);if(!r||!zo(r))return;const u=s.nodeName.toLowerCase();if(!o.isValidChild(u,d.toLowerCase())||((e,t,n)=>$(wg(yn(n),yn(t)),(t=>XS(e,t.dom))))(i,s,r))return;const h=n.getRng(),{startContainer:p,startOffset:f,endContainer:g,endOffset:m}=h,v=bf(e);let y=s.firstChild;for(;y;)if(zo(y)&&xr(o,y),QS(o,y)){if(ZS(i,y)){l=y,y=y.nextSibling,t.remove(l);continue}a||(a=JS(e),s.insertBefore(a,y),c=!0),l=y,y=y.nextSibling,a.appendChild(l)}else a=null,y=y.nextSibling;c&&v&&(h.setStart(p,f),h.setEnd(g,m),n.setRng(h),e.nodeChanged())},t_=(e,t,n)=>{const o=yn(JS(e)),i=Ai();mo(o,i),n(t,o);const r=document.createRange();return r.setStartBefore(i.dom),r.setEndBefore(i.dom),r},n_=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),o_=(e,t,n)=>function(o){const i=arguments,r=i[i.length-2],s=r>0?t.charAt(r-1):"";if('"'===s)return o;if(">"===s){const e=t.lastIndexOf("<",r);if(-1!==e&&-1!==t.substring(e,r).indexOf('contenteditable="false"'))return o}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode("string"==typeof i[1]?i[1]:i[0])+"</span>"},i_=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Wi(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},r_=(e,t)=>{const n=(e=>Jn(yn(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void i_(e,n)):void(Fi(n)&&(i_(e,n),e.undoManager.add()))},s_=si,a_=(e,t,n)=>{const o=gu(e.getBody()),i=R(nu,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!i(za.fromRangeStart(n))){const n=yn((e=>{const t=e.dom.create(Dl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?fo(yn(o),n):po(yn(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},l_=(e,t)=>((e,t)=>{const n=t?iu.Forwards:iu.Backwards,o=e.selection.getRng();return((e,t,n)=>fS(t,e,n,yg,bg,s_))(n,e,o).orThunk((()=>(a_(e,n,o),P.none())))})(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return lm(n)?!t:t})(e.selection,t)).exists((t=>(hS(e,t),!0))),c_=(e,t)=>((e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>gS(t,e,n,(e=>yg(e)||mg(e)),(e=>bg(e)||vg(e)),s_))(n,e,o).orThunk((()=>(a_(e,n,o),P.none())))})(e,t).exists((t=>(hS(e,t),!0))),d_=(e,t)=>vS(e,t,t?bg:yg),u_=(e,t)=>ex(e,!t).map((n=>{const o=n.toRange(),i=e.selection.getRng();return t?o.setStart(i.startContainer,i.startOffset):o.setEnd(i.endContainer,i.endOffset),o})).exists((t=>(hS(e,t),!0))),h_=e=>U(["figcaption"],zt(e)),p_=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=yn(e.getBody()),o=za.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const o=R(xn,t);return Xn(yn(e.container()),(e=>n.isBlock(zt(e))),o).filter(h_)})(o,n,e.schema).exists((()=>{if(((e,t,n)=>t?Xx(e.dom,n):Yx(e.dom,n))(n,t,o)){const o=t_(e,n,t?mo:go);return e.selection.setRng(o),!0}return!1}))})(e,t),f_=(e,t)=>((e,t)=>t?P.from(e.dom.getParent(e.selection.getNode(),"details")).map((t=>((e,t)=>{const n=e.selection.getRng(),o=za.fromRangeStart(n);return!(e.getBody().lastChild!==t||!Xx(t,o)||(e.execCommand("InsertNewBlockAfter"),0))})(e,t))).getOr(!1):P.from(e.dom.getParent(e.selection.getNode(),"summary")).bind((t=>P.from(e.dom.getParent(t,"details")).map((n=>((e,t,n)=>{const o=e.selection.getRng(),i=za.fromRangeStart(o);return!(e.getBody().firstChild!==t||!Yx(n,i)||(e.execCommand("InsertNewBlockBefore"),0))})(e,n,t))))).getOr(!1))(e,t),g_={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},m_=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,v_=(e,...t)=>()=>e.apply(null,t),y_=(e,t)=>Z(((e,t)=>te((e=>j(e,(e=>({...g_,...e}))))(e),(e=>m_(e,t)?[e]:[])))(e,t),(e=>e.action())),b_=(e,t)=>ue(((e,t)=>te((e=>j(e,(e=>({...g_,...e}))))(e),(e=>m_(e,t)?[e]:[])))(e,t),(e=>e.action())),w_=(e,t)=>{const n=t?iu.Forwards:iu.Backwards,o=e.selection.getRng();return fS(e,n,o,fg,gg,ci).exists((t=>(hS(e,t),!0)))},C_=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return gS(e,n,o,fg,gg,ci).exists((t=>(hS(e,t),!0)))},x_=(e,t)=>vS(e,t,t?gg:fg),S_=hl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),__={...S_,none:e=>S_.none(e)},k_=(e,t,n)=>te(On(e),(e=>wn(e,t)?n(e)?[e]:[]:k_(e,t,n))),E_=(e,t)=>eo(e,"table",t),A_=(e,t,n,o,i=F)=>{const r=1===o;if(!r&&n<=0)return __.first(e[0]);if(r&&n>=e.length-1)return __.last(e[e.length-1]);{const r=n+o,s=e[r];return i(s)?__.middle(t,s):A_(e,t,r,o,i)}},$_=(e,t)=>E_(e,t).bind((t=>{const n=k_(t,"th,td",F);return J(n,(t=>xn(e,t))).map((e=>({index:e,all:n})))})),T_=(e,t,n,o,i)=>{const r=Io(yn(n),"td,th,caption").map((e=>e.dom)),s=G(((e,t)=>te(t,(t=>{const n=((e,t)=>({left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+-1}))(fa(t.getBoundingClientRect()));return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,r),(e=>t(e,i)));return((e,t,n)=>X(e,((e,o)=>e.fold((()=>P.some(o)),(e=>{const i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),r=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return P.some(r<i?o:e)}))),P.none()))(s,o,i).map((e=>e.cell))},L_=R(T_,(e=>e.bottom),((e,t)=>e.y<t)),R_=R(T_,(e=>e.top),((e,t)=>e.y>t)),M_=(e,t,n)=>{const o=e(t,n);return(e=>e.breakType===Fx.Wrap&&0===e.positions.length)(o)||!oi(n.getNode())&&(e=>e.breakType===Fx.Br&&1===e.positions.length)(o)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,o):o.breakAt.isNone()},D_=R(M_,Vx),O_=R(M_,qx),N_=(e,t,n,o)=>{const i=e.selection.getRng(),r=t?1:-1;return!(!$d()||!((e,t,n)=>{const o=za.fromRangeStart(t);return xu(!e,n).exists((e=>e.isEqual(o)))})(t,i,n)||(KC(r,e,n,!t,!1).each((t=>{hS(e,t)})),0))},I_=(e,t,n)=>{const o=((e,t)=>{const n=t.getNode(e);return Go(n)?P.some(n):P.none()})(!!t,n),i=!1===t
;o.fold((()=>hS(e,n.toRange())),(o=>xu(i,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>hS(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const o=e?fo:po,i=t_(t,yn(n),o);hS(t,i)}))})(t,e,o)))))},F_=(e,t,n,o)=>{const i=e.selection.getRng(),r=za.fromRangeStart(i),s=e.getBody();if(!t&&D_(o,r)){const o=((e,t,n)=>((e,t)=>le(t.getClientRects()).bind((t=>L_(e,t.left,t.top))).bind((e=>{return jx(Eu(n=e).map((e=>Vx(n,e).positions.concat(e))).getOr([]),t);var n})))(t,n).orThunk((()=>le(n.getClientRects()).bind((n=>Ux(Kx(e,za.before(t)),n.left))))).getOr(za.before(t)))(s,n,r);return I_(e,t,o),!0}if(t&&O_(o,r)){const o=((e,t,n)=>((e,t)=>ce(t.getClientRects()).bind((t=>R_(e,t.left,t.top))).bind((e=>{return jx(ku(n=e).map((e=>[e].concat(qx(n,e).positions))).getOr([]),t);var n})))(t,n).orThunk((()=>le(n.getClientRects()).bind((n=>Ux(Gx(e,za.after(t)),n.left))))).getOr(za.after(t)))(s,n,r);return I_(e,t,o),!0}return!1},P_=(e,t,n)=>P.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((o=>P.from(e.dom.getParent(o,"table")).map((i=>n(e,t,i,o))))).getOr(!1),B_=(e,t)=>P_(e,t,N_),H_=(e,t)=>P_(e,t,F_),z_=(e,t,n)=>n.fold(P.none,P.none,((e,t)=>{return(n=t,Qn(n,Tf)).map((e=>(e=>(e=>{const t=pp.getWin(e).dom,n=(e,n,o,i)=>rp(t,e,n,o,i),o=(e=>e.match({domRange:e=>{const t=yn(e.startContainer),n=yn(e.endContainer);return mp(t,e.startOffset,n,e.endOffset)},relative:gp,exact:mp}))(e);return((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:A(e),rtl:P.none}),relative:(t,n)=>({ltr:Oe((()=>ip(e,t,n))),rtl:Oe((()=>P.some(ip(e,n,t))))}),exact:(t,n,o,i)=>({ltr:Oe((()=>rp(e,t,n,o,i))),rtl:Oe((()=>P.some(rp(e,o,i,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>sp.rtl(yn(e.endContainer),e.endOffset,yn(e.startContainer),e.startOffset))).getOrThunk((()=>ap(0,sp.ltr,n))):ap(0,sp.ltr,n)})(0,n)})(t,o).match({ltr:n,rtl:n})})(pp.exact(e,0,e,0)))(e)));var n}),(n=>(e.execCommand("mceTableInsertRowAfter"),W_(e,t,n)))),W_=(e,t,n)=>{return z_(e,t,(i=to,$_(o=n,void 0).fold((()=>__.none(o)),(e=>A_(e.all,o,e.index,1,i)))));var o,i},U_=(e,t,n)=>{return z_(e,t,(i=to,$_(o=n,void 0).fold((()=>__.none()),(e=>A_(e.all,o,e.index,-1,i)))));var o,i},j_=(e,t)=>{const n=["table","li","dl"],o=yn(e.getBody()),i=e=>{const t=zt(e);return xn(e,o)||U(n,t)},r=e.selection.getRng();return((e,t)=>((e,t,n=I)=>n(t)?P.none():U(e,zt(t))?P.some(t):Zn(t,e.join(","),(e=>wn(e,"table")||n(e))))(["td","th"],e,t))(yn(t?r.endContainer:r.startContainer),i).map((n=>(E_(n,i).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?W_:U_)(e,i,n).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},V_=(e,t)=>({container:e,offset:t}),q_=Is.DOM,K_=e=>t=>e===t?-1:0,G_=(e,t,n)=>{if(Qo(e)&&t>=0)return P.some(V_(e,t));{const o=ha(q_);return P.from(o.backwards(e,t,K_(e),n)).map((e=>V_(e.container,e.container.data.length)))}},Y_=(e,t,n)=>{if(!Qo(e))return P.none();const o=e.data;if(t>=0&&t<=o.length)return P.some(V_(e,t));{const o=ha(q_);return P.from(o.backwards(e,t,K_(e),n)).bind((e=>{const o=e.container.data;return Y_(e.container,t+o.length,n)}))}},X_=(e,t,n)=>{if(!Qo(e))return P.none();const o=e.data;if(t<=o.length)return P.some(V_(e,t));{const i=ha(q_);return P.from(i.forwards(e,t,K_(e),n)).bind((e=>X_(e.container,t-o.length,n)))}},Q_=(e,t,n,o,i)=>{const r=ha(e,(e=>t=>e.isBlock(t)||U(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return P.from(r.backwards(t,n,o,i))},Z_=e=>Ri(e.toString().replace(/\u00A0/g," ")),J_=e=>""!==e&&-1!==" Â \f\n\r\t\v".indexOf(e),ek=(e,t)=>e.substring(t.length),tk=(e,t,n,o=0)=>{return(i=yn(t.startContainer),eo(i,Lf)).fold((()=>((e,t,n,o=0)=>{if(!(i=t).collapsed||!Qo(i.startContainer))return P.none();var i;const r={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Q_(e,t.startContainer,t.startOffset,((e,t,o)=>(r.text=o+r.text,r.offset+=t,((e,t,n)=>{let o;const i=n.charAt(0);for(o=t-1;o>=0;o--){const r=e.charAt(o);if(J_(r))return P.none();if(i===r&&ze(e,n,o,t))break}return P.some(o)})(r.text,r.offset,n).getOr(t))),s).bind((e=>{const i=t.cloneRange();if(i.setStart(e.container,e.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return P.none();const r=Z_(i);return 0!==r.lastIndexOf(n)||ek(r,n).length<o?P.none():P.some({text:ek(r,n),range:i,trigger:n})}))})(e,t,n,o)),(t=>{const o=e.createRng();o.selectNode(t.dom);const i=Z_(o);return P.some({range:o,text:ek(i,n),trigger:n})}));var i},nk=e=>{if((e=>3===e.nodeType)(e))return V_(e,e.data.length);{const t=e.childNodes;return t.length>0?nk(t[t.length-1]):V_(e,t.length)}},ok=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?ok(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?nk(n[n.length-1]):V_(e,t)},ik=(e,t,n,o={})=>{var i;const r=t(),s=null!==(i=e.selection.getRng().startContainer.nodeValue)&&void 0!==i?i:"",a=G(r.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const n=ok(t.startContainer,t.startOffset);return!((e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return Q_(e,t.container,t.offset,((e,t)=>0===t?-1:t),o).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!J_(t)})).isSome()})(e,n)})(e.dom)))(n.range,s,n.text)));if(0===a.length)return P.none();const l=Promise.all(j(a,(e=>e.fetch(n.text,e.maxResults,o).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return P.some({lookupData:l,context:n})};var rk;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(rk||(rk={}));const sk=(e,t,n)=>e.stype===rk.Error?t(e.serror):n(e.svalue),ak=e=>({stype:rk.Value,svalue:e}),lk=e=>({stype:rk.Error,serror:e}),ck=sk,dk=e=>p(e)&&he(e).length>100?" removed due to size":JSON.stringify(e,null,2),uk=(e,t)=>lk([{path:e,getErrorInfo:t}]),hk=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const t in i)Se(i,t)&&(n[t]=e(n[t],i[t]))}return n},pk=hk(((e,t)=>f(e)&&f(t)?pk(e,t):t)),fk=(hk(((e,t)=>t)),e=>({tag:"defaultedThunk",process:A(e)})),gk=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},mk=e=>({extract:(t,n)=>{return i=e=>((e,t)=>uk(e,A(t)))(t,e),(o=e(n)).stype===rk.Error?i(o.serror):o;var o,i},toString:A("val")}),vk=mk(ak),yk=(e,t,n,o)=>o(xe(e,t).getOrThunk((()=>n(e)))),bk=(e,t,n,o,i)=>{const r=e=>i.extract(t.concat([o]),e),s=e=>e.fold((()=>ak(P.none())),(e=>{return n=i.extract(t.concat([o]),e),r=P.some,n.stype===rk.Value?{stype:rk.Value,svalue:r(n.svalue)}:n;var n,r}));switch(e.tag){case"required":return((e,t,n,o)=>xe(t,n).fold((()=>((e,t,n)=>uk(e,(()=>'Could not find valid *required* value for "'+t+'" in '+dk(n))))(e,n,t)),o))(t,n,o,r);case"defaultedThunk":return yk(n,o,e.process,r);case"option":return((e,t,n)=>n(xe(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(xe(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,s);case"mergeWithThunk":return yk(n,o,A({}),(t=>{const o=pk(e.process(n),t);return r(o)}))}},wk=e=>({extract:(t,n)=>((e,t,n)=>{const o={},i=[];for(const r of n)gk(r,((n,r,s,a)=>{const l=bk(s,e,t,n,a);ck(l,(e=>{i.push(...e)}),(e=>{o[r]=e}))}),((e,n)=>{o[e]=n(t)}));return i.length>0?lk(i):ak(o)})(t,n,e),toString:()=>{const t=j(e,(e=>gk(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Ck=e=>({extract:(t,n)=>{const o=j(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return(e=>{const t=(e=>{const t=[],n=[];return V(e,(e=>{sk(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,k(lk,ee)(n)):ak(t.values);var n})(o)},toString:()=>"array("+e.toString()+")"}),xk=(e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===rk.Error?{stype:rk.Error,serror:(e=>({input:n,errors:e}))(e.serror)}:e)(t.extract([e],n)))(e,t,n),sk(o,ul.error,ul.value);var o},Sk=(e,t)=>((e,t)=>({extract:(n,o)=>xe(o,e).fold((()=>((e,t)=>uk(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,o)=>xe(n,o).fold((()=>((e,t,n)=>uk(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+dk(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))))(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+he(t)}))(e,ge(t,wk)),_k=A(vk),kk=(e,t)=>mk((n=>{const o=typeof n;return e(n)?ak(n):lk(`Expected type: ${t} but got: ${o}`)})),Ek=kk(x,"number"),Ak=kk(h,"string"),$k=kk(v,"boolean"),Tk=kk(C,"function"),Lk=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),Rk=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Mk=(e,t)=>Lk(e,e,{tag:"required",process:{}},t),Dk=e=>Mk(e,Ak),Ok=e=>Mk(e,Tk),Nk=(e,t)=>Lk(e,e,{tag:"option",process:{}},t),Ik=e=>Nk(e,Ak),Fk=(e,t,n)=>Lk(e,e,fk(t),n),Pk=(e,t)=>Fk(e,t,Ek),Bk=(e,t,n)=>Fk(e,t,(e=>{return t=t=>U(e,t)?ul.value(t):ul.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),mk((e=>t(e).fold(lk,ak)));var t})(n)),Hk=(e,t)=>Fk(e,t,$k),zk=(e,t)=>Fk(e,t,Tk),Wk=Dk("type"),Uk=Ok("fetch"),jk=Ok("onAction"),Vk=zk("onSetup",(()=>_)),qk=Ik("text"),Kk=Ik("icon"),Gk=Ik("tooltip"),Yk=Ik("label"),Xk=Hk("active",!1),Qk=Hk("enabled",!0),Zk=Hk("primary",!1),Jk=e=>((e,t)=>Fk("type",t,Ak))(0,e),eE=wk([Wk,Dk("trigger"),Pk("minChars",1),((e,t)=>Lk(e,e,fk(1),_k()))("columns"),Pk("maxResults",10),Nk("matches",Tk),Uk,jk,(tE=Ak,Fk("highlightOn",[],Ck(tE)))]);var tE;const nE=[Qk,Gk,Kk,qk,Vk],oE=[Xk].concat(nE),iE=[zk("predicate",I),Bk("scope","node",["node","editor"]),Bk("position","selection",["node","selection","line"])],rE=nE.concat([Jk("contextformbutton"),Zk,jk,Rk("original",T)]),sE=oE.concat([Jk("contextformbutton"),Zk,jk,Rk("original",T)]),aE=nE.concat([Jk("contextformbutton")]),lE=oE.concat([Jk("contextformtogglebutton")]),cE=Sk("type",{contextformbutton:rE,contextformtogglebutton:sE});wk([Jk("contextform"),zk("initValue",A("")),Yk,((e,t)=>Lk(e,e,{tag:"required",process:{}},Ck(t)))("commands",cE),Nk("launch",Sk("type",{contextformbutton:aE,contextformtogglebutton:lE}))].concat(iE));const dE=e=>{const t=qs(),n=Bs(!1),o=t.isSet,i=()=>{o()&&((e=>{$w(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},r=Oe((()=>(e=>{const t=e.ui.registry.getAll().popups,n=ge(t,(e=>{return(t=e,xk("Autocompleter",eE,{trigger:t.ch,...t})).fold((e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:A("... (only showing first ten failures)")}]):e;return j(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})((t=e).errors).join("\n")+"\n\nInput object: "+dk(t.input));var t}),T);var t})),o=ke(we(n,(e=>e.trigger))),i=Ce(n);return{dataset:n,triggers:o,lookupByTrigger:e=>G(i,(t=>t.trigger===e))}})(e))),s=s=>{(n=>t.get().map((t=>tk(e.dom,e.selection.getRng(),t.trigger).bind((t=>ik(e,r,t,n))))).getOrThunk((()=>((e,t)=>{const n=t(),o=e.selection.getRng();return((e,t,n)=>ue(n.triggers,(n=>tk(e,t,n))))(e.dom,o,n).bind((n=>ik(e,t,n)))})(e,r))))(s).fold(i,(r=>{(n=>{o()||(((e,t)=>{$w(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))})(r.context),r.lookupData.then((o=>{t.get().map((s=>{const a=r.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?i():(t.set({...s,matchLength:a.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:o}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:o}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=p(t)?t.fetchOptions:{};s(n)})),e.addCommand("mceAutocompleterClose",i),((e,t)=>{const n=Gs(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()})),e.on("remove",n.cancel)})(e,{cancelIfNecessary:i,load:s})},uE=xt().browser.isSafari(),hE=e=>$i(yn(e)),pE=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},fE=(e,t)=>P.from(e.getParent(t.container(),"details")),gE=(e,t)=>fE(e,t).isSome(),mE=(e,t)=>{const n=t.getNode();y(n)||e.selection.setCursorLocation(n,t.offset())},vE=(e,t,n)=>{const o=e.dom.getParent(t.container(),"details");if(o&&!o.open){const t=e.dom.select("summary",o)[0];t&&(n?ku(t):Eu(t)).each((t=>mE(e,t)))}else mE(e,t)},yE=(e,t,n)=>{const{dom:o,selection:i}=e,r=e.getBody();if("character"===n){const n=za.fromRangeStart(i.getRng()),s=o.getParent(n.container(),o.isBlock),a=fE(o,n),l=s&&o.isEmpty(s),c=m(null==s?void 0:s.previousSibling),d=m(null==s?void 0:s.nextSibling);return!!(l&&(t?d:c)&&wu(!t,r,n).exists((e=>gE(o,e)&&!Nt(a,fE(o,e)))))||wu(t,r,n).fold(I,(n=>{const i=fE(o,n);if(gE(o,n)&&!Nt(a,i)){if(t||vE(e,n,!1),s&&l){if(t&&c)return!0;if(!t&&d)return!0;vE(e,n,t),e.dom.remove(s)}return!0}return!1}))}return!1},bE=(e,t,n)=>((e,t,n)=>((e,t)=>{const n=P.from(e.getParent(t.startContainer,"details")),o=P.from(e.getParent(t.endContainer,"details"));if(n.isSome()||o.isSome()){const t=n.bind((t=>P.from(e.select("summary",t)[0])));return P.some({startSummary:t,startDetails:n,endDetails:o})}return P.none()})(e.dom,e.selection.getRng()).fold((()=>yE(e,t,n)),(o=>((e,t,n,o)=>{const i=e.selection.getRng(),r=za.fromRangeStart(i),s=e.getBody();return"selection"===o?((e,t)=>{const n=t.startSummary.exists((t=>t.contains(e.startContainer))),o=t.startSummary.exists((t=>t.contains(e.endContainer))),i=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));return(n||o)&&!(n&&o)||i})(i,t):n?((e,t)=>t.startSummary.exists((t=>((e,t)=>Eu(t).exists((n=>oi(n.getNode())&&_u(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))))(e,t))))(r,t)||((e,t,n)=>n.startDetails.exists((n=>Su(e,t).forall((e=>!n.contains(e.container()))))))(s,r,t):((e,t)=>t.startSummary.exists((t=>((e,t)=>ku(t).exists((t=>t.isEqual(e))))(e,t))))(r,t)||((e,t)=>t.startDetails.exists((n=>_u(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))))(r,t)})(e,o,t,n)||yE(e,t,n))))(e,t,n)||uE&&((e,t,n)=>{const o=e.selection,i=o.getNode(),r=o.getRng(),s=za.fromRangeStart(r);return!!hi(i)&&("selection"===n&&pE(r,i)||ym(t,s,i)?hE(i):e.undoManager.transact((()=>{const r=o.getSel();let{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=null!=r?r:{};const d=()=>{w(s)&&w(a)&&w(l)&&w(c)&&(null==r||r.setBaseAndExtent(s,a,l,c))},u=(e,t)=>{V(e.childNodes,(e=>{nh(e)&&t.appendChild(e)}))},h=e.dom.create("span",{"data-mce-bogus":"1"});u(i,h),i.appendChild(h),d(),"word"!==n&&"line"!==n||null==r||r.modify("extend",t?"right":"left",n),!o.isCollapsed()&&pE(o.getRng(),h)?hE(i):(e.execCommand(t?"ForwardDelete":"Delete"),s=null==r?void 0:r.anchorNode,a=null==r?void 0:r.anchorOffset,l=null==r?void 0:r.focusNode,c=null==r?void 0:r.focusOffset,u(h,i),d()),e.dom.remove(h)})),!0)})(e,t,n)?P.some(_):P.none(),wE=e=>(t,n,o={})=>{const i=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:_,inputType:n},s=bs(new InputEvent(e));return t.dispatch(e,{...s,...r,...o})},CE=wE("input"),xE=wE("beforeinput"),SE=xt(),_E=SE.os,kE=_E.isMacOS()||_E.isiOS(),EE=SE.browser.isFirefox(),AE=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(zo(e)||Qo(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(fi),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Po(t,t);let n,r=t;for(;n=e.current();){if(Qo(n)){i.setStart(n,0),i.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}r=n,n=e.next()}n||(i.setStart(r,0),i.setEnd(r,0))}else oi(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Yp(e,i)},$E=(e,t)=>{const n=e.getRoot();let o,i=t;for(;i!==n&&i&&"false"!==e.getContentEditable(i);){if("true"===e.getContentEditable(i)){o=i;break}i=i.parentNode}return i!==n?o:n},TE=e=>P.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),LE=e=>{e.innerHTML='<br data-mce-bogus="1">'},RE=(e,t)=>{Dl(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const o=e.dom;P.from(n.style).map(o.parseStyle).each((e=>{const n={...uo(yn(t)),...e};o.setStyles(t,n)}));const i=P.from(n.class).map((e=>e.split(/\s+/))),r=P.from(t.className).map((e=>G(e.split(/\s+/),(e=>""!==e))));It(i,r,((e,n)=>{const i=G(n,(t=>!U(e,t))),r=[...e,...i];o.setAttrib(t,"class",r.join(" "))}));const s=["style","class"],a=be(n,((e,t)=>!U(s,t)));o.setAttribs(t,a)})(e,t,Ol(e))},ME=(e,t,n,o,i=!0,r,s)=>{const a=e.dom,l=e.schema,c=Dl(e),d=n?n.nodeName.toUpperCase():"";let u=t;const h=l.getTextInlineElements();let p;p=r||"TABLE"===d||"HR"===d?a.create(r||c,s||{}):n.cloneNode(!1);let f=p;if(i){do{if(h[u.nodeName]){if($u(u)||zu(u))continue;const e=u.cloneNode(!1);a.setAttrib(e,"id",""),p.hasChildNodes()?(e.appendChild(p.firstChild),p.appendChild(e)):(f=e,p.appendChild(e))}}while((u=u.parentNode)&&u!==o)}else a.setAttrib(p,"style",null),a.setAttrib(p,"class",null);return RE(e,p),LE(f),p},DE=(e,t)=>{const n=null==e?void 0:e.parentNode;return w(n)&&n.nodeName===t},OE=e=>w(e)&&/^(OL|UL|LI)$/.test(e.nodeName),NE=e=>w(e)&&/^(LI|DT|DD)$/.test(e.nodeName),IE=e=>{const t=e.parentNode;return NE(t)?t:e},FE=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];for(;o&&!zo(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},PE=e=>X(we(uo(yn(e)),((e,t)=>`${t}: ${e};`)),((e,t)=>e+t),""),BE=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),HE=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,zE=(e,t)=>w(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),WE=(e,t,n)=>Qo(t)?e?1===n&&t.data.charAt(n-1)===Ti?0:n:n===t.data.length-1&&t.data.charAt(n)===Ti?t.data.length:n:n,UE={insert:(e,t)=>{let n,o,i,r,s=!1;const a=e.dom,l=e.schema.getNonEmptyElements(),c=e.selection.getRng(),d=Dl(e),u=yn(c.startContainer),p=Nn(u,c.startOffset),f=p.exists((e=>jt(e)&&!to(e))),g=c.collapsed&&f,v=(t,o)=>ME(e,n,k,_,Pl(e),t,o),y=e=>{const t=WE(e,n,o);if(Qo(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===k&&s&&!e)return!0;if(e&&zo(n)&&n===k.firstChild)return!0;if(HE(n,"TABLE")||HE(n,"HR"))return s&&!e||!s&&e;const i=new Po(n,k);let r;for(Qo(n)&&(e&&0===t?i.prev():e||t!==n.data.length||i.next());r=i.current();){if(zo(r)){if(!r.getAttribute("data-mce-bogus")){const e=r.nodeName.toLowerCase();if(l[e]&&"br"!==e)return!1}}else if(Qo(r)&&!nr(r.data))return!1;e?i.prev():i.next()}return!0},C=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&"HGROUP"!==E?v(d):v(),((e,t)=>{const n=Bl(e);return!b(t)&&(h(n)?U(Dt.explode(n),t.nodeName.toLowerCase()):n)})(e,r)&&zE(a,r)&&a.isEmpty(k,void 0,{includeZwsp:!0})?t=a.split(r,k):a.insertAfter(t,k),AE(e,t),t};Ep(a,c).each((e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)})),n=c.startContainer,o=c.startOffset;const x=!(!t||!t.shiftKey),S=!(!t||!t.ctrlKey);zo(n)&&n.hasChildNodes()&&!g&&(s=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=s&&Qo(n)?n.data.length:0);const _=$E(a,n);if(!_||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;x||(n=((e,t,n,o,i)=>{var r,s;const a=e.dom,l=null!==(r=$E(a,o))&&void 0!==r?r:a.getRoot();let c=a.getParent(o,a.isBlock);if(!c||!zE(a,c)){if(c=c||l,!c.hasChildNodes()){const o=a.create(t);return RE(e,o),c.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let r,d=o;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!a.isBlock(d);)r=d,d=d.previousSibling;const u=null===(s=null==r?void 0:r.parentElement)||void 0===s?void 0:s.nodeName;if(r&&u&&e.schema.isValidChild(u,t.toLowerCase())){const s=r.parentNode,l=a.create(t);for(RE(e,l),s.insertBefore(l,r),d=r;d&&!a.isBlock(d);){const e=d.nextSibling;l.appendChild(d),d=e}n.setStart(o,i),n.setEnd(o,i)}}return o})(e,d,c,n,o));let k=a.getParent(n,a.isBlock)||a.getRoot();r=w(null==k?void 0:k.parentNode)?a.getParent(k.parentNode,a.isBlock):null,i=k?k.nodeName.toUpperCase():"";const E=r?r.nodeName.toUpperCase():"";if("LI"!==E||S||(k=r,r=r.parentNode,i=E),zo(r)&&((e,t,n)=>!t&&n.nodeName.toLowerCase()===Dl(e)&&e.dom.isEmpty(n)&&((t,n,o)=>{let i=n;for(;i&&i!==t&&m(i.nextSibling);){const t=i.parentElement;if(!t||(r=t,!Se(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())))return ui(t);i=t}var r;return!1})(e.getBody(),n))(e,x,k))return((e,t,n)=>{var o,i,r;const s=t(Dl(e)),a=((e,t)=>e.dom.getParent(t,ui))(e,n);a&&(e.dom.insertAfter(s,a),AE(e,s),(null!==(r=null===(i=null===(o=n.parentElement)||void 0===o?void 0:o.childNodes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>1&&e.dom.remove(n))})(e,v,k);if(/^(LI|DT|DD)$/.test(i)&&zo(r)&&a.isEmpty(k))return void((e,t,n,o,i)=>{const r=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;OE(l=n)&&OE(l.parentNode)&&(i="LI");const c=NE(o)?PE(o):void 0;let d=NE(o)&&c?t(i,{style:PE(o)}):t(i);if(FE(n,o,!0)&&FE(n,o,!1))if(DE(n,"LI")){const e=IE(n);r.insertAfter(d,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?r.remove(e):r.remove(n)}else r.replace(d,n);else if(FE(n,o,!0))DE(n,"LI")?(r.insertAfter(d,IE(n)),d.appendChild(r.doc.createTextNode(" ")),d.appendChild(n)):a.insertBefore(d,n),r.remove(o);else if(FE(n,o,!1))r.insertAfter(d,IE(n)),r.remove(o);else{n=IE(n);const e=s.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();if("LI"===i&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)){const e=G(j(d.children,yn),M(Yt("br")));d=t.firstChild,r.insertAfter(t,n),V(e,(e=>go(yn(d),e))),c&&d.setAttribute("style",c)}else r.insertAfter(t,n),r.insertAfter(d,n);r.remove(o)}AE(e,d)})(e,v,r,k,d);if(!(g||k!==e.getBody()&&zE(a,k)))return;const A=k.parentNode;let T;if(g)T=v(d),p.fold((()=>{mo(u,yn(T))}),(e=>{po(e,yn(T))})),e.selection.setCursorLocation(T,0);else if(Oi(k))T=Wi(k),a.isEmpty(k)&&LE(k),RE(e,T),AE(e,T);else if(y(!1))T=C();else if(y(!0)&&A){T=A.insertBefore(v(),k);const t=yn(c.startContainer).dom.hasChildNodes()&&c.collapsed;AE(e,HE(k,"HR")||t?T:k)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,WE(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,WE(!1,e.endContainer,e.endOffset)),t})(c).cloneRange();t.setEndAfter(k);const n=t.extractContents();(e=>{V(No(yn(e),qt),(e=>{const t=e.dom;t.nodeValue=Ri(t.data)}))})(n),(e=>{let t=e;do{Qo(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),T=n.firstChild,a.insertAfter(n,k),((e,t,n)=>{var o;const i=[];if(!n)return;let r=n;for(;r=r.firstChild;){if(e.isBlock(r))return;zo(r)&&!t[r.nodeName.toLowerCase()]&&i.push(r)}let s=i.length;for(;s--;)r=i[s],(!r.hasChildNodes()||r.firstChild===r.lastChild&&""===(null===(o=r.firstChild)||void 0===o?void 0:o.nodeValue)||BE(e,r))&&e.remove(r)})(a,l,T),((e,t)=>{t.normalize();const n=t.lastChild;(!n||zo(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,k),a.isEmpty(k)&&LE(k),T.normalize(),a.isEmpty(T)?(a.remove(T),C()):(RE(e,T),AE(e,T))}a.setAttrib(T,"id",""),e.dispatch("NewBlock",{newBlock:T})},fakeEventName:"insertParagraph"},jE=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),Yp(e,o)},VE=(e,t)=>{const n=mn("br");po(yn(t),n),e.undoManager.add()},qE=(e,t)=>{KE(e.getBody(),t)||fo(yn(t),mn("br"));const n=mn("br");fo(yn(t),n),jE(e,n.dom,!1),e.undoManager.add()},KE=(e,t)=>{return n=za.after(t),!!oi(n.getNode())||Su(e,za.after(t)).map((e=>oi(e.getNode()))).getOr(!1);var n},GE=e=>e&&"A"===e.nodeName&&"href"in e,YE=e=>e.fold(I,GE,GE,I),XE=(e,t)=>{t.fold(_,R(VE,e),R(qE,e),_)},QE={insert:(e,t)=>{const n=(e=>{const t=R(am,e),n=za.fromRangeStart(e.selection.getRng());return $x(t,e.getBody(),n).filter(YE)})(e);n.isSome()?n.each(R(XE,e)):((e,t)=>{const n=e.selection,o=e.dom,i=n.getRng();let r,s=!1;Ep(o,i).each((e=>{i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)}));let a=i.startOffset,l=i.startContainer;if(zo(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&Qo(l)?l.data.length:0}let c=o.getParent(l,o.isBlock);const d=c&&c.parentNode?o.getParent(c.parentNode,o.isBlock):null,u=d?d.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==u||h||(c=d),Qo(l)&&a>=l.data.length&&(((e,t,n)=>{const o=new Po(t,n);let i;const r=e.getNonEmptyElements();for(;i=o.next();)if(r[i.nodeName.toLowerCase()]||Qo(i)&&i.length>0)return!0;return!1})(e.schema,l,c||o.getRoot())||(r=o.create("br"),i.insertNode(r),i.setStartAfter(r),i.setEndAfter(r),s=!0)),r=o.create("br"),Ua(o,i,r),jE(e,r,s),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},ZE=(e,t)=>TE(e).filter((e=>t.length>0&&wn(yn(e),t))).isSome(),JE=hl([{br:[]},{block:[]},{none:[]}]),eA=(e,t)=>(e=>ZE(e,Fl(e)))(e),tA=e=>(t,n)=>(e=>TE(e).filter((e=>Si(yn(e)))).isSome())(t)===e,nA=(e,t)=>(n,o)=>{const i=(e=>TE(e).fold(A(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return i===t},oA=e=>{const t=$E(e.dom,e.selection.getStart());return b(t)},iA=e=>nA("pre",e),rA=e=>(t,n)=>Ml(t)===e,sA=(e,t)=>(e=>ZE(e,Il(e)))(e),aA=(e,t)=>t,lA=e=>{const t=Dl(e),n=$E(e.dom,e.selection.getStart());return w(n)&&e.schema.isValidChild(n.nodeName,t)},cA=e=>{const t=e.selection.getRng(),n=yn(t.startContainer),o=Nn(n,t.startOffset).map((e=>jt(e)&&!to(e)));return t.collapsed&&o.getOr(!0)},dA=(e,t)=>(n,o)=>X(e,((e,t)=>e&&t(n,o)),!0)?P.some(t):P.none(),uA=(e,t,n)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),w(n)&&xE(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),w(n)&&CE(t,e.fakeEventName))},hA=(e,t)=>{const n=()=>uA(QE,e,t),o=()=>uA(UE,e,t),i=((e,t)=>yx([dA([eA],JE.none()),dA([iA(!0),oA],JE.none()),dA([nA("summary",!0)],JE.br()),dA([iA(!0),rA(!1),aA],JE.br()),dA([iA(!0),rA(!1)],JE.block()),dA([iA(!0),rA(!0),aA],JE.block()),dA([iA(!0),rA(!0)],JE.br()),dA([tA(!0),aA],JE.br()),dA([tA(!0)],JE.block()),dA([sA],JE.br()),dA([aA],JE.br()),dA([lA],JE.block()),dA([cA],JE.block())],[e,!(!t||!t.shiftKey)]).getOr(JE.none()))(e,t);switch(Nl(e)){case"linebreak":i.fold(n,n,_);break;case"block":i.fold(o,o,_);break;case"invert":i.fold(o,n,_);break;default:i.fold(n,o,_)}},pA=xt(),fA=pA.os.isiOS()&&pA.browser.isSafari(),gA=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{hA(e,t)})))},mA=xt(),vA=e=>e.stopImmediatePropagation(),yA=e=>e.keyCode===Zh.PAGE_UP||e.keyCode===Zh.PAGE_DOWN,bA=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",vA,!0):!n&&e.get()&&t.off("NodeChange",vA),e.set(n)},wA=(e,t)=>{const n=t.container(),o=t.offset();return Qo(n)?(n.insertData(o,e),P.some(za(n,o+e.length))):tu(t).map((n=>{const o=vn(e);return t.isAtEnd()?fo(n,o):po(n,o),za(o.dom,e.length)}))},CA=R(wA,fi),xA=R(wA," "),SA=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},_A=e=>{const t=za.fromRangeStart(e.selection.getRng()),n=yn(e.getBody());if(e.selection.isCollapsed()){const o=R(am,e),i=za.fromRangeStart(e.selection.getRng());return $x(o,e.getBody(),i).bind((e=>t=>t.fold((t=>_u(e.dom,za.before(t))),(e=>ku(e)),(e=>Eu(e)),(t=>Su(e.dom,za.after(t)))))(n)).map((o=>()=>((e,t,n)=>o=>Wg(e,o,n)?CA(t):xA(t))(n,t,e.schema)(o).each(SA(e))))}return P.none()},kA=e=>{return Ft(Tt.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),(()=>{const t=yn(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),((e,t,n)=>Wg(e,t,n)?CA(t):xA(t))(t,za.fromRangeStart(e.selection.getRng()),e.schema).each(SA(e))}));var t,n},EA=e=>hd(e)?[{keyCode:Zh.TAB,action:v_(j_,e,!0)},{keyCode:Zh.TAB,shiftKey:!0,action:v_(j_,e,!1)}]:[],AA=e=>{if(e.addShortcut("Meta+P","","mcePrint"),dE(e),Ew(e))return Bs(null);{const t=SS(e);return(e=>{e.on("beforeinput",(t=>{e.selection.isEditable()&&!$(t.getTargetRanges(),(t=>!xf(e.dom,t)))||t.preventDefault()}))})(e),(e=>{e.on("keyup compositionstart",R(r_,e))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();y_([{keyCode:Zh.RIGHT,action:v_(l_,e,!0)},{keyCode:Zh.LEFT,action:v_(l_,e,!1)},{keyCode:Zh.UP,action:v_(c_,e,!1)},{keyCode:Zh.DOWN,action:v_(c_,e,!0)},...o?[{keyCode:Zh.UP,action:v_(u_,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Zh.DOWN,action:v_(u_,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Zh.RIGHT,action:v_(B_,e,!0)},{keyCode:Zh.LEFT,action:v_(B_,e,!1)},{keyCode:Zh.UP,action:v_(H_,e,!1)},{keyCode:Zh.DOWN,action:v_(H_,e,!0)},{keyCode:Zh.UP,action:v_(H_,e,!1)},{keyCode:Zh.UP,action:v_(f_,e,!1)},{keyCode:Zh.DOWN,action:v_(f_,e,!0)},{keyCode:Zh.RIGHT,action:v_(w_,e,!0)},{keyCode:Zh.LEFT,action:v_(w_,e,!1)},{keyCode:Zh.UP,action:v_(C_,e,!1)},{keyCode:Zh.DOWN,action:v_(C_,e,!0)},{keyCode:Zh.RIGHT,action:v_(CS,e,t,!0)},{keyCode:Zh.LEFT,action:v_(CS,e,t,!1)},{keyCode:Zh.RIGHT,ctrlKey:!o,altKey:o,action:v_(_S,e,t)},{keyCode:Zh.LEFT,ctrlKey:!o,altKey:o,action:v_(kS,e,t)},{keyCode:Zh.UP,action:v_(p_,e,!1)},{keyCode:Zh.DOWN,action:v_(p_,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{let n=!1;e.on("keydown",(o=>{n=o.keyCode===Zh.BACKSPACE,o.isDefaultPrevented()||((e,t,n)=>{const o=n.keyCode===Zh.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),r=i?"character":"selection",s=e=>i?e?"word":"line":"selection";b_([{keyCode:Zh.BACKSPACE,action:v_(KS,e)},{keyCode:Zh.BACKSPACE,action:v_(sx,e,!1)},{keyCode:Zh.DELETE,action:v_(sx,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(JC,e,!1)},{keyCode:Zh.DELETE,action:v_(JC,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(TS,e,t,!1)},{keyCode:Zh.DELETE,action:v_(TS,e,t,!0)},{keyCode:Zh.BACKSPACE,action:v_(Vm,e,!1)},{keyCode:Zh.DELETE,action:v_(Vm,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(bE,e,!1,r)},{keyCode:Zh.DELETE,action:v_(bE,e,!0,r)},...kE?[{keyCode:Zh.BACKSPACE,altKey:!0,action:v_(bE,e,!1,s(!0))},{keyCode:Zh.DELETE,altKey:!0,action:v_(bE,e,!0,s(!0))},{keyCode:Zh.BACKSPACE,metaKey:!0,action:v_(bE,e,!1,s(!1))}]:[{keyCode:Zh.BACKSPACE,ctrlKey:!0,action:v_(bE,e,!1,s(!0))},{keyCode:Zh.DELETE,ctrlKey:!0,action:v_(bE,e,!0,s(!0))}],{keyCode:Zh.BACKSPACE,action:v_(ax,e,!1)},{keyCode:Zh.DELETE,action:v_(ax,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(BS,e,!1)},{keyCode:Zh.DELETE,action:v_(BS,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(qC,e,!1)},{keyCode:Zh.DELETE,action:v_(qC,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(jC,e,!1)},{keyCode:Zh.DELETE,action:v_(jC,e,!0)},{keyCode:Zh.BACKSPACE,action:v_(IS,e,!1)},{keyCode:Zh.DELETE,action:v_(IS,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),xE(e,o).isDefaultPrevented()||(t(),CE(e,o))}))})(e,t,o)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{y_([{keyCode:Zh.BACKSPACE,action:v_(rx,e)},{keyCode:Zh.DELETE,action:v_(rx,e)},...kE?[{keyCode:Zh.BACKSPACE,altKey:!0,action:v_(FS,e)},{keyCode:Zh.DELETE,altKey:!0,action:v_(FS,e)},...n?[{keyCode:EE?224:91,action:v_(FS,e)}]:[]]:[{keyCode:Zh.BACKSPACE,ctrlKey:!0,action:v_(FS,e)},{keyCode:Zh.DELETE,ctrlKey:!0,action:v_(FS,e)}]],t)})(e,t,n),n=!1}))})(e,t),(e=>{let t=P.none();e.on("keydown",(n=>{n.keyCode===Zh.ENTER&&(fA&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Qo(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,o=t.data.charAt(e.startOffset-1);return n.test(o)}return!1})(e.selection.getRng())?(e=>{t=P.some(e.selection.getBookmark()),e.undoManager.add()})(e):gA(e,n))})),e.on("keyup",(n=>{n.keyCode===Zh.ENTER&&t.each((()=>((e,n)=>{e.undoManager.undo(),t.fold(_,(t=>e.selection.moveToBookmark(t))),gA(e,n),t=P.none()})(e,n)))}))})(e),(e=>{e.on("keydown",(t=>{
t.isDefaultPrevented()||((e,t)=>{b_([{keyCode:Zh.SPACEBAR,action:v_(_A,e)},{keyCode:Zh.SPACEBAR,action:v_(kA,e)}],t).each((n=>{t.preventDefault(),xE(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),CE(e,"insertText",{data:" "}))}))})(e,t)}))})(e),(e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=yn(e.getBody());e.selection.isCollapsed()&&((e,t,n)=>{const o=t.container();if(!Qo(o))return P.none();if((e=>{const t=e.container();return Qo(t)&&ze(t.data,fi)})(t)){const i=Gg(e,o,!1,n)||(e=>{const t=e.data,n=(e=>{const t=e.split("");return j(t,((e,n)=>Wu(e)&&n>0&&n<t.length-1&&ju(t[n-1])&&ju(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)})(o)||Yg(e,o,!1,n);return Ft(i,t)}if(Vg(e,t,n)){const i=Gg(e,o,!0,n)||Yg(e,o,!0,n);return Ft(i,t)}return P.none()})(t,za.fromRangeStart(e.selection.getRng()),e.schema).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{y_([...EA(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();y_([{keyCode:Zh.END,action:v_(d_,e,!0)},{keyCode:Zh.HOME,action:v_(d_,e,!1)},...o?[]:[{keyCode:Zh.HOME,action:v_(u_,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Zh.END,action:v_(u_,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Zh.END,action:v_(x_,e,!0)},{keyCode:Zh.HOME,action:v_(x_,e,!1)},{keyCode:Zh.END,action:v_(ES,e,!0,t)},{keyCode:Zh.HOME,action:v_(ES,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))})(e,t),((e,t)=>{if(mA.os.isMacOS())return;const n=Bs(!1);e.on("keydown",(t=>{yA(t)&&bA(n,e,!0)})),e.on("keyup",(o=>{o.isDefaultPrevented()||((e,t,n)=>{y_([{keyCode:Zh.PAGE_UP,action:v_(ES,e,!1,t)},{keyCode:Zh.PAGE_DOWN,action:v_(ES,e,!0,t)}],n)})(e,t,o),yA(o)&&n.get()&&(bA(n,e,!1),e.nodeChanged())}))})(e,t),t}};class $A{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const o=e.selection.getRng(),i={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&bp(i,t)||e.dispatch("SelectionChange"),t=i})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Ju(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Ju(e)&&("IMG"===e.selection.getNode().nodeName?cf.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!Ac(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();n=t.getStart(!0)||o,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o);const i=[];this.editor.dom.getParent(n,(e=>e===o||(i.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:i})}}isSameElementPath(e){let t;const n=this.editor,o=oe(n.dom.getParents(e,F,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const TA=aa("image"),LA=aa("event"),RA=e=>t=>{t[LA]=e},MA=RA(0),DA=RA(2),OA=RA(1),NA=e=>{const t=e;return P.from(t[LA]).exists((e=>0===e))},IA=aa("mode"),FA=e=>t=>{t[IA]=e},PA=(e,t)=>FA(t)(e),BA=FA(0),HA=FA(2),zA=FA(1),WA=e=>t=>{const n=t;return P.from(n[IA]).exists((t=>t===e))},UA=WA(0),jA=WA(1),VA=["none","copy","link","move"],qA=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],KA=()=>{const e=new window.DataTransfer;let t="move",n="all";const o={get dropEffect(){return t},set dropEffect(e){U(VA,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){NA(o)&&U(qA,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,o)=>{if(UA(e)){if(!h(n))return t.add(n);if(!y(o))return t.add(n,o)}return null},remove:n=>{UA(e)&&t.remove(n)},clear:()=>{UA(e)&&t.clear()}}))(o,e.items)},get files(){return jA(o)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,i)=>{var r;UA(o)&&(r={image:t,x:n,y:i},o[TA]=r,e.setDragImage(t,n,i))},getData:t=>jA(o)?"":e.getData(t),setData:(t,n)=>{UA(o)&&e.setData(t,n)},clearData:t=>{UA(o)&&e.clearData(t)}};return BA(o),o},GA=(e,t)=>e.setData("text/html",t),YA="x-tinymce/html",XA=A(YA),QA="\x3c!-- "+YA+" --\x3e",ZA=e=>QA+e,JA=e=>-1!==e.indexOf(QA),e$="%MCEPASTEBIN%",t$=e=>e.dom.get("mcepastebin"),n$=e=>w(e)&&"mcepastebin"===e.id,o$=e=>e===e$,i$=(e,t)=>(Dt.each(t,(t=>{e=u(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),r$=e=>i$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?fi:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),s$=(e,t)=>({content:e,cancelled:t}),a$=(e,t)=>(e.insertContent(t,{merge:Qc(e),paste:!0}),!0),l$=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),c$=(e,t,n)=>!(e.selection.isCollapsed()||!l$(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),d$=(e,t,n)=>!!((e,t)=>l$(t)&&$(ud(e),(e=>Ue(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),u$=(e=>{let t=0;return()=>"mceclip"+t++})(),h$=e=>{const t=KA();return GA(t,e),HA(t),t},p$=(e,t,n,o,i)=>{const r=((e,t,n)=>((e,t,n)=>{const o=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),i=((e,t)=>{const n=Xb({sanitize:cd(e),sandbox_iframes:md(e)},e.schema);n.addNodeFilter("meta",(e=>{Dt.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return eg({validate:!0},e.schema).serialize(o)})(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?((e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),i=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,o,n);return s$(i.node.innerHTML,i.isDefaultPrevented())})(e,i,n):s$(i,o.isDefaultPrevented())})(e,t,n))(e,t,n);if(!r.cancelled){const t=r.content,n=()=>((e,t,n)=>{n||!Zc(e)?a$(e,t):((e,t)=>{Dt.each([c$,d$,a$],(n=>!n(e,t,a$)))})(e,t)})(e,t,o);i?xE(e,"insertFromPaste",{dataTransfer:h$(t)}).isDefaultPrevented()||(n(),CE(e,"insertFromPaste")):n()}},f$=(e,t,n,o)=>{const i=n||JA(t);p$(e,(e=>e.replace(QA,""))(t),i,!1,o)},g$=(e,t,n)=>{const o=e.dom.encode(t).replace(/\r\n/g,"\n"),i=((e,t,n)=>{const o=e.split(/\n\n/),i=((e,t)=>{let n="<"+e;const o=we(t,((e,t)=>t+'="'+Xr.encodeAllRaw(e)+'"'));return o.length&&(n+=" "+o.join(" ")),n+">"})(t,n),r="</"+t+">",s=j(o,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:j(s,(e=>i+e+r)).join("")})(rr(o,ed(e)),Dl(e),Ol(e));p$(e,i,!1,!0,n)},m$=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},v$=(e,t)=>t in e&&e[t].length>0,y$=e=>v$(e,"text/html")||v$(e,"text/plain"),b$=(e,t,n)=>{const o="paste"===t.type?t.clipboardData:t.dataTransfer;var i;if(Vc(e)&&o){const r=((e,t)=>{const n=t.items?te(de(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],o=t.files?de(t.files):[];return G(n.length>0?n:o,(e=>{const t=ud(e);return e=>We(e.type,"image/")&&$(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))})(e))})(e,o);if(r.length>0)return t.preventDefault(),(i=r,Promise.all(j(i,(e=>Ly(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),V(t,(t=>{((e,t)=>{$y(t.uri).each((({data:n,type:o,base64Encoded:i})=>{const r=i?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(r,o),c=null!=l?l:((e,t,n,o)=>{const i=u$(),r=zl(e)&&w(n.name),s=r?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return w(n)?e.dom.encode(n[1]):void 0})(e,n.name):i,a=r?n.name:void 0,l=t.create(i,n,o,s,a);return t.add(l),l})(e,a,s,r);f$(e,`<img src="${c.blobUri()}">`,!1,!0)}))})(e,t)}))})),!0}return!1},w$=(e,t,n,o,i)=>{let r=r$(n);const s=v$(t,XA())||JA(n),a=!s&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(r),l=l$(r);(o$(r)||!r.length||a&&!l)&&(o=!0),(o||l)&&(r=v$(t,"text/plain")&&a?t["text/plain"]:(e=>{const t=as(),n=Xb({},t);let o="";const i=t.getVoidElements(),r=Dt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(i[n]&&(o+=" "),r[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=i$(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),o})(r)),o$(r)||(o?g$(e,r,i):f$(e,r,s,i))},C$=(e,t,n,o)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(XA(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},x$=e=>(t,n)=>{const{dom:o,selection:i}=e,r=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=o.create("div",{contenteditable:"true"},t);o.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(s),o.add(e.getBody(),r);const a=i.getRng();s.focus();const l=o.createRng();l.selectNodeContents(s),i.setRng(l),cf.setEditorTimeout(e,(()=>{i.setRng(a),o.remove(r),n()}),0)},S$=e=>({html:ZA(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),_$=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),k$=(e,t)=>{var n,o;return Tp.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},E$=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},A$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,$$=e=>Dt.trim(e).replace(A$,ms).toLowerCase(),T$=(e,t,n)=>{const o=Yc(e);if(n||"all"===o||!Xc(e))return t;const i=o?o.split(/[, ]/):[];if(i&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,r,s)=>{const a=n.parseStyle(n.decode(r)),l={};for(let e=0;e<i.length;e++){const t=a[i[e]];let r=t,s=n.getStyle(o,i[e],!0);/color/.test(i[e])&&(r=$$(r),s=$$(s)),s!==r&&(l[i[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,o)=>t+' style="'+n+'"'+o)),t},L$=e=>{const t=Bs(!1),n=Bs(Jc(e)?"text":"html"),o=(e=>{const t=Bs(null);return{create:()=>((e,t)=>{const{dom:n,selection:o}=e,i=e.getBody();t.set(o.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e$);Tt.browser.isFirefox()&&n.setStyle(r,"left","rtl"===n.getStyle(i,"direction",!0)?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),r.focus(),o.select(r,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(t$(e)){let o;const i=t.get();for(;o=t$(e);)n.remove(o),n.unbind(o);i&&e.selection.setRng(i)}t.set(null)})(e,t),getEl:()=>t$(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...i]=G(e.getBody().childNodes,n$);V(i,(e=>{n(o,e)}));const r=t.select("div[id=mcepastebin]",o);for(let e=r.length-1;e>=0;e--){const i=t.create("div");o.insertBefore(i,r[e]),n(i,r[e])}return o?o.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(Tt.browser.isChromium()||Tt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,T$)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Qh(e,!1)):(t.set("text"),Qh(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&f$(e,n.html,n.internal,!1),n.text&&g$(e,n.text,!1)}))})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=qc(e);C(n)&&e.on("PastePreProcess",t(n));const o=Kc(e);C(o)&&e.on("PastePostProcess",t(o))})(e),e.on("PreInit",(()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&_$(e)&&e.selection.isEditable()&&C$(t,S$(e),x$(e),(()=>{if(Tt.browser.isChromium()||Tt.browser.isFirefox()){const t=e.selection.getRng();cf.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&_$(e)&&C$(t,S$(e),x$(e),_)})(e))})(e),((e,t)=>{jc(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Vc(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>$(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const o=k$(e,n);if(b(o))return;const i=m$(n.dataTransfer),r=v$(i,XA());if((!y$(i)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(i))&&b$(e,n,o))return;const s=i[XA()],a=s||i["text/html"]||i["text/plain"],l=((e,t,n,o)=>{const i=e.getParent(n,(e=>Er(t,e)));if(!m(e.getParent(n,"summary")))return!0;if(i&&Se(o,"text/html")){const e=(new DOMParser).parseFromString(o["text/html"],"text/html").body;return!m(e.querySelector(i.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,o.startContainer,i),c=t.get();c&&!l||a&&(n.preventDefault(),cf.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{(s||c&&l)&&e.execCommand("Delete"),E$(e,o);const t=r$(a);i["text/html"]?f$(e,t,r,!0):g$(e,t,!0)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{Vc(e)&&!t.get()&&(n.preventDefault(),E$(e,k$(e,n))),"dragend"===n.type&&t.set(!1)})),(e=>{e.on("input",(t=>{const n=e=>m(e.querySelector("summary"));if("deleteByDrag"===t.inputType){const t=G(e.dom.select("details"),n);V(t,(t=>{oi(t.firstChild)&&t.firstChild.remove();const n=e.dom.create("summary");n.appendChild(Ai().dom),t.prepend(n)}))}}))})(e)})(e,t),((e,t,n)=>{((e,t,n)=>{let o;e.on("keydown",(e=>{(e=>Zh.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(i=>{if(i.isDefaultPrevented()||(e=>{var t,n;return Tt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(i))return;const r="text"===n.get()||o;o=!1;const s=m$(i.clipboardData);!y$(s)&&b$(e,i,t.getLastRng()||e.selection.getRng())||(v$(s,"text/html")?(i.preventDefault(),w$(e,s,s["text/html"],r,!0)):v$(s,"text/plain")&&v$(s,"text/uri-list")?(i.preventDefault(),w$(e,s,s["text/plain"],r,!0)):(t.create(),cf.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),w$(e,s,n,r,!1)}),0)))}))})(e,t,n),(e=>{const t=e=>We(e,"webkit-fake-url"),n=e=>We(e,"data:");e.parser.addNodeFilter("img",((o,i,r)=>{if(!Vc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(r))for(const i of o){const o=i.attr("src");h(o)&&!i.attr("data-mce-object")&&o!==Tt.transparentSrc&&(t(o)||!td(e)&&n(o))&&i.remove()}}))})(e)})(e,o,n)}))},R$=oi,M$=Qo,D$=e=>si(e.dom),O$=e=>t=>xn(yn(e),t),N$=(e,t)=>Xn(yn(e),D$,O$(t)),I$=(e,t,n)=>{const o=new Po(e,t),i=n?o.next.bind(o):o.prev.bind(o);let r=e;for(let t=n?e:i();t&&!R$(t);t=i())Zi(t)&&(r=t);return r};var F$;!function(e){e.Before="before",e.After="after"}(F$||(F$={}));const P$=(e,t)=>Math.abs(e.left-t),B$=(e,t)=>Math.abs(e.right-t),H$=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),z$=(e,t,n,o)=>{const i=e=>Zi(e.node)?P.some(e):zo(e.node)?z$(de(e.node.childNodes),t,n,!1):P.none(),r=(e,r)=>{const s=se(e,((e,o)=>r(e,t,n)-r(o,t,n)));return ue(s,i).map((e=>o&&!Qo(e.node)&&s.length>1?((e,o,r)=>i(o).filter((o=>Math.abs(r(e,t,n)-r(o,t,n))<2&&Qo(o.node))))(e,s[1],r).getOr(e):e))},[s,a]=((e,t)=>(e=>X(e,((e,t)=>e.fold((()=>P.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),i=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom);return P.some({top:o,right:i,bottom:r,left:n,width:i-n,height:r-o})}))),P.none()))(G(e,(e=>{return(n=t)>=(o=e).top&&n<=o.bottom;var n,o}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=K(e,(e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t)));return[n,o]})))(iS(e),n),{pass:l,fail:c}=K(a,(e=>e.top<n));return r(s,H$).orThunk((()=>r(c,ba))).orThunk((()=>r(l,ba)))},W$=(e,t,n)=>((e,t,n)=>{const o=yn(e),i=((e,t,n)=>P.from(e.dom.elementFromPoint(t,n)).map(fn))(kn(o),t,n).filter((e=>Sn(o,e))).getOr(o);return((e,t,n,o)=>{const i=(t,r)=>{const s=G(t.dom.childNodes,M((e=>zo(e)&&e.classList.contains("mce-drag-container"))));return r.fold((()=>z$(s,n,o,!0)),(e=>{const t=G(s,(t=>t!==e.dom));return z$(t,n,o,!0)})).orThunk((()=>(xn(t,e)?P.none():$n(t)).bind((e=>i(e,P.some(t))))))};return i(t,P.none())})(o,i,t,n)})(e,t,n).filter((e=>Ld(e.node))).map((e=>((e,t)=>({node:e.node,position:P$(e,t)<B$(e,t)?F$.Before:F$.After}))(e,t))),U$=e=>{var t,n;const o=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,s=i.defaultView;return{top:o.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-r.clientTop,left:o.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-r.clientLeft}},j$=e=>({target:e,srcElement:e}),V$=si,q$=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(V$,ri),K$=(e,t,n,o)=>{const i=e.dom,r=t.cloneNode(!0);i.setStyles(r,{width:n,height:o}),i.setAttrib(r,"data-mce-selected",null);const s=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),i.setStyles(r,{margin:0,boxSizing:"border-box"}),s.appendChild(r),s},G$=(e,t)=>n=>()=>{const o="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:o+t,behavior:"smooth"})},Y$=G$("left",-32),X$=G$("left",32),Q$=G$("top",-32),Z$=G$("top",32),J$=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},eT=(e,t,n,o,i)=>{"dragstart"===t&&GA(o,e.dom.getOuterHTML(n));const r=((e,t,n,o)=>{const i=((e,t)=>{const n=(e=>{const t=KA(),n=(e=>{const t=e;return P.from(t[IA])})(e);return HA(e),MA(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return P.from(t[TA])})(e).each((e=>t.setDragImage(e.image,e.x,e.y))),V(e.types,(n=>{"Files"!==n&&t.setData(n,e.getData(n))})),V(e.files,(e=>t.items.add(e))),(e=>{const t=e;return P.from(t[LA])})(e).each((e=>{((e,t)=>{RA(t)(e)})(t,e)})),n.each((n=>{PA(e,n),PA(t,n)})),t})(e);return"dragstart"===t?(MA(n),BA(n)):"drop"===t?(DA(n),HA(n)):(OA(n),zA(n)),n})(n,e);return y(o)?((e,t,n)=>{const o=D("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:_,stopImmediatePropagation:_,stopPropagation:_,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:n,...j$(t)}})(e,t,i):((e,t,n,o)=>({...t,dataTransfer:o,type:e,...j$(n)}))(e,o,t,i)})(t,n,o,i);return e.dispatch(t,r)},tT=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>eT(t,"dragend",e.element,e.dataTransfer)),(n=>eT(t,"dragend",e.element,e.dataTransfer,n)))})),nT(e)},nT=e=>{e.on((e=>{e.intervalId.clear(),J$(e.ghost)})),e.clear()},oT=e=>{const t=qs(),n=Is.DOM,o=document,i=((e,t)=>n=>{if((e=>0===e.button)(n)){const o=Z(t.dom.getParents(n.target),q$).getOr(null);if(w(o)&&((e,t,n)=>V$(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),o)){const i=t.dom.getPos(o),r=t.getBody(),s=t.getDoc().documentElement;e.set({element:o,dataTransfer:KA(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:s.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:o.offsetWidth,height:o.offsetHeight,ghost:K$(t,o,o.offsetWidth,o.offsetHeight),intervalId:Vs(100)})}}})(t,e),r=((e,t)=>{const n=Ks(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),W$(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(o=>{const i=e._selectionOverrides.showCaret(1,o.node,o.position===F$.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const o=e;return i=>e.on((e=>{const r=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&r>10){const n=eT(t,"dragstart",e.element,e.dataTransfer,i);if(w(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const r=i.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?U$(e.getBody()):{left:0,top:0})(e),o=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),i=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=U$(e.getContentAreaContainer()),o=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:i})(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:i.left-n.left+o.left,pageY:i.top-n.top+o.top};var n,o,i})(t,i));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,o,i,r,s,a,l,c,d,u)=>{let h=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(h=t.pageX+n-i),t.pageY+o>r&&(p=t.pageY+o-r),e.style.width=n-h+"px",e.style.height=o-p+"px";const f=l.clientHeight,g=l.clientWidth,m=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;d.on((e=>{e.intervalId.clear(),e.dragging&&u&&(s+8>=f?e.intervalId.set(Z$(c)):s-8<=0?e.intervalId.set(Q$(c)):a+8>=g?e.intervalId.set(X$(c)):a-8<=0?e.intervalId.set(Y$(c)):m+16>=window.innerHeight?e.intervalId.set(Z$(window)):m-16<=0?e.intervalId.set(Q$(window)):v+16>=window.innerWidth?e.intervalId.set(X$(window)):v-16<=0&&e.intervalId.set(Y$(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),o,r),n.throttle(i.clientX,i.clientY)}var s,a}))})(t,e),s=((e,t)=>n=>{e.on((e=>{var o;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!b(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(w(t)){const e=t.getRangeAt(0).startContainer;return Qo(e)?e.parentNode:e}return null})(t.selection),e.element)){const i=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody();eT(t,"drop",i,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);J$(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&$i(yn(n))})(t.dom,e.element),(e=>{const t=e.getData("text/html");return""===t?P.none():P.some(t)})(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}eT(t,"dragend",t.getBody(),e.dataTransfer,n)}})),nT(e)})(t,e),a=((e,t)=>n=>tT(e,t,P.some(n)))(t,e);e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",s),n.bind(o,"mousemove",r),n.bind(o,"mouseup",a),e.on("remove",(()=>{n.unbind(o,"mousemove",r),n.unbind(o,"mouseup",a)})),e.on("keydown",(n=>{n.keyCode===Zh.ESC&&tT(t,e,P.none())}))},iT=si,rT=(e,t)=>qm(e.getBody(),t),sT=e=>{const t=e.selection,n=e.dom,o=e.getBody(),i=((e,t,n,o)=>{const i=qs();let r,s;const a=Dl(e),l=e.dom,c=()=>{(e=>{var t,n;const o=Io(yn(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<o.length;e++){const i=o[e].dom;let r=i.previousSibling;if(zi(r)){const e=r.data;1===e.length?null===(t=r.parentNode)||void 0===t||t.removeChild(r):r.deleteData(e.length-1,1)}r=i.nextSibling,Hi(r)&&(1===r.data.length?null===(n=r.parentNode)||void 0===n||n.removeChild(r):r.deleteData(0,1))}})(t),s&&(Sd(s),s=null),i.on((e=>{l.remove(e.caret),i.clear()})),r&&(clearInterval(r),r=void 0)};return{show:(e,d)=>{let u;if(c(),Ed(d))return null;if(!n(d))return s=((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Ti),i=e.parentNode;if(t){const t=e.previousSibling;if(Di(t)){if(Ii(t))return t;if(zi(t))return t.splitText(t.data.length-1)}null==i||i.insertBefore(o,e)}else{const t=e.nextSibling;if(Di(t)){if(Ii(t))return t;if(Hi(t))return t.splitText(1),t}e.nextSibling?null==i||i.insertBefore(o,e.nextSibling):null==i||i.appendChild(o)}return o})(d,e),u=d.ownerDocument.createRange(),Td(s.nextSibling)?(u.setStart(s,0),u.setEnd(s,0)):(u.setStart(s,1),u.setEnd(s,1)),u;{const n=((e,t,n)=>{var o;const i=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Ai().dom);const r=t.parentNode;return n?null==r||r.insertBefore(i,t):t.nextSibling?null==r||r.insertBefore(i,t.nextSibling):null==r||r.appendChild(i),i})(a,d,e),c=Ad(t,d,e);l.setStyle(n,"top",c.top),s=n;const h=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(h,{...c}),l.add(t,h),i.set({caret:h,element:d,before:e}),e&&l.addClass(h,"mce-visual-caret-before"),r=setInterval((()=>{i.on((e=>{o()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500),u=d.ownerDocument.createRange(),u.setStart(n,0),u.setEnd(n,0)}return u},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on((e=>{const n=Ad(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(r)}})(e,o,n.isBlock,(()=>bf(e))),r="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==o&&(iT(e)||ci(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),c=(n,o,r,s=!0)=>e.dispatch("ShowCaret",{target:o,direction:n,before:r}).isDefaultPrevented()?null:(s&&t.scrollIntoView(o,-1===n),i.show(r,o)),d=e=>Ii(e)||Hi(e)||zi(e),u=e=>d(e.startContainer)||d(e.endContainer),h=t=>{const o=e.schema.getVoidElements(),i=n.createRng(),r=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return Se(o,r.nodeName.toLowerCase())?0===s?i.setStartBefore(r):i.setStartAfter(r):i.setStart(r,s),Se(o,a.nodeName.toLowerCase())?0===l?i.setEndBefore(a):i.setEndAfter(a):i.setEnd(a,l),i},p=(i,d)=>{if(!i)return null;if(i.collapsed){if(!u(i)){const e=d?1:-1,t=eu(e,o,i),r=t.getNode(!d);if(w(r)){if(Ld(r))return c(e,r,!!d&&!t.isAtEnd(),!1);if(Ni(r)&&si(r.nextSibling)){const e=n.createRng();return e.setStart(r,0),e.setEnd(r,0),e}}const s=t.getNode(d);if(w(s)){if(Ld(s))return c(e,s,!d&&!t.isAtEnd(),!1);if(Ni(s)&&si(s.previousSibling)){const e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let h=i.startContainer,p=i.startOffset;const f=i.endOffset;if(Qo(h)&&0===p&&iT(h.parentNode)&&(h=h.parentNode,p=n.nodeIndex(h),h=h.parentNode),!zo(h))return null;if(f===p+1&&h===i.endContainer){const o=h.childNodes[p];if(l(o))return(o=>{const i=o.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:o,targetClone:i});if(l.isDefaultPrevented())return null;const c=((o,i)=>{const s=yn(e.getBody()),a=e.getDoc(),l=Jn(s,"#"+r).getOrThunk((()=>{const e=gn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Qt(e,"id",r),mo(s,e),e})),c=n.createRng();bo(l),yo(l,[vn(fi,a),yn(i),vn(fi,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),so(l,{top:n.getPos(o,e.getBody()).y+"px"}),Xp(l);const d=t.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c})(o,l.targetClone),d=yn(o);return V(Io(yn(e.getBody()),`*[${s}]`),(e=>{xn(d,e)||nn(e,s)})),n.getAttrib(o,s)||o.setAttribute(s,"1"),a=o,g(),c})(o)}return null},f=()=>{a&&a.removeAttribute(s),Jn(yn(e.getBody()),"#"+r).each(wo),a=null},g=()=>{i.hide()};return Ew(e)||(e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",(t=>{const n=t.target,o=rT(e,n);iT(o)?(t.preventDefault(),GC(e,o).each(p)):l(n)&&GC(e,n).each(p)}),!0),e.on("mousedown",(i=>{const r=i.target;if(r!==o&&"HTML"!==r.nodeName&&!n.isChildOf(r,o))return;if(!((e,t,n)=>{const o=yn(e.getBody()),i=e.inline?o:yn(kn(o).dom.documentElement),r=((e,t,n,o)=>{const i=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?i.left+t.dom.clientLeft+eC(t):0),y:o-(e?i.top+t.dom.clientTop+Jw(t):0)}})(e.inline,i,t,n);return((e,t,n)=>{const o=Qw(e),i=Zw(e);return t>=0&&n>=0&&t<=o&&n<=i})(i,r.x,r.y)})(e,i.clientX,i.clientY))return;f(),g();const s=rT(e,r);iT(s)?(i.preventDefault(),GC(e,s).each(p)):W$(o,i.clientX,i.clientY).each((n=>{var o;i.preventDefault(),(o=c(1,n.node,n.position===F$.Before,!1))&&t.setRng(o),Wo(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Zh.modifierPressed(e)||iT(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=h(e.range);const t=p(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(e=>{const t=e.range,o=t.startContainer.parentElement;var i;u(t)||zo(i=o)&&"mcepastebin"===i.id||g(),(e=>w(e)&&n.hasClass(e,"mce-offscreen-selection"))(o)||f()})),(e=>{oT(e),Dc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(U(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&sC(e,"Dropped file type is not supported"))}},n=n=>{pf(e,n.target)&&t(n)},o=()=>{const o=Is.DOM,i=e.dom,r=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];V(a,(e=>{o.bind(r,e,n),i.bind(s,e,t)})),e.on("remove",(()=>{V(a,(e=>{o.unbind(r,e,n),i.unbind(s,e,t)}))}))};e.on("init",(()=>{cf.setEditorTimeout(e,o,0)}))})(e)})(e),(e=>{const t=Ks((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=YC(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(ci(n)){const t=qm(e.getBody(),n),o=si(t)?t:n;e.selection.getNode()!==o&&GC(e,o).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Wi(e),t.scrollIntoView(e))},hideFakeCaret:g,destroy:()=>{i.destroy(),a=null}}},aT=(e,t)=>{let n=t;for(let t=e.previousSibling;Qo(t);t=t.previousSibling)n+=t.data.length;return n},lT=(e,t,n,o,i)=>{if(Qo(n)&&(o<0||o>n.data.length))return[];const r=i&&Qo(n)?[aT(n,o)]:[o];let s=n;for(;s!==t&&s.parentNode;)r.push(e.nodeIndex(s,i)),s=s.parentNode;return s===t?r.reverse():[]},cT=(e,t,n,o,i,r,s=!1)=>({start:lT(e,t,n,o,s),end:lT(e,t,i,r,s)}),dT=(e,t)=>{const n=t.slice(),o=n.pop();return x(o)?X(n,((e,t)=>e.bind((e=>P.from(e.childNodes[t])))),P.some(e)).bind((e=>Qo(e)&&(o<0||o>e.data.length)?P.none():P.some({node:e,offset:o}))):P.none()},uT=(e,t)=>dT(e,t.start).bind((({node:n,offset:o})=>dT(e,t.end).map((({node:e,offset:t})=>{const i=document.createRange();return i.setStart(n,o),i.setEnd(e,t),i})))),hT=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t,Qo(t.firstChild)&&nr(t.firstChild.data)),hT(e,o,n)}},pT=(e,t,n,o=!0)=>{const i=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),
o&&!n(t.startContainer)&&(Qo(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Qo(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),hT(e,i,n),i!==r&&hT(e,r,n))},fT=(e,t)=>P.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),gT=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:ml(o).concat(e.blockPatterns),inlinePatterns:vl(o).concat(e.inlinePatterns)}},mT=(e,t,n,o)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,o),i.toString()},vT=(e,t,n)=>{((e,t,n)=>{if(Qo(e)&&0>=e.length)return P.some(V_(e,0));{const t=ha(q_);return P.from(t.forwards(e,0,K_(e),n)).map((e=>V_(e.container,0)))}})(t,0,t).each((o=>{const i=o.container;X_(i,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(i,0),o.setEnd(n.container,n.offset),pT(e,o,(e=>e===t))}));const r=yn(i),s=vi(r);/^\s[^\s]/.test(s)&&((e,t)=>{mi.set(e,t)})(r,s.slice(1))}))},yT=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),bT=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},wT=(e,t,n)=>{const o=uT(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=o.startContainer,r=o.endContainer,s=0===o.endOffset?r:r.splitText(o.endOffset),a=0===o.startOffset?i:i.splitText(o.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(yT(e,t+"-end"),s),start:l.insertBefore(yT(e,t+"-start"),a)}},CT=(e,t,n)=>{hT(e,e.get(t.prefix+"-end"),n),hT(e,e.get(t.prefix+"-start"),n)},xT=e=>0===e.start.length,ST=(e,t,n,o)=>{const i=t.start;var r;return Q_(e,o.container,o.offset,(r=i,(e,t)=>{const n=e.data.substring(0,t),o=n.lastIndexOf(r.charAt(r.length-1)),i=n.lastIndexOf(r);return-1!==i?i+r.length:-1!==o?o+1:-1}),n).bind((o=>{var r,s;const a=null!==(s=null===(r=n.textContent)||void 0===r?void 0:r.indexOf(i))&&void 0!==s?s:-1;if(-1!==a&&o.offset>=a+i.length){const t=e.createRng();return t.setStart(o.container,o.offset-i.length),t.setEnd(o.container,o.offset),P.some(t)}{const r=o.offset-i.length;return Y_(o.container,r,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===i)).orThunk((()=>ST(e,t,n,V_(o.container,0))))}}))},_T=(e,t,n,o)=>{const i=e.dom,r=i.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return Y_(a,l-n.pattern.end.length,t).bind((c=>{const d=cT(i,r,c.container,c.offset,a,l,o);if(xT(s))return P.some({matches:[{pattern:s,startRng:d,endRng:d}],position:c});{const a=kT(e,n.remainingPatterns,c.container,c.offset,t,o),l=a.getOr({matches:[],position:c}),u=l.position,h=((e,t,n,o,i,r=!1)=>{if(0===t.start.length&&!r){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),P.some(t)}return G_(n,o,i).bind((n=>ST(e,t,i,n).bind((e=>{var t;if(r){if(e.endContainer===n.container&&e.endOffset===n.offset)return P.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return P.none()}return P.some(e)}))))})(i,s,u.container,u.offset,t,a.isNone());return h.map((e=>{const t=((e,t,n,o=!1)=>cT(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o))(i,r,e,o);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:d}]),position:V_(e.startContainer,e.startOffset)}}))}}))},kT=(e,t,n,o,i,r)=>{const s=e.dom;return G_(n,o,s.getRoot()).bind((a=>{const l=mT(s,i,n,o);for(let s=0;s<t.length;s++){const c=t[s];if(!Ue(l,c.end))continue;const d=t.slice();d.splice(s,1);const u=_T(e,i,{pattern:c,remainingPatterns:d,position:a},r);if(u.isNone()&&o>0)return kT(e,t,n,o-1,i,r);if(u.isSome())return u}return P.none()}))},ET=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?V(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},AT=(e,t,n,o,i,r)=>{var s;return((e,t)=>{const n=ne(e,(e=>$(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(kT(e,i.inlinePatterns,n,o,t,r).fold((()=>[]),(e=>e.matches)),kT(e,(s=i.inlinePatterns,se(s,((e,t)=>t.end.length-e.end.length))),n,o,t,r).fold((()=>[]),(e=>e.matches)))},$T=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),i=((e,t)=>{const n=aa("mce_textpattern"),o=Y(t,((t,o)=>{const i=wT(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:i}])}),[]);return Y(o,((t,i)=>{const r=o.length-t.length-1,s=xT(i.pattern)?i.endMarker:wT(e,n+`_start${r}`,i.startRng);return t.concat([{...i,startMarker:s}])}),[])})(n,t);V(i,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),i=e=>e===o;xT(t.pattern)?((e,t,n,o)=>{const i=bT(e.dom,n);pT(e.dom,i,o),ET(e,t,i)})(e,t.pattern,t.endMarker,i):((e,t,n,o,i)=>{const r=e.dom,s=bT(r,o),a=bT(r,n);pT(r,a,i),pT(r,s,i);const l={prefix:n.prefix,start:n.end,end:o.start},c=bT(r,l);ET(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,i),CT(n,t.endMarker,i),CT(n,t.startMarker,i)})),e.selection.moveToBookmark(o)},TT=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},LT=Is.DOM,RT=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,MT=e=>be(e,(e=>!1===y(e))),DT=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return MT({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:RT(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},OT=e=>{const t=e.options.get;return MT({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},NT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,IT=e=>{const t=NT(e),n=oc(e),o=e.contentCSS,i=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let t="";Dt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const{pass:o,fail:i}=K(t,(e=>tinymce.Resource.has(dC(e)))),r=o.map((t=>{const n=tinymce.Resource.get(dC(t));return h(n)?Promise.resolve(NT(e).loadRawCss(t,n)):Promise.resolve()})),s=[...r,NT(e).loadAll(i)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,o,n)).then(r).catch(r),a=nc(e);return a&&((e,t)=>{const n=yn(e.getBody()),o=Un(Wn(n)),i=mn("style");Qt(i,"type","text/css"),mo(i,vn(t)),mo(o,i),e.on("remove",(()=>{wo(i)}))})(e,a),s},FT=e=>{!0!==e.removed&&((e=>{Ew(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Ju(e)&&e.selection.getStart(!0)!==t||ku(t).each((t=>{const n=t.getNode(),o=Go(n)?ku(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e),e.nodeChanged({initial:!0});const t=Bc(e);C(t)&&t.call(e,e),(e=>{const t=zc(e);t&&cf.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e)})(e))},PT=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(LT.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=$c(e),e._editableRoot=Tc(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===LT.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=mC(e),e.schema=as(OT(e)),e.dom=Is(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Yl(e),referrerPolicy:Xl(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)},force_hex_color:gd(e)}),e.parser=(e=>{const t=Xb(DT(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const o=e.dom,i="data-mce-"+n;let r=t.length;for(;r--;){const s=t[r];let a=s.attr(n);if(a&&!s.attr(i)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=o.serializeStyle(o.parseStyle(a),s.name),a.length||(a=null),s.attr(i,a),s.attr(n,a)):"tabindex"===n?(s.attr(i,a),s.attr(n,null)):s.attr(i,e.convertURL(a,n,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),ad(e)&&t.addNodeFilter("#cdata",(t=>{var n;let o=t.length;for(;o--;){const i=t[o];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode(null!==(n=i.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new If("br",1))}})),t})(e),e.serializer=Iw((e=>{const t=e.options.get;return{...DT(e),...OT(e),...MT({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Ow(e.dom,e.getWin(),e.serializer,e),e.annotator=Uh(e),e.formatter=AC(e),e.undoManager=TC(e),e._nodeChangeDispatcher=new $A(e),e._selectionOverrides=sT(e),(e=>{const t=qs(),n=Bs(!1),o=Gs((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{YS(e).each((i=>{o.cancel();const r={x:i.clientX,y:i.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(r)}))}),!0),e.on("touchmove",(i=>{o.cancel(),YS(i).each((o=>{t.on((i=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,i)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(i=>{o.cancel(),"touchcancel"!==i.type&&t.get().filter((e=>e.target.isEqualNode(i.target))).each((()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})}))}),!0)})(e),(e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(t=>{const n=pd(e);V(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))})),e.serializer.addNodeFilter("details",(t=>{const n=fd(e);V(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))}))})(e)})(e),(e=>{const t="contenteditable",n=" "+Dt.trim(rd(e))+" ",o=" "+Dt.trim(id(e))+" ",i=n_(n),r=n_(o),s=sd(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let o=t.length,i=n.content;if("raw"!==n.format){for(;o--;)i=i.replace(t[o],o_(e,i,id(e)));n.content=i}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const o=e[n];i(o)?o.attr(t,"true"):r(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const o=e[n];(i(o)||r(o))&&(s.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}}))})(e),Ew(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),(e=>{const t=((e,t,n)=>{const o=za.fromRangeStart(e).getNode(),i=((e,t,n)=>Xn(yn(e),(e=>(e=>ri(e.dom))(e)||n.isBlock(zt(e))),O$(t)).getOr(yn(t)).dom)(o,t,n),r=I$(o,i,!1),s=I$(o,i,!0),a=document.createRange();return N$(r,i).fold((()=>{M$(r)?a.setStart(r,0):a.setStartBefore(r)}),(e=>a.setStartBefore(e.dom))),N$(s,i).fold((()=>{M$(s)?a.setEnd(s,s.data.length):a.setEndAfter(s)}),(e=>a.setEndAfter(e.dom))),a})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(av(t))})(e))}))})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>{return t=nd(e),n=od(e),{inlinePatterns:vl(t),blockPatterns:ml(t),dynamicPatternsLookup:n};var t,n},i=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Zh.modifierPressed(t)&&e.selection.isCollapsed()){const n=o();(n.inlinePatterns.length>0||n.blockPatterns.length>0||i())&&((e,t)=>{const n=e.selection.getRng();return fT(e,n).map((o=>{var i;const r=Math.max(0,n.startOffset),s=gT(t,o,null!==(i=o.textContent)&&void 0!==i?i:""),a=AT(e,o,n.startContainer,r,s,!0),l=((e,t,n,o)=>{var i;const r=e.dom,s=Dl(e);if(!r.is(t,s))return[];const a=null!==(i=t.textContent)&&void 0!==i?i:"";return((e,t)=>{const n=(e=>se(e,((e,t)=>t.start.length-e.start.length)))(e),o=t.replace(fi," ");return Z(n,(e=>0===t.indexOf(e.start)||0===o.indexOf(e.start)))})(n.blockPatterns,a).map((e=>Dt.trim(a).length===e.start.length?[]:[{pattern:e,range:cT(r,r.getRoot(),t,0,t,0,!0)}])).getOr([])})(e,o,s);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{(e=>{e.insertContent(Ti,{preserve_zwsp:!0})})(e),$T(e,a),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();V(t,(t=>((e,t)=>{const n=e.dom,o=t.pattern,i=uT(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return fT(e,i).each((t=>{"block-format"===o.type?((e,t)=>{const n=t.get(e);return g(n)&&le(n).exists((e=>Se(e,"block")))})(o.format,e.formatter)&&e.undoManager.transact((()=>{vT(e.dom,t,o),e.formatter.apply(o.format)})):"block-command"===o.type&&e.undoManager.transact((()=>{vT(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)}))})),!0})(e,t))),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=G_(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===pi&&(n.deleteData(t.offset-1,1),hT(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)})(e,n)&&t.preventDefault()}}),!0);const r=()=>{if(e.selection.isCollapsed()){const t=o();(t.inlinePatterns.length>0||i())&&((e,t)=>{const n=e.selection.getRng();fT(e,n).map((o=>{const i=Math.max(0,n.startOffset-1),r=mT(e.dom,o,n.startContainer,i),s=gT(t,o,r),a=AT(e,o,n.startContainer,i,s,!1);a.length>0&&e.undoManager.transact((()=>{$T(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{TT(n,e,((e,t)=>e===t.keyCode&&!Zh.modifierPressed(t)))&&r()})),e.on("keypress",(n=>{TT(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&cf.setEditorTimeout(e,r)}))})(e)})(e));const i=AA(e);((e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{GS(e,t,!1).fold((()=>{e.selection.isEditable()&&(fm(e),vm(e))}),N)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{GS(e,t,!0).fold((()=>{e.selection.isEditable()&&(e=>{pm(e,"ForwardDelete")})(e)}),N)})(e,t)}))})(e,i),(e=>{e.on("NodeChange",R(e_,e))})(e),(e=>{var t;const n=e.dom,o=Dl(e),i=null!==(t=lc(e))&&void 0!==t?t:"",r=(t,s)=>{if((e=>{if(MC(e)){const t=e.keyCode;return!DC(e)&&(Zh.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||U(LC,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>MC(e)&&!(DC(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(ur(yn(t),!1)){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1})(n,a,o);(""!==n.getAttrib(a,RC)!==l||s)&&(n.setAttrib(a,RC,l?i:null),n.setAttrib(a,"aria-placeholder",l?i:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",r),e.off(l?"keyup":"keydown",r))};Ge(i)&&e.on("init",(t=>{r(t,!0),e.on("change SetContent ExecCommand",r),e.on("paste",(t=>cf.setEditorTimeout(e,(()=>r(t)))))}))})(e),L$(e);const r=(e=>{const t=e;return(e=>xe(e.plugins,"rtc").bind((e=>P.from(e.setup))))(e).fold((()=>(t.rtcInstance=kw(e),P.none())),(e=>(t.rtcInstance=(()=>{const e=A(null),t=A("");return{init:{bindEvents:_},undoManager:{beforeChange:_,add:e,undo:e,redo:e,clear:_,reset:_,hasUndo:I,hasRedo:I,transact:e,ignore:_,extra:_},formatter:{match:I,matchAll:A([]),matchNode:A(void 0),canApply:I,closest:t,apply:_,remove:_,toggle:_,formatChanged:A({unbind:_})},editor:{getContent:t,setContent:A({content:"",html:""}),insertContent:A(""),addVisual:_},selection:{getContent:t},autocompleter:{addDecoration:_,removeDecoration:_},raw:{getModel:A(P.none())}}})(),P.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>p(e)?e:{},{init:n,undoManager:o,formatter:i,editor:r,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,i)=>o.extra(n,i)},formatter:{match:(e,n,o,r)=>i.match(e,t(n),r),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,n,o)=>i.apply(e,t(n)),remove:(e,n,o,r)=>i.remove(e,t(n)),toggle:(e,n,o)=>i.toggle(e,t(n)),formatChanged:(e,t,n,o,r)=>i.formatChanged(t,n,o,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>(r.insertContent(e),""),addVisual:r.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>P.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Wc(e)||(t.body.spellcheck=!1,LT.setAttrib(n,"spellcheck","false")),e.quirks=(e=>{const t=Dt.each,n=Zh.BACKSPACE,o=Zh.DELETE,i=e.dom,r=e.selection,s=e.parser,a=Tt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),d=Tt.deviceType.isiPhone()||Tt.deviceType.isiPad(),u=Tt.os.isMacOS()||Tt.os.isiOS(),p=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},f=e=>e.isDefaultPrevented(),g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},m=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=r.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Ii(n.startContainer))return;r.placeCaretAt(t.clientX,t.clientY)}else r.setRng(n)}))},v=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!f(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),cf.setEditorTimeout(e,(()=>{t.focus()}))}}))},y=()=>{const t=Ic(e);e.on("click",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&i.isEditable(o)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&i.hasClass(o,t)&&0===o.childNodes.length&&i.isEditable(o.parentNode)&&(n.preventDefault(),r.select(o))}))},b=()=>{e.on("keydown",(e=>{if(!f(e)&&e.keyCode===n&&r.isCollapsed()&&0===r.getRng().startOffset){const t=r.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},w=()=>{$c(e)||e.on("BeforeExecCommand mousedown",(()=>{p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),sc(e)||p("enableObjectResizing",!1)}))},C=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},S=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},k=()=>{u&&e.on("keydown",(t=>{!Zh.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},E=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},A=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},T=_;return Ew(e)?(c&&(m(),y(),A(),g(),d&&(x(),S(),E())),l&&(v(),w(),C(),k())):(e.on("keydown",(t=>{if(f(t)||t.keyCode!==Zh.BACKSPACE)return;let n=r.getRng();const o=n.startContainer,s=n.startOffset,a=i.getRoot();let l=o;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=i.createRng(),n.setStart(o,0),n.setEnd(o,0),r.setRng(n))}})),(()=>{const t=e=>{const t=i.create("body"),n=e.cloneContents();return t.appendChild(n),r.serializer.serialize(t,{format:"html"})};e.on("keydown",(r=>{const s=r.keyCode;if(!f(r)&&(s===o||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!ur(yn(o)))return;if(!n&&!(n=>{const o=t(n),r=i.createRng();return r.selectNode(e.getBody()),o===t(r)})(e.selection.getRng()))return;r.preventDefault(),e.setContent(""),o.firstChild&&i.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}))})(),Tt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Zh.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||r.normalize()}),!0),c&&(m(),y(),e.on("init",(()=>{p("DefaultParagraphSeparator",Dl(e))})),A(),b(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),d?(x(),S(),E()):g()),l&&(e.on("keydown",(t=>{if(!f(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&0===r.getRng().startOffset){const e=r.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return i.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(i.remove(n),t.preventDefault())}}})),v(),(()=>{const n=()=>{const n=i.getAttribs(r.getStart().cloneNode(!1));return()=>{const o=r.getStart();o!==e.getBody()&&(i.setAttrib(o,"style",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!r.isCollapsed()&&i.getParent(r.getStart(),i.isBlock)!==i.getParent(r.getEnd(),i.isBlock);e.on("keypress",(t=>{let i;return!(!(f(t)||8!==t.keyCode&&46!==t.keyCode)&&o()&&(i=n(),e.getDoc().execCommand("delete",!1),i(),t.preventDefault(),1))})),i.bind(e.getDoc(),"cut",(t=>{if(!f(t)&&o()){const t=n();cf.setEditorTimeout(e,(()=>{t()}))}}))})(),w(),e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(i.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const o=i.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!i.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}i.add(n,"br",{"data-mce-bogus":1})}}))})),C(),k(),b(),e.on("drop",(t=>{var n;const o=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/html");h(o)&&/^<img[^>]*>$/.test(o)&&e.dispatch("dragend",new window.DragEvent("dragend",t))})))),{refreshContentEditable:T,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}})(e),(e=>{e.dispatch("PostRender")})(e);const o=ic(e);void 0!==o&&(n.dir=o);const i=Uc(e);i&&e.on("BeforeSetContent",(e=>{Dt.each(i,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),r.fold((()=>{const t=(e=>{let t=!1;const n=setTimeout((()=>{t||e.setProgressState(!0)}),500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);IT(e).then((()=>{FT(e),t()}))}),(t=>{e.setProgressState(!0),IT(e).then((()=>{t().then((t=>{e.setProgressState(!1),FT(e),Tw(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),FT(e),Tw(e)}))}))}))},BT=F,HT=Is.DOM,zT=Is.DOM,WT=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),UT=e=>{const t=e.getElement();return e.inline?WT(null):(e=>{const t=zT.create("div");return zT.insertAfter(t,e),WT(t,t)})(t)},jT=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Dt.trim(Ul(e)),n=e.ui.registry.getAll().icons,o={...Kw.get("default").icons,...Kw.get(t).icons};fe(o,((t,o)=>{Se(n,o)||e.ui.registry.addIcon(o,t)}))})(e),(e=>{const t=uc(e);if(h(t)){const n=oC.get(t);e.theme=n(e,oC.urls[t])||{},C(e.theme.init)&&e.theme.init(e,oC.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=pc(e),n=Gw.get(t);e.model=n(e,Gw.urls[t])})(e),(e=>{const t=[];V(Rc(e),(n=>{((e,t,n)=>{const o=nC.get(n),i=nC.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Dt.trim(n),o&&-1===Dt.inArray(t,n)){if(e.plugins[n])return;try{const r=o(e,i)||{};e.plugins[n]=r,C(r.init)&&(r.init(e,i),t.push(n))}catch(t){((e,t,n)=>{const o=Us.translate(["Failed to initialize plugin: {0}",t]);qh(e,"PluginLoadError",{message:o}),cC(o,n),sC(e,o)})(e,n,t)}}})(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,h(uc(e))?(e=>{const t=e.theme.renderUI;return t?t():UT(e)})(e):C(uc(e))?(e=>{const t=e.getElement(),n=uc(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):UT(e)})(e);((e,t)=>{const n={show:P.from(t.show).getOr(_),hide:P.from(t.hide).getOr(_),isEnabled:P.from(t.isEnabled).getOr(F),setEnabled:n=>{e.mode.isReadOnly()||P.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,P.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>uC(e,tc(e)))(e),(e=>uC(e,oc(e)))(e))})(e),e.inline?PT(e):((e,t)=>{((e,t)=>{const n=e.translate("Rich Text Area"),o=en(yn(e.getElement()),"tabindex").bind(Xe),i=((e,t,n,o)=>{const i=mn("iframe");return o.each((e=>Qt(i,"tabindex",e))),Zt(i,n),Zt(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),dn(i,"tox-edit-area__iframe"),i})(e.id,n,El(e),o).dom;i.onload=()=>{i.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=i,e.iframeHTML=(e=>{let t=Al(e)+"<html><head>";$l(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Tl(e),o=Ll(e),i=e.translate(Fc(e));return Rl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Rl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t})(e),HT.add(t.iframeContainer,i)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=HT.isHidden(t.editorContainer)),e.getElement().style.display="none",HT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,PT(e)};if(dd(e)||Tt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const o=((e,t,n,o)=>((e,t,n,o,i)=>{const r=((e,t)=>n=>{e(n)&&t((e=>{const t=yn(Vn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),i=k(o,n);return((e,t,n,o,i,r,s)=>({target:e,x:t,y:n,stop:o,prevent:i,kill:r,raw:s}))(t,e.clientX,e.clientY,n,o,i,e)})(n))})(n,o);return e.dom.addEventListener(t,r,!1),{unbind:R(ko,e,t,r,!1)}})(e,t,n,o))(yn(t),"load",BT,(()=>{o.unbind(),n()}));t.srcdoc=e.iframeHTML}})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},VT=Is.DOM,qT=e=>"-"===e.charAt(0),KT=(e,t,n)=>P.from(t).filter((e=>Ge(e)&&!Kw.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:P.some(t)}))),GT=xt().deviceType,YT=GT.isPhone(),XT=GT.isTablet(),QT=e=>{if(b(e))return[];{const t=g(e)?e:e.split(/[ ,]/),n=j(t,Ve);return G(n,Ge)}},ZT=(e,t)=>Se(e.sections(),t),JT=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:xe(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),eL=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,o):o},tL=(e,t,n,o,i)=>{var r;const s=e?{mobile:JT(null!==(r=i.mobile)&&void 0!==r?r:{},t)}:{},a=((e,t)=>{const n=((t,n)=>{const o={},i={};return ye(t,((t,n)=>U(e,n)),ve(o),ve(i)),{t:o,f:i}})(t);return o=n.t,i=n.f,{sections:A(o),options:A(i)};var o,i})(["mobile"],pk(s,i)),l=Dt.extend(n,o,a.options(),((e,t)=>e&&ZT(t,"mobile"))(e,a)?((e,t,n={})=>{const o=e.sections(),i=xe(o,t).getOr({});return Dt.extend({},n,i)})(a,"mobile"):{},{external_plugins:eL(o,a.options())});return((e,t,n,o)=>{const i=QT(n.forced_plugins),r=QT(o.plugins),s=((e,t)=>ZT(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,n,o)=>e&&ZT(t,"mobile")?o:n)(e,t,r,s.plugins?QT(s.plugins):r),l=((e,t)=>[...QT(e),...QT(t)])(i,a);return Dt.extend(o,{forced_plugins:i,plugins:l})})(e,a,o,l)},nL=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?((e,t,n,o)=>{const i=yn(e.getRoot());return n=Ug(i,za.fromRangeStart(t),o)?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),jg(i,za.fromRangeEnd(t),o)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(o,n.getRng(),t,e.schema):t},oL=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=(e=>{if("string"!=typeof e){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);ew(e,{...o,content:nL(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>Aw(e).editor.insertContent(t,n))(e,t.content,o);tw(e,n,t),e.addVisual()}))}},iL={"font-size":"size","font-family":"face"},rL=Yt("font"),sL=e=>(t,n)=>P.from(n).map(yn).filter(Vt).bind((n=>((e,t,n)=>vv(yn(n),(t=>(t=>co(t,e).orThunk((()=>rL(t)?xe(iL,e).bind((e=>en(t,e))):P.none())))(t)),(e=>xn(yn(t),e))))(e,t,n.dom).or(((e,t)=>P.from(Is.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),aL=sL("font-size"),lL=k((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),sL("font-family")),cL=e=>ku(e.getBody()).bind((e=>{const t=e.container();return P.from(Qo(t)?t.parentNode:t)})),dL=(e,t)=>((e,t)=>(e=>P.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?P.none():P.from(e.selection.getStart(!0))})))(e).orThunk(R(cL,e)).map(yn).filter(Vt).bind(t))(e,E(P.some,t)),uL=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=(e=>Dt.explode(e.options.get("font_size_style_values")))(e),i=(e=>Dt.explode(e.options.get("font_size_classes")))(e);return i.length>0?i[n-1]||t:o[n-1]||t}return t}return t},hL=e=>{const t=e.split(/\s*,\s*/);return j(t,(e=>-1===e.indexOf(" ")||We(e,'"')||We(e,"'")?e:`'${e}'`)).join(",")},pL=(e,t)=>{const n=e.dom,o=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),r=t?o.startContainer:o.endContainer,s=$E(n,r);if(!s||!s.isContentEditable)return;const a=t?po:fo,l=Dl(e);((e,t,n,o)=>{const i=e.dom,r=e=>i.isBlock(e)&&e.parentElement===n,s=r(t)?t:i.getParent(o,r,n);return P.from(s).map(yn)})(e,i,s,r).each((t=>{const n=ME(e,r,t.dom,s,!1,l);a(t,yn(n)),e.selection.setCursorLocation(n,0),e.dispatch("NewBlock",{newBlock:n}),CE(e,"insertParagraph")}))},fL=e=>{(e=>{(e=>{const t=t=>()=>{V("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{
const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return $(o,(n=>w(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)})(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(e){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Tt.os.isMacOS()||Tt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let i=0;e.dom.getParent(e.selection.getNode(),(t=>!zo(t)||i++!==o||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ri);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{oL(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{oL(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{oL(e,o)},mceInsertContent:(t,n,o)=>{oL(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Gc(e))}})})(e),(e=>{const t=(t,n,o)=>{const i=h(o)?{href:o}:o,r=e.dom.getParent(e.selection.getNode(),"a");p(i)&&h(i.href)&&(i.href=i.href.replace(/ /g,"%20"),r&&i.href||e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,r))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{VS(e,"indent")})(e)},Outdent:()=>{qS(e)}}),e.editorCommands.addCommands({Outdent:()=>WS(e)},"state")})(e),(e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{pL(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{pL(e,!1)})(e)}})})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{uA(UE,e)},mceInsertNewLine:(t,n,o)=>{hA(e,o)},InsertLineBreak:(t,n,o)=>{uA(QE,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const o=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(o)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{((e,t)=>{const n=uL(e,t);e.formatter.toggle("fontname",{value:hL(n)}),e.nodeChanged()})(e,o)},FontSize:(t,n,o)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:uL(e,t)}),e.nodeChanged()})(e,o)},LineHeight:(t,n,o)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,o)},Lang:(e,n,o)=>{var i;t(e,{value:o.code,customValue:null!==(i=o.customCode)&&void 0!==i?i:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(h(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>dL(e,(t=>lL(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>dL(e,(t=>aL(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>dL(e,(t=>{const n=yn(e.getBody()),o=vv(t,(e=>co(e,"line-height")),R(xn,n));return o.getOrThunk((()=>{const e=parseFloat(ao(t,"line-height")),n=parseFloat(ao(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const i=null!=o?o:e.selection.getNode();if(i!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{((e,t)=>{e.removed||(t?Cf(e):(e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),w(e.bookmark)&&!bf(e)&&af(e).each((t=>{e.selection.setRng(t),o=t}));const i=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(i&&e.dom.isChildOf(i,n))return yf(i),vf(e,o),void Cf(e);e.inline||(Tt.browser.isOpera()||yf(n),e.getWin().focus()),(Tt.browser.isFirefox()||e.inline)&&(yf(n),vf(e,o)),Cf(e)})(e))})(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},gL=["toggleview"],mL=e=>U(gL,e.toLowerCase());class vL{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const i=this.editor,r=e.toLowerCase(),s=null==o?void 0:o.skip_focus;if(i.removed)return!1;if("mcefocus"!==r&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)||s?(e=>{af(e).each((t=>e.selection.setRng(t)))})(i):i.focus()),i.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[r];return!!C(a)&&(a(r,t,n),i.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!mL(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!C(n)&&n(t)}queryCommandValue(e){if(!mL(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return C(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;fe(e,((e,o)=>{V(o.toLowerCase().split(","),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,i)=>t.call(null!=n?n:this.editor,o,i)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const yL="data-mce-contenteditable",bL=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},wL=(e,t)=>{e.dom.contentEditable=t?"true":"false"},CL=e=>e.readonly,xL=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{CL(e)&&V(t,(e=>{e.attr(yL,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(yL,(t=>{CL(e)&&V(t,(e=>{e.attr("contenteditable",e.attr(yL))}))})),e.serializer.addTempAttr(yL)},SL=["copy"],_L=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class kL{static isNative(e){return!!_L[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||I}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=ws(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const i=this.bindings[n];if(i)for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t.removed){if(t.once&&this.off(n,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=I),t){const i={func:t,removed:!1};o&&Dt.extend(i,o);const r=e.toLowerCase().split(" ");let s=r.length;for(;s--;){const e=r[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[i,...t]:[...t,i],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;for(;o--;){const i=n[o];let r=this.bindings[i];if(!i)return fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(r){if(t){const e=K(r,(e=>e.func===t));r=e.fail,this.bindings[i]=r,V(e.pass,(e=>{e.removed=!0}))}else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const EL=e=>(e._eventDispatcher||(e._eventDispatcher=new kL({scope:e,toggleEvent:(t,n)=>{kL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),AL={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return ws(e.toLowerCase(),null!=t?t:{},o);const i=EL(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();for(;t&&!i.isPropagationStopped();)t.dispatch(e,i,!1),t=t.parent?t.parent():void 0}return i},on(e,t,n){return EL(this).on(e,t,n)},off(e,t){return EL(this).off(e,t)},once(e,t){return EL(this).once(e,t)},hasEventListeners(e){return EL(this).has(e)}},$L=Is.DOM;let TL;const LL=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=cc(e);return n?(e.eventRoot||(e.eventRoot=$L.select(n)[0]),e.eventRoot):e.getBody()},RL=(e,t,n)=>{(e=>!e.hidden&&!CL(e))(e)?e.dispatch(t,n):CL(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!Zh.metaKeyPressed(t)){const n=yn(t.target);((e,t)=>eo(t,"a",(t=>xn(t,yn(e.getBody())))).bind((e=>en(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${He(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>U(SL,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},ML=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=LL(e,t);if(cc(e)){if(TL||(TL={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||TL&&(fe(TL,((t,n)=>{e.dom.unbind(LL(e,n))})),TL=null)}))),TL[t])return;const o=n=>{const o=n.target,i=e.editorManager.get();let r=i.length;for(;r--;){const e=i[r].getBody();(e===o||$L.isChildOf(o,e))&&RL(i[r],t,n)}};TL[t]=o,$L.bind(n,t,o)}else{const o=n=>{RL(e,t,n)};$L.bind(n,t,o),e.delegates[t]=o}},DL={...AL,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,(t=>{ML(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?ML(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(LL(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(fe(e.delegates,((t,n)=>{e.dom.unbind(LL(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},OL=e=>h(e)?{value:e.split(/[ ,]/),valid:!0}:S(e,h)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},NL=(e,t)=>e+(Ye(t.message)?"":`. ${t.message}`),IL=e=>e.valid,FL=(e,t,n="")=>{const o=t(e);return v(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},PL=["design","readonly"],BL=(e,t,n,o)=>{const i=n[t.get()],r=n[o];try{r.activate()}catch(e){return void console.error(`problem while activating editor mode ${o}:`,e)}i.deactivate(),i.editorReadOnly!==r.editorReadOnly&&((e,t)=>{const n=yn(e.getBody());((e,t,n)=>{pn(e,t)&&!n?hn(e,t):n&&dn(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{P.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,wL(n,!1),V(Io(n,'*[contenteditable="true"]'),(e=>{Qt(e,yL,"true"),wL(e,!1)}))):(e.readonly=!1,e.hasEditableRoot()&&wL(n,!0),V(Io(n,`*[${yL}="true"]`),(e=>{nn(e,yL),wL(e,!0)})),bL(e,"StyleWithCSS",!1),bL(e,"enableInlineTableEditing",!1),bL(e,"enableObjectResizing",!1),wf(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,r.editorReadOnly),t.set(o),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,o)},HL=Dt.each,zL=Dt.explode,WL={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},UL=Dt.makeMap("alt,ctrl,shift,meta,access"),jL=e=>{const t={},n=Tt.os.isMacOS()||Tt.os.isiOS();HL(zL(e.toLowerCase(),"+"),(e=>{(e=>e in UL)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=WL[e]||e.toUpperCase().charCodeAt(0))}));const o=[t.keyCode];let i;for(i in UL)t[i]?o.push(i):t[i]=!1;return t.id=o.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class VL{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(HL(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const i=this,r=i.normalizeCommandFunc(n);return HL(zL(Dt.trim(e)),(e=>{const n=i.createShortcut(e,t,r,o);i.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Dt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const i=Dt.map(zL(e,">"),jL);return i[i.length-1]=Dt.extend(i[i.length-1],{func:n,scope:o||this.editor}),Dt.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const qL=()=>{const e=(()=>{const e={},t={},n={},o={},i={},r={},s={},a={},l=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(i,"contextmenu"),addContextToolbar:l(r,"contexttoolbar"),addContextForm:l(r,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:i,contextToolbars:r,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},KL=Is.DOM,GL=Dt.extend,YL=Dt.each;class XL{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,GL(this,DL);const o=this;this.id=e,this.hidden=!1;const i=((e,t)=>tL(YT||XT,YT,t,e,t))(n.defaultOptions,t);this.options=((e,t)=>{const n={},o={},i=(e,t,n)=>{const i=FL(t,n);return IL(i)?(o[e]=i.value,!0):(console.warn(NL(`Invalid value passed for the ${e} option`,i)),!1)},r=e=>Se(n,e);return{register:(e,r)=>{const s=(e=>h(e.processor))(r)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return v;case"function":return C;case"number":return x;case"object":return p;case"string":return h;case"string[]":return OL;case"object[]":return e=>S(e,p);case"regexp":return e=>u(e,RegExp);default:return F}})();return n=>FL(n,t,`The value must be a ${e}.`)})(r.processor):r.processor,a=((e,t,n)=>{if(!y(t)){const o=FL(t,n);if(IL(o))return o.value;console.error(NL(`Invalid default value passed for the "${e}" option`,o))}})(e,r.default,s);n[e]={...r,default:a,processor:s},xe(o,e).orThunk((()=>xe(t,e))).each((t=>i(e,t,s)))},isRegistered:r,get:e=>xe(o,e).orThunk((()=>xe(n,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(r(e)){const o=n[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):i(e,t,o.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=r(e);return t&&delete o[e],t},isSet:e=>Se(o,e)}})(0,i),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:kl(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:kl(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=h(e)&&Ge(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=U(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>v(e)||h(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||h(e)||S(e,h);return t?h(e)?{value:j(e.split(","),Ve),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Cc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=h(e)||S(e,h);return t?{value:g(e)?e:j(e.split(","),Ve),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=v(e)||h(e);return t?!1===e||bl.isiPhone()||bl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!wl}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||h(e)||C(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||h(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:_l}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:_l}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:_l}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>h(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>S(e,p)||!1===e?{value:yl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return C(e)?{value:(t=e,e=>{const n=t(e);return yl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>S(e,xl)?{value:e,valid:!0}:xl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=U(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=U(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:e=>{const t=["always","rgb_only","off"],n=U(t,e);return n?{value:e,valid:n}:{valid:!1,message:`Must be one of: ${t.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Us.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Cl.getAttrib(e.getElement(),"placeholder")})}))})(o);const r=this.options.get;r("deprecation_warnings")&&((e,t)=>{((e,t)=>{const n=(e=>{const t=Ww(e,Pw),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),se(t)})(e),o=(e=>Uw(e,Hw))(t),i=o.length>0,r=n.length>0,s="mobile"===t.theme;if(i||r||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=i?`\n\nPlugins:${e}${o.join(e)}`:"",l=r?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=(e=>Ww(e,Bw))(e),o=(e=>Uw(e,zw.map((e=>e.name))))(t),i=o.length>0,r=n.length>0;if(i||r){const e="\n- ",t=i?`\n\nPlugins:${e}${o.map(jw).join(e)}`:"",s=r?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)})(t,i);const s=r("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=r("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=Xl(o);l&&(Ps.ScriptLoader._setReferrerPolicy(l),Is.DOM.styleSheetLoader._setReferrerPolicy(l));const c=Lc(o);w(c)&&Is.DOM.styleSheetLoader._setContentCssCors(c),js.languageLoad=r("language_load"),js.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new Fb($l(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cc(o),this.hasVisual=Oc(o),this.shortcuts=new VL(this),this.editorCommands=new vL(this),fL(this);const d=r("cache_suffix");d&&(Tt.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:qL(),styleSheetLoader:void 0,show:_,hide:_,setEnabled:_,isEnabled:F},this.mode=(e=>{const t=Bs("design"),n=Bs({design:{activate:_,deactivate:_,editorReadOnly:!1},readonly:{activate:_,deactivate:_,editorReadOnly:!0}});return(e=>{e.serializer?xL(e):e.on("PreInit",(()=>{xL(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{CL(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{CL(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>CL(e),set:o=>((e,t,n,o)=>{if(o!==n.get()){if(!Se(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?BL(e,n,t,o):e.on("init",(()=>BL(e,n,t,o)))}})(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(U(PL,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}})(o),n.dispatch("SetupEditor",{editor:this});const f=Pc(o);C(f)&&f.call(o,o)}render(){(e=>{const t=e.id;Us.setCode(Ql(e));const n=()=>{VT.unbind(window,"ready",n),e.render()};if(!Es.Event.domLoaded)return void VT.bind(window,"ready",n);if(!e.getElement())return;const o=yn(e.getElement()),i=on(o);e.on("remove",(()=>{q(o.dom.attributes,(e=>nn(o,e.name))),Zt(o,i)})),e.ui.styleSheetLoader=((e,t)=>Dr.forElement(e,{
contentCssCors:Lc(t),referrerPolicy:Xl(t)}))(o,e),Cc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||VT.getParent(t,"form");r&&(e.formElement=r,xc(e)&&!Xo(e.getElement())&&(VT.insertAfter(VT.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},VT.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Sc(e)||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=iC(e),e.notificationManager=tC(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=VT.encode(e.content))})),_c(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),kc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),((e,t)=>{const n=Ps.ScriptLoader,o=()=>{!e.removed&&(e=>{const t=uc(e);return!h(t)||w(oC.get(t))})(e)&&(e=>{const t=pc(e);return w(Gw.get(t))})(e)&&jT(e)};((e,t)=>{const n=uc(e);if(h(n)&&!qT(n)&&!Se(oC.urls,n)){const o=hc(e),i=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;oC.load(n,i).catch((()=>{((e,t,n)=>{aC(e,"ThemeLoadError",lC("theme",t,n))})(e,i,n)}))}})(e,t),((e,t)=>{const n=pc(e);if("plugin"!==n&&!Se(Gw.urls,n)){const o=fc(e),i=h(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;Gw.load(n,i).catch((()=>{((e,t,n)=>{aC(e,"ModelLoadError",lC("model",t,n))})(e,i,n)}))}})(e,t),((e,t)=>{const n=Ql(t),o=Zl(t);if(!Us.hasCode(n)&&"en"!==n){const i=Ge(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch((()=>{((e,t,n)=>{aC(e,"LanguageLoadError",lC("language",t,n))})(t,i,n)}))}})(n,e),((e,t,n)=>{const o=KT(t,"default",n),i=(e=>P.from(jl(e)).filter(Ge).map((e=>({url:e,name:P.none()}))))(t).orThunk((()=>KT(t,Ul(t),"")));V((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([o,i]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{aC(e,"IconsLoadError",lC("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))})(n,e,t),((e,t)=>{const n=(t,n)=>{nC.load(t,n).catch((()=>{((e,t,n)=>{aC(e,"PluginLoadError",lC("plugin",t,n))})(e,n,t)}))};fe(Mc(e),((t,o)=>{n(o,t),e.options.set("plugins",Rc(e).concat(o))})),V(Rc(e),(e=>{!(e=Dt.trim(e))||nC.urls[e]||qT(e)||n(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),n.loadQueue().then(o,o)})(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return bf(this)}translate(e){return Us.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(w(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:F,default:t})),o.isSet(e)||y(t)?o.get(e):t}hasPlugin(e,t){return!(!U(Rc(this),e)||t&&void 0===nC.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(KL.show(e.getContainer()),KL.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(KL.hide(e.getContainer()),KL.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const o={...e,load:!0},i=Xo(n)?n.value:n.innerHTML,r=t.setContent(i,o);return o.no_events||t.dispatch("LoadContent",{...o,element:n}),r}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const o={...e,save:!0,element:n};let i=t.getContent(o);const r={...o,content:i};if(r.no_events||t.dispatch("SaveContent",r),"raw"===r.format&&t.dispatch("RawSaveContent",r),i=r.content,Xo(n))n.value=i;else{!e.is_removing&&t.inline||(n.innerHTML=i);const o=KL.getParent(t.id,"form");o&&YL(o.elements,(e=>e.name!==t.id||(e.value=i,!1)))}return r.element=o.element=n=null,!1!==r.set_dirty&&t.setDirty(!1),i}setContent(e,t){return Fw(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return Zb(e,n).fold(T,(t=>{const n=((e,t)=>Aw(e).editor.getContent(t))(e,t);return Jb(e,n,t)}))})(this,e)}insertContent(e,t){t&&(e=GL({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?Fw(this,this.startContent,{format:"raw"}):Fw(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||KL.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=KL.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,i=o.options.get,r=Hc(o);if(C(r))return r.call(o,e,n,!0,t);if(!i("convert_urls")||"link"===n||p(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e;const s=new Fb(e);return"http"!==s.protocol&&"https"!==s.protocol&&""!==s.protocol?e:i("relative_urls")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,i("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{$w(e).editor.addVisual(t)})(this,t)})(0,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch("EditableRootStateChange",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),i=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&w(null==i?void 0:i.nextSibling)&&Vw.remove(i.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&o&&(e=>{Vw.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),Vw.remove(e.getContainer()),qw(t),qw(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qw(n),qw(o)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Vw.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const QL=Is.DOM,ZL=Dt.each;let JL,eR=!1,tR=[];const nR=e=>{const t=e.type;ZL(sR.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},oR=e=>{if(e!==eR){const t=Is.DOM;e?(t.bind(window,"resize",nR),t.bind(window,"scroll",nR)):(t.unbind(window,"resize",nR),t.unbind(window,"scroll",nR)),eR=e}},iR=e=>{const t=tR;return tR=G(tR,(t=>e!==t)),sR.activeEditor===e&&(sR.activeEditor=tR.length>0?tR[0]:null),sR.focusedEditor===e&&(sR.focusedEditor=null),t.length!==tR.length},rR="CSS1Compat"!==document.compatMode,sR={...AL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:Us,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",o=Fb.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const e=document.getElementsByTagName("script");for(let o=0;o<e.length;o++){const i=e[o].src||"";if(""===i)continue;const r=i.substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==r.indexOf(".min")&&(n=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var r;e.baseURL=new Fb(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new Fb(e.baseURL),e.suffix=n,(r=e).on("AddEditor",R(gf,r)),r.on("RemoveEditor",R(mf,r))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&fe(o,((e,t)=>{js.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=e=>{n=e};const r=()=>{let n=0;const s=[];let a;QL.unbind(window,"ready",r),(n=>{const o=e.onpageload;o&&o.apply(t,[])})(),a=((e,t)=>{const n=[],o=C(t)?e=>$(n,(n=>t(n,e))):e=>U(n,e);for(let t=0,i=e.length;t<i;t++){const i=e[t];o(i)||n.push(i)}return n})((e=>Tt.browser.isIE()||Tt.browser.isEdge()?(cC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):rR?(cC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):h(e.selector)?QL.select(e.selector):w(e.target)?[e.target]:[])(e)),Dt.each(a,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(iR(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),a=Dt.grep(a,(e=>!t.get(e.id))),0===a.length?i([]):ZL(a,(r=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in o)(e,r)?cC("Could not initialize inline editor on invalid inline target element",r):((e,o,r)=>{const l=new XL(e,o,t);s.push(l),l.on("init",(()=>{++n===a.length&&i(s)})),l.targetElm=l.targetElm||r,l.render()})((e=>{let t=e.id;return t||(t=xe(e,"name").filter((e=>!QL.get(e))).getOrThunk(QL.uniqueId),e.setAttribute("id",t)),t})(r),e,r)}))};return QL.bind(window,"ready",r),new Promise((e=>{n?e(n):i=t=>{e(t)}}))},get(e){return 0===arguments.length?tR.slice(0):h(e)?Z(tR,(t=>t.id===e)).getOr(null):x(e)&&tR[e]?tR[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&tR.push(e),oR(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),JL||(JL=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",JL))),e},createEditor(e,t){return this.add(new XL(e,t,this))},remove(e){const t=this;let n;if(e){if(!h(e))return n=e,m(t.get(n.id))?null:(iR(n)&&t.dispatch("RemoveEditor",{editor:n}),0===tR.length&&window.removeEventListener("beforeunload",JL),n.remove(),oR(tR.length>0),n);ZL(QL.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=tR.length-1;e>=0;e--)t.remove(tR[e])},execCommand(e,t,n){var o;const i=this,r=p(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!i.get(r)){const e=n.options;new XL(r,e,i).render()}return!0;case"mceRemoveEditor":{const e=i.get(r);return e&&e.remove(),!0}case"mceToggleEditor":{const e=i.get(r);return e?(e.isHidden()?e.show():e.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(e,t,n)},triggerSave:()=>{ZL(tR,(e=>{e.save()}))},addI18n:(e,t)=>{Us.add(e,t)},translate:e=>Us.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Fb(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Fb(this.baseURL)}};sR.setup();const aR=(()=>{const e=qs();return{FakeClipboardItem:e=>({items:e,types:he(e),getType:t=>xe(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),lR=Math.min,cR=Math.max,dR=Math.round,uR=(e,t,n)=>{let o=t.x,i=t.y;const r=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(i+=l),"r"===c[1]&&(o+=a),"c"===c[0]&&(i+=dR(l/2)),"c"===c[1]&&(o+=dR(a/2)),"b"===c[3]&&(i-=s),"r"===c[4]&&(o-=r),"c"===c[3]&&(i-=dR(s/2)),"c"===c[4]&&(o-=dR(r/2)),hR(o,i,r,s)},hR=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),pR={inflate:(e,t,n)=>hR(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:uR,findBestRelativePosition:(e,t,n,o)=>{for(let i=0;i<o.length;i++){const r=uR(e,t,o[i]);if(r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[i]}return null},intersect:(e,t)=>{const n=cR(e.x,t.x),o=cR(e.y,t.y),i=lR(e.x+e.w,t.x+t.w),r=lR(e.y+e.h,t.y+t.h);return i-n<0||r-o<0?null:hR(n,o,i-n,r-o)},clamp:(e,t,n)=>{let o=e.x,i=e.y,r=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=cR(0,t.x-o),d=cR(0,t.y-i),u=cR(0,r-a),h=cR(0,s-l);return o+=c,i+=d,n&&(r+=c,s+=d,o-=u,i-=h),r-=u,s-=h,hR(o,i,r-o,s-i)},create:hR,fromClientRect:e=>hR(e.left,e.top,e.width,e.height)},fR=(()=>{const e={},t={},n={};return{load:(n,o)=>{const i=`Script at URL "${o}" failed to load`,r=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise(((e,s)=>{const a=((e,t,n=1e3)=>{let o=!1,i=null;const r=e=>(...t)=>{o||(o=!0,null!==i&&(clearTimeout(i),i=null),e.apply(null,t))},s=r(e),a=r(t);return{start:(...e)=>{o||null!==i||(i=setTimeout((()=>a.apply(null,e)),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,Ps.ScriptLoader.loadScript(o).then((()=>a.start(r)),(()=>a.reject(i)))}));return e[n]=s,s}},add:(o,i)=>{void 0!==t[o]&&(t[o](i),delete t[o]),e[o]=Promise.resolve(i),n[o]=i},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t]}}})();let gR;try{const e="__storage_test__";gR=window.localStorage,gR.setItem(e,e),gR.removeItem(e)}catch(e){gR=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const mR={geom:{Rect:pR},util:{Delay:cf,Tools:Dt,VK:Zh,URI:Fb,EventDispatcher:kL,Observable:AL,I18n:Us,LocalStorage:gR,ImageUploader:e=>{const t=hC(),n=gC(e,t);return{upload:(t,o=!0)=>n.upload(t,o?fC(e):void 0)}}},dom:{EventUtils:Es,TreeWalker:Po,TextSeeker:ha,DOMUtils:Is,ScriptLoader:Ps,RangeUtils:Tp,Serializer:Iw,StyleSheetLoader:Mr,ControlSelection:op,BookmarkManager:jh,Selection:Ow,Event:Es.Event},html:{Styles:vs,Entities:Xr,Node:If,Schema:as,DomParser:Xb,Writer:Jf,Serializer:eg},Env:Tt,AddOnManager:js,Annotator:Uh,Formatter:AC,UndoManager:TC,EditorCommands:vL,WindowManager:iC,NotificationManager:tC,EditorObservable:DL,Shortcuts:VL,Editor:XL,FocusManager:lf,EditorManager:sR,DOM:Is.DOM,ScriptLoader:Ps.ScriptLoader,PluginManager:nC,ThemeManager:oC,ModelManager:Gw,IconManager:Kw,Resource:fR,FakeClipboard:aR,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},vR=Dt.extend(sR,mR);(e=>{window.tinymce=e,window.tinyMCE=e})(vR),(e=>{if("object"==typeof module)try{module.exports=e}catch(e){}})(vR)}(),function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)},t="undefined"!=typeof window?window:Function("return this;")(),n=function(){var e,n=null!==(e=t&&t.jQuery)&&void 0!==e?e:null;if(null!=n)return n;throw new Error("Expected global jQuery")};const o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(i=String).prototype.isPrototypeOf(n)||(null===(r=o.constructor)||void 0===r?void 0:r.name)===i.name)?"string":t;var n,o,i,r})(t)===e,i=o("string"),r=o("object"),s=o("array"),a=("function",e=>"function"==typeof e);const l=Object.keys,c=Object.hasOwnProperty,d="undefined"!=typeof window?window:Function("return this;")(),u=(e,t)=>((e,t)=>{let n=null!=t?t:d;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),h=Object.getPrototypeOf,p=e=>{const t=u("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>u(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(h(e).constructor.name))};var f,g=function(){var e;return null!==(e=t.tinymce)&&void 0!==e?e:null},m=function(){return!!g()},v=function(){var e=g();if(null!=e)return e;throw new Error("Expected global tinymce")},y=function(e){var t=null;return e&&e.id&&m()&&(t=v().get(e.id)),t},b=function(e,t,n){var o=y(e);return o?t(o):n?n(e):void 0};!function(e){e[e.NOT_LOADING=0]="NOT_LOADING",e[e.LOADING_STARTED=1]="LOADING_STARTED",e[e.LOADING_FINISHED=2]="LOADING_FINISHED"}(f||(f={}));var w,C=f.NOT_LOADING,x=[],S=function(e,t){e.each((function(n,o){return b(o,(function(n){return t(n,o,e)}))}))},_=function(e){return function(e,t){e.each((function(e,n){for(var o=0,i=v().get();o<i.length;o++){var r=i[o];if($.contains(n,r.getContentAreaContainer())&&!1===t(r))return!1}}))}(e,(function(e){return e.remove()}))},k=function(e){!function(e){S(e,(function(e){return e.remove()}))}(e),_(e)},E=function(t){return function(){for(var n=this,o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var s=function(e){void 0!==e&&(_(n),n.each((function(n,o){return b(o,(function(t){var i=a(e)?e.call(o,n,t.getContent()):e;void 0!==i&&t.setContent(null===i?"":"".concat(i))}),(function(o){if(a(e)){var i=t.call($(o),"value"),r=e.call(o,n,i);t.call($(o),"value",r)}else t.call($(o),"value",e)}))})))},d=o[0];if(i(d)){if("value"!==d)return t.apply(this,o);var u=o[1];return void 0!==u?(s(u),this):this.length>=1?b(this[0],(function(e){return e.getContent()}),(function(e){return t.call(n,"value")})):void 0}var h,p,f=e({},d);return h=f,p="value",c.call(h,p)&&(s(f.value),delete f.value),l(f).length>0?t.call(this,f):this}},A=function(e,t){var n=document.createElement("div");return e.apply($(n),t),n.innerHTML},T=function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i,r="prepend"===t;if(1===n.length&&a(n[0])){var s=n[0];i=function(t,n){return A(e,[s.call(t,0,n)])}}else{var l=n;i=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((function(t,n){return A(e,l)}))}return this.each((function(t,o){return b(o,(function(e){var t=e.getContent(),n=i(o,t);e.setContent(r?n+t:t+n)}),(function(t){e.apply($(t),n)}))})),this}},L=function(e){var t;e.fn.html=(t=e.fn.html,function(e){return 0===arguments.length?this.length>=1?b(this[0],(function(e){return e.getContent()}),(function(e){return t.call($(e))})):void 0:(_(this),this.each((function(n,o){b(o,(function(r){var s=a(e)?e.call(o,n,r.getContent()):e,l=i(s)?s:function(){p(s)&&k($(s));var e=document.createElement("div");return t.call($(e),null!=s?s:""),e.innerHTML}();r.setContent(l)}),(function(i){if(a(e)){var r=t.call($(o)),s=e.call(o,n,r);t.call($(o),s)}else t.call($(i),null!=e?e:"")}))})),this)}),e.fn.text=function(e){return function(t){if(0===arguments.length){var n="";return this.each((function(t,o){n+=b(o,(function(e){return e.getContent({format:"text"})}),(function(t){return e.call($(t))}))})),n}return _(this),this.each((function(n,o){b(o,(function(e){var i=a(t)?t.call(o,n,e.getContent({format:"text"})):t,r=document.createElement("div");r.innerText="".concat(i),e.setContent(r.innerHTML)}),(function(i){if(a(t)){var r=e.call($(o)),s=t.call(o,n,r);e.call($(o),s)}else e.call($(i),null!=t?t:"")}))})),this}}(e.fn.text),e.fn.val=function(e){return function(t){return 0===arguments.length?this.length>=1?b(this[0],(function(e){return e.getContent()}),(function(t){return e.call($(t))})):void 0:(this.each((function(n,o){b(o,(function(e){var i=a(t)?t.call(o,n,e.getContent()):null!=t?t:"",r=s(i)?i.join(""):"".concat(i);e.setContent(r)}),(function(i){if(a(t)){var r=e.call($(o)),s=t.call(o,n,null!=r?r:"");e.call($(o),s)}else e.call($(i),null!=t?t:"")}))})),this)}}(e.fn.val),e.fn.append=T(e.fn.append,"append"),e.fn.prepend=T(e.fn.prepend,"prepend"),e.fn.remove=function(e){return function(t){return k(void 0!==t?this.filter(t):this),e.call(this,t)}}(e.fn.remove),e.fn.empty=function(e){return function(){return _(this),S(this,(function(e){e.setContent("")})),e.call(this)}}(e.fn.empty),e.fn.attr=E(e.fn.attr)},R=!1;(w=n()).expr.pseudos.tinymce=function(e){return!!y(e)},w.fn.tinymce=function(t){var o,i=this;return this.length?t?(this.css("visibility","hidden"),new Promise((function(o){!function(e,t){if(m()||C!==f.NOT_LOADING)C===f.LOADING_STARTED?x.push(t):t(v(),!1);else{C=f.LOADING_STARTED;var n=document.createElement("script");n.type="text/javascript",n.onload=function(e){if(C!==f.LOADING_FINISHED&&"load"===e.type){C=f.LOADING_FINISHED;var n=v();t(n,!0);for(var o=0;o<x.length;o++)x[o](n,!1)}},n.src=e,document.body.appendChild(n)}}(function(e){if("string"==typeof e.script_url)return e.script_url;var t="string"==typeof e.channel?e.channel:"6",n="string"==typeof e.api_key?e.api_key:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(n,"/tinymce/").concat(t,"/tinymce.min.js")}(t),(function(r,s){s&&t.script_loaded&&t.script_loaded(),R||(R=!0,L(n()));var a=0,l=function(e,t){if("string"==typeof t){var n=e.resolve(t);if("function"==typeof n){var o=-1===t.indexOf(".")?e:e.resolve(t.replace(/\.\w+$/,""));return n.bind(o)}}else if("function"==typeof t)return t.bind(e);return null}(r,t.oninit),c=function(){var e=function(e,t){var n=[];return t.each((function(t,o){var i=e.get(o.id);null!=i&&n.push(i)})),n}(r,i);l&&l(e),o(e)};i.each((function(n,o){o.id||(o.id=r.DOM.uniqueId()),r.get(o.id)?a++:r.init(e(e({},t),{selector:void 0,target:o,init_instance_callback:function(e){i.css("visibility",""),a++;var n=t.init_instance_callback;"function"==typeof n&&n.call(e,e),a===i.length&&c()}}))})),a===i.length&&c()}))}))):null!==(o=y(this[0]))&&void 0!==o?o:void 0:t?Promise.resolve([]):void 0}}(),function(){var e=function(){return this}();if(e||"undefined"==typeof window||(e=window),"undefined"==typeof requirejs){var t=function(e,n,o){"string"==typeof e?(2==arguments.length&&(o=n),t.modules[e]||(t.payloads[e]=o,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,o,i=function(e,t,n){if("string"==typeof t){var o=s(e,t);if(null!=o)return n&&n(),o}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],r=0,a=t.length;r<a;++r){var l=s(e,t[r]);if(null==l&&require.original)return;i.push(l)}return n&&n.apply(null,i)||!0}},require=function(e,t){var n=i("",e,t);return null==n&&require.original?require.original.apply(this,arguments):n},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&o!=t;){var o=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,n){n=r(e,n);var o=t.modules[n];if(!o){if("function"==typeof(o=t.payloads[n])){var exports={},s={id:n,uri:"",exports:exports,packaged:!0};exports=o((function(e,t){return i(n,e,t)}),exports,s)||s.exports,t.modules[n]=exports,delete t.payloads[n]}o=t.modules[n]=exports||o}return o};o=e,(n="")&&(e[n]||(e[n]={}),o=e[n]),o.define&&o.define.packaged||(t.original=o.define,o.define=t,o.define.packaged=!0),o.require&&o.require.packaged||(require.original=o.require,o.require=require,o.require.packaged=!0)}}(),define("ace/lib/es6-shim",["require","exports","module"],(function(require,exports,e){function t(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||t(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||t(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var o=n.indexOf(e,t);return-1!==o&&o===t})),String.prototype.repeat||t(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||t(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];null!=o&&Object.keys(o).forEach((function(e){t[e]=o[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||t(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],o=0;o<t;o++){var i=this[o];if(e.call(n,i,o,this))return i}})),Array.prototype.findIndex||t(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],o=0;o<t;o++){var i=this[o];if(e.call(n,i,o,this))return o}})),Array.prototype.includes||t(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||t(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,o=arguments[1],i=o>>0,r=i<0?Math.max(n+i,0):Math.min(i,n),s=arguments[2],a=void 0===s?n:s>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);r<l;)t[r]=e,r++;return t})),Array.of||t(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(require,exports,e){"use strict";require("./es6-shim")})),define("ace/lib/deep_copy",["require","exports","module"],(function(require,exports,e){exports.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var o=0;o<t.length;o++)n[o]=e(t[o]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var o in n={},t)n[o]=e(t[o]);return n}})),define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(require,exports,e){"use strict";exports.last=function(e){return e[e.length-1]},exports.stringReverse=function(e){return e.split("").reverse().join("")},exports.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var t=/^\s\s*/,n=/\s\s*$/;exports.stringTrimLeft=function(e){return e.replace(t,"")},exports.stringTrimRight=function(e){return e.replace(n,"")},exports.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},exports.copyArray=function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},exports.deepCopy=require("./deep_copy").deepCopy,exports.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},exports.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},exports.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},exports.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},exports.deferredCall=function(e){var t=null,n=function(){t=null,e()},o=function(e){return o.cancel(),t=setTimeout(n,e||0),o};return o.schedule=o,o.call=function(){return this.cancel(),e(),o},o.cancel=function(){return clearTimeout(t),t=null,o},o.isPending=function(){return t},o},exports.delayedCall=function(e,t){var n=null,o=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(o,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(o,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i},exports.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},exports.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}})),define("ace/lib/useragent",["require","exports","module"],(function(require,exports,e){"use strict";exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},exports.getOS=function(){return exports.isMac?exports.OS.MAC:exports.isLinux?exports.OS.LINUX:exports.OS.WINDOWS};var t="object"==typeof navigator?navigator:{},n=(/mac|win|linux/i.exec(t.platform)||["other"])[0].toLowerCase(),o=t.userAgent||"",i=t.appName||"";exports.isWin="win"==n,exports.isMac="mac"==n,exports.isLinux="linux"==n,exports.isIE="Microsoft Internet Explorer"==i||i.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),exports.isOldIE=exports.isIE&&exports.isIE<9,exports.isGecko=exports.isMozilla=o.match(/ Gecko\/\d+/),exports.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),exports.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,exports.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,exports.isSafari=parseFloat(o.split(" Safari/")[1])&&!exports.isChrome||void 0,exports.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,exports.isAIR=o.indexOf("AdobeAIR")>=0,exports.isAndroid=o.indexOf("Android")>=0,exports.isChromeOS=o.indexOf(" CrOS ")>=0,exports.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,exports.isIOS&&(exports.isMac=!0),exports.isMobile=exports.isIOS||exports.isAndroid})),define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(require,exports,e){"use strict";var t,n=require("./useragent");exports.buildDom=function e(t,n,o){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var r=[],s=0;s<t.length;s++){var a=e(t[s],n,o);a&&r.push(a)}return r}var l=document.createElement(t[0]),c=t[1],d=1;c&&"object"==typeof c&&!Array.isArray(c)&&(d=2);for(s=d;s<t.length;s++)e(t[s],l,o);return 2==d&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?o&&(o[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},exports.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},exports.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},exports.removeChildren=function(e){e.innerHTML=""},
exports.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},exports.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},exports.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},exports.addCssClass=function(e,t){exports.hasCssClass(e,t)||(e.className+=" "+t)},exports.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var o=n.indexOf(t);if(-1==o)break;n.splice(o,1)}e.className=n.join(" ")},exports.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),o=!0;;){var i=n.indexOf(t);if(-1==i)break;o=!1,n.splice(i,1)}return o&&n.push(t),e.className=n.join(" "),o},exports.setCssClass=function(e,t,n){n?exports.addCssClass(e,t):exports.removeCssClass(e,t)},exports.hasCssString=function(e,t){var n,o=0;if(n=(t=t||document).querySelectorAll("style"))for(;o<n.length;)if(n[o++].id===e)return!0},exports.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function i(){var e=o;o=null,e&&e.forEach((function(e){r(e[0],e[1])}))}function r(e,n,r){if("undefined"!=typeof document){if(o)if(r)i();else if(!1===r)return o.push([e,n]);if(!t){var s=r;r&&r.getRootNode&&(s=r.getRootNode())&&s!=r||(s=document);var a=s.ownerDocument||s;if(n&&exports.hasCssString(n,s))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var l=exports.createElement("style");l.appendChild(a.createTextNode(e)),n&&(l.id=n),s==a&&(s=exports.getDocumentHead(a)),s.insertBefore(l,s.firstChild)}}}if(exports.useStrictCSP=function(e){t=e,0==e?i():o||(o=[])},exports.importCssString=r,exports.importCssStylsheet=function(e,t){exports.buildDom(["link",{rel:"stylesheet",href:e}],exports.getDocumentHead(t))},exports.scrollbarWidth=function(e){var t=exports.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var n=exports.createElement("ace_outer"),o=n.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",n.appendChild(t);var i=e&&e.documentElement||document&&document.documentElement;if(!i)return 0;i.appendChild(n);var r=t.offsetWidth;o.overflow="scroll";var s=t.offsetWidth;return r===s&&(s=n.clientWidth),i.removeChild(n),r-s},exports.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},exports.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},exports.HAS_CSS_ANIMATION=!1,exports.HAS_CSS_TRANSFORMS=!1,exports.HI_DPI=!n.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,n.isChromeOS&&(exports.HI_DPI=!1),"undefined"!=typeof document){var s=document.createElement("div");exports.HI_DPI&&void 0!==s.style.transform&&(exports.HAS_CSS_TRANSFORMS=!0),n.isEdge||void 0===s.style.animationName||(exports.HAS_CSS_ANIMATION=!0),s=null}exports.HAS_CSS_TRANSFORMS?exports.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:exports.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(require,exports,e){
/*
 * based on code from:
 *
 * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
"use strict";var t=require("./dom");exports.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},exports.loadScript=function(e,n){var o=t.getDocumentHead(),i=document.createElement("script");i.src=e,o.appendChild(i),i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,t||n())}},exports.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),define("ace/lib/oop",["require","exports","module"],(function(require,exports,e){"use strict";exports.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},exports.implement=function(e,t){exports.mixin(e,t)}})),define("ace/lib/event_emitter",["require","exports","module"],(function(require,exports,e){"use strict";var t={},n=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};t._emit=t._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(i.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=n),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},t._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var o=0;o<n.length;o++)n[o](t,this)}},t.once=function(e,t){var n=this;if(this.on(e,(function o(){n.off(e,o),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},t.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var o=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(o);var r=i.indexOf(t);-1!=r&&i.splice(r,1)}n[e]=t},t.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var o=n._disabled_[e];if(n[e]==t)o&&this.setDefaultHandler(e,o.pop());else if(o){var i=o.indexOf(t);-1!=i&&o.splice(i,1)}}},t.on=t.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[e];return o||(o=this._eventRegistry[e]=[]),-1==o.indexOf(t)&&o[n?"unshift":"push"](t),t},t.off=t.removeListener=t.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}},t.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},exports.EventEmitter=t})),define("ace/lib/report_error",["require","exports","module"],(function(require,exports,e){exports.reportError=function(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],(function(require,exports,e){var t,n=require("./oop"),o=require("./event_emitter").EventEmitter,i=require("./report_error").reportError,r={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var a=function(){function e(){this.$defaultOptions={}}return e.prototype.defineOptions=function(e,t,o){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(o).forEach((function(t){var n=o[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)})),n.implement(e,r),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var o=this.$defaultOptions[e]||(this.$defaultOptions[e]={});o[t]&&(o.forwardTo?this.setDefaultValue(o.forwardTo,t,n):o[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},e.prototype.setMessages=function(e){t=e},e.prototype.nls=function(e,n){t&&!t[e]&&s("No message found for '"+e+"' in the provided messages, falling back to default English message.");var o=t&&t[e]||e;return n&&(o=o.replace(/\$(\$|[\d]+)/g,(function(e,t){return"$"==t?"$":n[t]}))),o},e}();a.prototype.warn=s,a.prototype.reportError=i,n.implement(a.prototype,o),exports.AppConfig=a})),define("ace/theme/textmate-css",["require","exports","module"],(function(require,exports,e){e.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(require,exports,e){"use strict";exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText=require("./textmate-css"),exports.$id="ace/theme/textmate",require("../lib/dom").importCssString(exports.cssText,exports.cssClass,!1)})),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(require,exports,e){var t=require("./lib/lang"),n=require("./lib/net"),o=require("./lib/dom"),i=require("./lib/app_config").AppConfig;e.exports=exports=new i;var r={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};exports.get=function(e){if(!r.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return r[e]},exports.set=function(e,t){if(r.hasOwnProperty(e))r[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},exports.all=function(){return t.copyObject(r)},exports.$modes={},exports.moduleUrl=function(e,t){if(r.$moduleUrls[e])return r.$moduleUrls[e];var n=e.split("/"),o="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==o){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(s,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var a=r[t+"Path"];return null==a?a=r.basePath:"/"==o&&(t=o=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+o+i+this.get("suffix")},exports.setModuleUrl=function(e,t){return r.$moduleUrls[e]=t};var s;exports.setLoader=function(e){s=e},exports.dynamicModules=Object.create(null),exports.$loading={},exports.$loaded={},exports.loadModule=function(e,t){var o;if(Array.isArray(e))var i=e[0],r=e[1];else if("string"==typeof e)r=e;var l=function(e){if(e&&!exports.$loading[r])return t&&t(e);if(exports.$loading[r]||(exports.$loading[r]=[]),exports.$loading[r].push(t),!(exports.$loading[r].length>1)){var o=function(){!function(e,t){"ace/theme/textmate"===e||"./theme/textmate"===e?t(null,require("./theme/textmate")):s?s(e,t):console.error("loader is not configured")}(r,(function(e,t){t&&(exports.$loaded[r]=t),exports._emit("load.module",{name:r,module:t});var n=exports.$loading[r];exports.$loading[r]=null,n.forEach((function(e){e&&e(t)}))}))};if(!exports.get("packaged"))return o();n.loadScript(exports.moduleUrl(r,i),o),a()}};if(exports.dynamicModules[r])exports.dynamicModules[r]().then((function(e){e.default?l(e.default):l(e)}));else{try{o=this.$require(r)}catch(e){}l(o||exports.$loaded[r])}},exports.$require=function(t){if("function"==typeof e.require){return e.require(t)}},exports.setModuleLoader=function(e,t){exports.dynamicModules[e]=t};var a=function(){r.basePath||r.workerPath||r.modePath||r.themePath||Object.keys(r.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};exports.version="1.32.2"})),define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(require,exports,e){"use strict";require("./lib/fixoldbrowsers");var t=require("./config");t.setLoader((function(e,t){require([e],(function(e){t(null,e)}))}));var n=function(){return this||"undefined"!=typeof window&&window}();function o(o){if(n&&n.document){t.set("packaged",o||require.packaged||e.packaged||n.define&&define.packaged);var i={},r="",s=document.currentScript||document._currentScript,a=s&&s.ownerDocument||document;s&&s.src&&(r=s.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var l,c=a.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d],h=u.src||u.getAttribute("src");if(h){for(var p=u.attributes,f=0,g=p.length;f<g;f++){var m=p[f];0===m.name.indexOf("data-ace-")&&(i[(l=m.name.replace(/^data-ace-/,""),l.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=m.value)}var v=h.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);v&&(r=v[1])}}for(var y in r&&(i.base=i.base||r,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[y]&&t.set(y,i[y])}}e.exports=function(e){t.init=o,t.$require=require,e.require=require,"function"==typeof define&&(e.define=define)},o(!0)})),define("ace/range",["require","exports","module"],(function(require,exports,e){"use strict";var t=function(){function e(e,t,n,o){this.start={row:e,column:t},this.end={row:n,column:o}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},e.prototype.contains=function(e,t){return 0==this.compare(e,t)},e.prototype.compareRange=function(e){var t,n=e.end,o=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(o.row,o.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(o.row,o.column))?-1:1==t?42:0},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var o={row:n+1,column:0};else if(this.end.row<t)o={row:t,column:0};if(this.start.row>n)var i={row:n+1,column:0};else if(this.start.row<t)i={row:t,column:0};return e.fromPoints(i||this.start,o||this.end)},e.prototype.extend=function(t,n){var o=this.compare(t,n);if(0==o)return this;if(-1==o)var i={row:t,column:n};else var r={row:t,column:n};return e.fromPoints(i||this.start,r||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),o=t.documentToScreenPosition(this.end);return new e(n.row,n.column,o.row,o.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();t.fromPoints=function(e,n){return new t(e.row,e.column,n.row,n.column)},t.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},exports.Range=t})),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(require,exports,e){
/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */
"use strict";var t=require("./oop"),n=function(){var e,n,o={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(n in o.PRINTABLE_KEYS[173]="-",o.FUNCTION_KEYS)e=o.FUNCTION_KEYS[n].toLowerCase(),o[e]=parseInt(n,10);for(n in o.PRINTABLE_KEYS)e=o.PRINTABLE_KEYS[n].toLowerCase(),o[e]=parseInt(n,10);return t.mixin(o,o.MODIFIER_KEYS),t.mixin(o,o.PRINTABLE_KEYS),t.mixin(o,o.FUNCTION_KEYS),o.enter=o.return,o.escape=o.esc,o.del=o.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)o.KEY_MODS[t]=e.filter((function(e){return t&o.KEY_MODS[e]})).join("-")+"-"}(),o.KEY_MODS[0]="",o.KEY_MODS[-1]="input-",o}();t.mixin(exports,n),exports.default=exports,exports.keyCodeToString=function(e){var t=n[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(require,exports,e){"use strict";var t,n=require("./keys"),o=require("./useragent"),i=null,r=0;function s(){return null==t&&function(){t=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return t={passive:!1},!0}})}catch(e){}}(),t}function a(e,t,n){this.elem=e,this.type=t,this.callback=n}a.prototype.destroy=function(){c(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var l=exports.addListener=function(e,t,n,o){e.addEventListener(t,n,s()),o&&o.$toDestroy.push(new a(e,t,n))},c=exports.removeListener=function(e,t,n){e.removeEventListener(t,n,s())};exports.stopEvent=function(e){return exports.stopPropagation(e),exports.preventDefault(e),!1},exports.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},exports.preventDefault=function(e){e.preventDefault&&e.preventDefault()},exports.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},exports.capture=function(e,t,n){var o=e&&e.ownerDocument||document;function i(e){t&&t(e),n&&n(e),c(o,"mousemove",t),c(o,"mouseup",i),c(o,"dragstart",i)}return l(o,"mousemove",t),l(o,"mouseup",i),l(o,"dragstart",i),i},exports.addMouseWheelListener=function(e,t,n){l(e,"wheel",(function(e){var n=e.deltaX||0,o=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*o;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*o;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*o}t(e)}),n)},exports.addMultiMouseDownListener=function(e,t,n,i,r){var s,a,c,d=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function h(e){if(0!==exports.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,o.isIE){var r=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;c&&!r||(d=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),t[d-1]||600),1==d&&(s=e.clientX,a=e.clientY)}if(e._clicks=d,n[i]("mousedown",e),d>4)d=0;else if(d>1)return n[i](u[d],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){l(e,"mousedown",h,r)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function u(){i=Object.create(null)}if(exports.getModifierString=function(e){return n.KEY_MODS[d(e)]},exports.addCommandKeyListener=function(e,t,s){var a=null;l(e,"keydown",(function(e){i[e.keyCode]=(i[e.keyCode]||0)+1;var s=function(e,t,s){var a=d(t);if(!o.isMac&&i){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(a|=8),i.altGr){if(3==(3&a))return;i.altGr=0}if(18===s||17===s){var l="location"in t?t.location:t.keyLocation;17===s&&1===l?1==i[s]&&(r=t.timeStamp):18===s&&3===a&&2===l&&t.timeStamp-r<50&&(i.altGr=!0)}}if(s in n.MODIFIER_KEYS&&(s=-1),!a&&13===s&&3===(l="location"in t?t.location:t.keyLocation)&&(e(t,a,-s),t.defaultPrevented))return;if(o.isChromeOS&&8&a){if(e(t,a,s),t.defaultPrevented)return;a&=-9}return!!(a||s in n.FUNCTION_KEYS||s in n.PRINTABLE_KEYS)&&e(t,a,s)}(t,e,e.keyCode);return a=e.defaultPrevented,s}),s),l(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(exports.stopEvent(e),a=null)}),s),l(e,"keyup",(function(e){i[e.keyCode]=null}),s),i||(u(),l(window,"focus",u))},"object"==typeof window&&window.postMessage&&!o.isOldIE){var h=1;exports.nextTick=function(e,t){t=t||window;var n="zero-timeout-message-"+h++,o=function(i){i.data==n&&(exports.stopPropagation(i),c(t,"message",o),e())};l(t,"message",o),t.postMessage(n,"*")}}exports.$idleBlocked=!1,exports.onIdle=function(e,t){return setTimeout((function t(){exports.$idleBlocked?setTimeout(t,100):e()}),t)},exports.$idleBlockId=null,exports.blockIdle=function(e){exports.$idleBlockId&&clearTimeout(exports.$idleBlockId),exports.$idleBlocked=!0,exports.$idleBlockId=setTimeout((function(){exports.$idleBlocked=!1}),e||100)},exports.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),exports.nextFrame?exports.nextFrame=exports.nextFrame.bind(window):exports.nextFrame=function(e){setTimeout(e,17)}})),define("ace/clipboard",["require","exports","module"],(function(require,exports,e){"use strict";var t;e.exports={lineMode:!1,pasteCancelled:function(){return!!(t&&t>Date.now()-50)||(t=!1)},cancel:function(){t=Date.now()}}})),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(require,exports,e){"use strict";var t,n=require("../lib/event"),o=require("../config").nls,i=require("../lib/useragent"),r=require("../lib/dom"),s=require("../lib/lang"),a=require("../clipboard"),l=i.isChrome<18,c=i.isIE,d=i.isChrome>63,u=400,h=require("../lib/keys"),p=h.KEY_MODS,f=i.isIOS,g=f?/\s/:/\n/,m=i.isMobile;t=function(e,t){var v=r.createElement("textarea");v.className="ace_text-input",v.setAttribute("wrap","off"),v.setAttribute("autocorrect","off"),v.setAttribute("autocapitalize","off"),v.setAttribute("spellcheck","false"),v.style.opacity="0",e.insertBefore(v,e.firstChild);var y=!1,b=!1,w=!1,C=!1,x="";m||(v.style.fontSize="1px");var S=!1,_=!1,k="",E=0,A=0,T=0,L=Number.MAX_SAFE_INTEGER,R=Number.MIN_SAFE_INTEGER,M=0;try{var D=document.activeElement===v}catch(e){}this.setNumberOfExtraLines=function(e){L=Number.MAX_SAFE_INTEGER,R=Number.MIN_SAFE_INTEGER,M=e<0?0:e},this.setAriaOptions=function(e){if(e.activeDescendant?(v.setAttribute("aria-haspopup","true"),v.setAttribute("aria-autocomplete",e.inline?"both":"list"),v.setAttribute("aria-activedescendant",e.activeDescendant)):(v.setAttribute("aria-haspopup","false"),v.setAttribute("aria-autocomplete","both"),v.removeAttribute("aria-activedescendant")),e.role&&v.setAttribute("role",e.role),e.setLabel&&(v.setAttribute("aria-roledescription",o("editor")),t.session)){var n=t.session.selection.cursor.row;v.setAttribute("aria-label",o("Cursor at row $0",[n+1]))}},this.setAriaOptions({role:"textbox"}),n.addListener(v,"blur",(function(e){_||(t.onBlur(e),D=!1)}),t),n.addListener(v,"focus",(function(e){if(!_){if(D=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(N):N()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),x||d||"browser"==this.$focusScroll)return v.focus({preventScroll:!0});var e=v.style.top;v.style.position="fixed",v.style.top="0px";try{var n=0!=v.getBoundingClientRect().top}catch(e){return}var o=[];if(n)for(var i=v.parentElement;i&&1==i.nodeType;)o.push(i),i.setAttribute("ace_nocontext","true"),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;v.focus({preventScroll:!0}),n&&o.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){v.style.position="","0px"==v.style.top&&(v.style.top=e)}),0)},this.blur=function(){v.blur()},this.isFocused=function(){return D},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;if("insertstring"!=n){var o=n&&(e.docChanged||e.selectionChanged);w&&o&&(k=v.value="",q()),N()}}));var O=function(e,n){for(var o=n,i=1;i<=e-L&&i<2*M+1;i++)o+=t.session.getLine(e-i).length+1;return o},N=f?function(e){if(D&&(!y||e)&&!C){e||(e="");var n="\n ab"+e+"cde fg\n";n!=v.value&&(v.value=k=n);var o=4+(e.length||(t.selection.isEmpty()?0:1));4==E&&A==o||v.setSelectionRange(4,o),E=4,A=o}}:function(){if(!w&&!C&&(D||F)){w=!0;var e=0,n=0,o="";if(t.session){var i=t.selection,r=i.getRange(),s=i.cursor.row;s===R+1?R=(L=R+1)+2*M:s===L-1?L=(R=L-1)-2*M:(s<L-1||s>R+1)&&(L=s>M?s-M:0,R=s>M?s+M:2*M);for(var a=[],l=L;l<=R;l++)a.push(t.session.getLine(l));if(o=a.join("\n"),e=O(r.start.row,r.start.column),n=O(r.end.row,r.end.column),r.start.row<L){var c=t.session.getLine(L-1);e=r.start.row<L-1?0:e,n+=c.length+1,o=c+"\n"+o}else if(r.end.row>R){var d=t.session.getLine(R+1);n=r.end.row>R+1?d.length:r.end.column,n+=o.length+1,o=o+"\n"+d}else m&&s>0&&(o="\n"+o,n+=1,e+=1);o.length>u&&(e<u&&n<u?o=o.slice(0,u):(o="\n",e==n?e=n=0:(e=0,n=1)));var h=o+"\n\n";h!=k&&(v.value=k=h,E=A=h.length)}if(F&&(E=v.selectionStart,A=v.selectionEnd),A!=n||E!=e||v.selectionEnd!=A)try{v.setSelectionRange(e,n),E=e,A=n}catch(e){}w=!1}};this.resetSelection=N,D&&t.onFocus();var I=null;this.setInputHandler=function(e){I=e},this.getInputHandler=function(){return I};var F=!1,P=function(e,n){if(F&&(F=!1),b)return N(),e&&t.onPaste(e),b=!1,"";for(var o=v.selectionStart,r=v.selectionEnd,s=E,a=k.length-A,l=e,c=e.length-o,d=e.length-r,u=0;s>0&&k[u]==e[u];)u++,s--;for(l=l.slice(u),u=1;a>0&&k.length-u>E-1&&k[k.length-u]==e[e.length-u];)u++,a--;c-=u-1,d-=u-1;var h=l.length-u+1;if(h<0&&(s=-h,h=0),l=l.slice(0,h),!(n||l||c||s||a||d))return"";C=!0;var p=!1;return i.isAndroid&&". "==l&&(l="  ",p=!0),l&&!s&&!a&&!c&&!d||S?t.onTextInput(l):t.onTextInput(l,{extendLeft:s,extendRight:a,restoreStart:c,restoreEnd:d}),C=!1,k=e,E=o,A=r,T=d,p?"\n":l},B=function(e){if(w)return V();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=v.value,o=P(n,!0);(n.length>500||g.test(o)||m&&E<1&&E==A)&&N()},H=function(e,t,n){var o=e.clipboardData||window.clipboardData;if(o&&!l){var i=c||n?"Text":"text/plain";try{return t?!1!==o.setData(i,t):o.getData(i)}catch(e){if(!n)return H(e,t,!0)}}},z=function(e,o){var i=t.getCopyText();if(!i)return n.preventDefault(e);H(e,i)?(f&&(N(i),y=i,setTimeout((function(){y=!1}),10)),o?t.onCut():t.onCopy(),n.preventDefault(e)):(y=!0,v.value=i,v.select(),setTimeout((function(){y=!1,N(),o?t.onCut():t.onCopy()})))},W=function(e){z(e,!0)},U=function(e){z(e,!1)},j=function(e){var o=H(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(N),n.preventDefault(e)):(v.value="",b=!0))};n.addCommandKeyListener(v,t.onCommandKey.bind(t),t),n.addListener(v,"select",(function(e){w||(y?y=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=k.length&&e.value===k&&k&&e.selectionEnd!==A}(v)?m&&v.selectionStart!=E&&N():(t.selectAll(),N()))}),t),n.addListener(v,"input",B,t),n.addListener(v,"cut",W,t),n.addListener(v,"copy",U,t),n.addListener(v,"paste",j,t),"oncut"in v&&"oncopy"in v&&"onpaste"in v||n.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:U(e);break;case 86:j(e);break;case 88:W(e)}}),t);var V=function(){if(w&&t.onCompositionUpdate&&!t.$readOnly){if(S)return K();if(w.useTextareaForIME)t.onCompositionUpdate(v.value);else{var e=v.value;P(e),w.markerRange&&(w.context&&(w.markerRange.start.column=w.selectionStart=w.context.compositionStartOffset),w.markerRange.end.column=w.markerRange.start.column+A-w.selectionStart+T)}}},q=function(e){t.onCompositionEnd&&!t.$readOnly&&(w=!1,t.onCompositionEnd(),t.off("mousedown",K),e&&B())};function K(){_=!0,v.blur(),v.focus(),_=!1}var G,Y=s.delayedCall(V,50).schedule.bind(null,null);function X(){clearTimeout(G),G=setTimeout((function(){x&&(v.style.cssText=x,x=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}n.addListener(v,"compositionstart",(function(e){if(!w&&t.onCompositionStart&&!t.$readOnly&&(w={},!S)){e.data&&(w.useTextareaForIME=!1),setTimeout(V,0),t._signal("compositionStart"),t.on("mousedown",K);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,w.markerRange=n,w.selectionStart=E,t.onCompositionStart(w),w.useTextareaForIME?(k=v.value="",E=0,A=0):(v.msGetInputContext&&(w.context=v.msGetInputContext()),v.getInputContext&&(w.context=v.getInputContext()))}}),t),n.addListener(v,"compositionupdate",V,t),n.addListener(v,"keyup",(function(e){27==e.keyCode&&v.value.length<v.selectionStart&&(w||(k=v.value),E=A=-1,N()),Y()}),t),n.addListener(v,"keydown",Y,t),n.addListener(v,"compositionend",q,t),this.getElement=function(){return v},this.setCommandMode=function(e){S=e,v.readOnly=!1},this.setReadOnly=function(e){S||(v.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){F=!0,N(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){x||(x=v.style.cssText),v.style.cssText=(o?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(E+A)*t.renderer.characterWidth*.5+"px;";var s=t.container.getBoundingClientRect(),a=r.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-v.clientHeight-2,u=function(e){r.translate(v,e.clientX-c-2,Math.min(e.clientY-l-2,d))};u(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(G),i.isWin&&n.capture(t.container,u,X))},this.onContextMenuClose=X;var Q=function(e){t.textInput.onContextMenu(e),X()};n.addListener(v,"mouseup",Q,t),n.addListener(v,"mousedown",(function(e){e.preventDefault(),X()}),t),n.addListener(t.renderer.scroller,"contextmenu",Q,t),n.addListener(v,"contextmenu",Q,t),f&&function(e,t,n){var o=null,i=!1;n.addEventListener("keydown",(function(e){o&&clearTimeout(o),i=!0}),!0),n.addEventListener("keyup",(function(e){o=setTimeout((function(){i=!1}),100)}),!0);var r=function(e){if(document.activeElement===n&&!(i||w||t.$mouseHandler.isMousePressed||y)){var o=n.selectionStart,r=n.selectionEnd,s=null,a=0;if(0==o?s=h.up:1==o?s=h.home:r>A&&"\n"==k[r]?s=h.end:o<E&&" "==k[o-1]?(s=h.left,a=p.option):o<E||o==E&&A!=E&&o==r?s=h.left:r>A&&k.slice(0,r).split("\n").length>2?s=h.down:r>A&&" "==k[r-1]?(s=h.right,a=p.option):(r>A||r==A&&A!=E&&o==r)&&(s=h.right),o!==r&&(a|=p.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=h.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}E=o,A=r,N("")}}};document.addEventListener("selectionchange",r),t.on("destroy",(function(){document.removeEventListener("selectionchange",r)}))}(0,t,v),this.destroy=function(){v.parentElement&&v.parentElement.removeChild(v)}},exports.TextInput=t,exports.$setUserAgentForTests=function(e,t){m=e,f=t}})),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(require,exports,e){"use strict";var t=require("../lib/useragent"),n=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}return e.prototype.onMouseDown=function(e){var n=e.inSelection(),o=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();return 0!==r?((i.getSelectionRange().isEmpty()||1==r)&&i.selection.moveToPosition(o),void(2==r&&(i.textInput.onContextMenu(e.domEvent),t.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!n||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(o,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var e,t,n,o,i=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,o=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(o-t,2))),r=Date.now();(i>0||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,o=n.session.getBracketRange(t);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var o=n.getSelectionRange();o.isMultiLine()&&o.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(o.start.row),this.$clickSelection.end=n.selection.getLineRange(o.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,o=e.domEvent.timeStamp,i=o-n.t,r=i?e.wheelX/i:n.vx,s=i?e.wheelY/i:n.vy;i<550&&(r=(r+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(r/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=o;else if(o-n.allowed<550){Math.abs(r)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=o):n.allowed=0}return n.t=o,n.vx=r,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},e}();function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}n.prototype.selectEnd=n.prototype.selectByLinesEnd,n.prototype.selectAllEnd=n.prototype.selectByLinesEnd,n.prototype.selectByWordsEnd=n.prototype.selectByLinesEnd,exports.DefaultHandlers=n})),define("ace/lib/scroll",["require","exports","module"],(function(require,exports,e){exports.preventParentScroll=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}})),define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=require("./lib/dom"),r=(require("./lib/event"),require("./range").Range),s=require("./lib/scroll").preventParentScroll,a="ace_tooltip",l=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=i.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},e.prototype.setClassName=function(e){i.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=a+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")},e.prototype.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},e.prototype.hide=function(e){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),c=new(function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,i;this.popups.sort((function(e,t){return t.priority-e.priority}));var r=[];try{for(var s=o(this.popups),a=s.next();!a.done;a=s.next()){var l=a.value,c=!0;try{for(var d=(n=void 0,o(r)),u=d.next();!u.done;u=d.next()){var h=u.value;if(this.doPopupsOverlap(h,l)){c=!1;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}c?r.push(l):l.hide()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),o=t.getElement().getBoundingClientRect();return n.left<o.right&&n.right>o.left&&n.top<o.bottom&&n.bottom>o.top},e}());exports.popupManager=c,exports.Tooltip=l;var d=function(e){function t(t){void 0===t&&(t=document.body);var n=e.call(this,t)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var o=n.getElement();return o.style.whiteSpace="pre-wrap",o.style.pointerEvents="auto",o.addEventListener("mouseout",n.onMouseOut),o.tabIndex=-1,o.addEventListener("blur",function(){o.contains(document.activeElement)||this.hide()}.bind(n)),o.addEventListener("wheel",s),n}return n(t,e),t.prototype.addToEditor=function(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var o=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(o.row,o.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;this.idleTime-e>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-e):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),o=t.session.getLine(n.row);if(n.column==o.length){var i=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),r=t.session.documentToScreenPosition(n.row,n.column);if(r.column!=i.column||r.row!=i.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,o){if(!(o&&o!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var i=e.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(i.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=r.fromPoints(t.start,t.end);var s=i.textToScreenCoordinates(t.start.row,t.start.column),a=i.scroller.getBoundingClientRect();s.pageX<a.left&&(s.pageX=a.left);var l=this.getElement();l.innerHTML="",l.appendChild(n),l.style.maxHeight="",l.style.display="block";var d=l.clientHeight,u=l.clientWidth,h=window.innerHeight-s.pageY-i.lineHeight,p=!0;s.pageY-d<0&&s.pageY<h&&(p=!1),l.style.maxHeight=(p?s.pageY:h)-10+"px",l.style.top=p?"":s.pageY+i.lineHeight+"px",l.style.bottom=p?window.innerHeight-s.pageY+"px":"",l.style.left=Math.min(s.pageX,window.innerWidth-u-10)+"px"}},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")},t.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},t}(l);exports.HoverTooltip=d})),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=require("../lib/dom"),r=require("../lib/event"),s=require("../tooltip").Tooltip,a=require("../config").nls;exports.GutterHandler=function(e){var t,n,o=e.editor,s=o.renderer.$gutterLayer,a=new l(o);function c(){t&&(t=clearTimeout(t)),a.isOpen&&(a.hideTooltip(),o.off("mousewheel",c))}function d(e){a.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(o.isFocused()&&0==t.getButton()&&"foldWidgets"!=s.getRegion(t)){var n=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(r){var l=r.domEvent.target||r.domEvent.srcElement;if(i.hasCssClass(l,"ace_fold-widget"))return c();a.isOpen&&e.$tooltipFollowsMouse&&d(r),n=r,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row;if(t==o.session.getLength()){var i=o.renderer.pixelToScreenCoordinates(0,n.y).row,r=n.$pos;if(i>o.session.documentToScreenRow(r.row,r.column))return c()}if(a.showTooltip(t),a.isOpen)if(o.on("mousewheel",c),e.$tooltipFollowsMouse)d(n);else{var l=n.getGutterRow(),u=s.$lines.get(l);if(u){var h=u.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),p=a.getElement().style;p.left=h.right+"px",p.top=h.bottom+"px"}else d(n)}}():c()}),50))})),r.addListener(o.renderer.$gutter,"mouseout",(function(e){n=null,a.isOpen&&!t&&(t=setTimeout((function(){t=null,c()}),50))}),o),o.on("changeSession",c),o.on("input",c)};var l=function(e){function t(t){var n=e.call(this,t.container)||this;return n.editor=t,n}return n(t,e),t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),r=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+r>o&&(t-=20+r),
s.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:a("error"),plural:a("errors")},warning:{singular:a("warning"),plural:a("warnings")},info:{singular:a("information message"),plural:a("information messages")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,o=this.editor.renderer.$gutterLayer,i=o.$annotations[e];n=i?{text:Array.from(i.text),type:Array.from(i.type)}:{text:[],type:[]};var r=o.session.getFoldLine(e);if(r&&o.$showFoldedAnnotations){for(var s,a={error:[],warning:[],info:[]},l=e+1;l<=r.end.row;l++)if(o.$annotations[l])for(var c=0;c<o.$annotations[l].text.length;c++){var d=o.$annotations[l].type[c];a[d].push(o.$annotations[l].text[c]),"error"!==d?"warning"!==d||(s="warning_fold"):s="error_fold"}if("error_fold"===s||"warning_fold"===s){var u="".concat(t.annotationsToSummaryString(a)," in folded code.");n.text.push(u),n.type.push(s)}}if(0===n.text.length)return this.hide();var h={error:[],warning:[],info:[]},p=o.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(l=0;l<n.text.length;l++){var f="<span class='ace_".concat(n.type[l]," ").concat(p,"' aria-label='").concat(t.annotationLabels[n.type[l].replace("_fold","")].singular,"' role=img> </span> ").concat(n.text[l]);h[n.type[l].replace("_fold","")].push(f)}var g=[].concat(h.error,h.warning,h.info).join("<br>");this.setHtml(g),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(e){var n,i,r=[];try{for(var s=o(["error","warning","info"]),a=s.next();!a.done;a=s.next()){var l=a.value;if(e[l].length){var c=1===e[l].length?t.annotationLabels[l].singular:t.annotationLabels[l].plural;r.push("".concat(e[l].length," ").concat(c))}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r.join(", ")},t}(s);exports.GutterTooltip=l})),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(require,exports,e){"use strict";var t=require("../lib/event"),n=require("../lib/useragent"),o=function(){function e(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){t.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){t.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},e.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},e.prototype.getButton=function(){return t.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return n.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();exports.MouseEvent=o})),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=require("../lib/event"),o=require("../lib/useragent");function i(e){var i=e.editor,s=t.createElement("div");s.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",s.textContent="Â ";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),i.on("mousedown",this.onMouseDown.bind(e));var a,l,c,d,u,h,p,f,g,m,v,y=i.container,b=0;function w(){var e=h;(function(e,t){var n=Date.now(),o=!t||e.row!=t.row,s=!t||e.column!=t.column;!m||o||s?(i.moveCursorToPosition(e),m=n,v={x:l,y:c}):r(v.x,v.y,l,c)>5?m=null:n-m>=200&&(i.renderer.scrollCursorIntoView(),m=null)})(h=i.renderer.screenToTextCoordinates(l,c),e),function(e,t){var n=Date.now(),o=i.renderer.layerConfig.lineHeight,r=i.renderer.layerConfig.characterWidth,s=i.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},d=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),h={row:e.row,column:e.column};d/r<=2&&(h.column+=a.x.left<a.x.right?-3:2),u/o<=1&&(h.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=h.row,f=e.column!=h.column,m=!t||e.row!=t.row;p||f&&!m?g?n-g>=200&&i.renderer.scrollCursorIntoView(h):g=n:g=null}(h,e)}function C(){u=i.selection.toOrientedRange(),a=i.session.addMarker(u,"ace_selection",i.getSelectionStyle()),i.clearSelection(),i.isFocused()&&i.renderer.$cursorLayer.setBlinking(!1),clearInterval(d),w(),d=setInterval(w,20),b=0,n.addListener(document,"mousemove",_)}function x(){clearInterval(d),i.session.removeMarker(a),a=null,i.selection.fromOrientedRange(u),i.isFocused()&&!f&&i.$resetCursorStyle(),u=null,h=null,b=0,g=null,m=null,n.removeListener(document,"mousemove",_)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var t=this;return setTimeout((function(){t.startSelect(),t.captureMouse(e)}),0),e.preventDefault()}u=i.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=i.getReadOnly()?"copy":"copyMove",i.container.appendChild(s),n.setDragImage&&n.setDragImage(s,0,0),setTimeout((function(){i.container.removeChild(s)})),n.clearData(),n.setData("Text",i.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,f=!1,this.setState(null),!i.getReadOnly()){var t=e.dataTransfer.dropEffect;p||"move"!=t||i.session.remove(i.getSelectionRange()),i.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!i.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,a||C(),b++,e.dataTransfer.dropEffect=p=E(e),n.preventDefault(e)},this.onDragOver=function(e){if(!i.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,c=e.clientY,a||(C(),b++),null!==S&&(S=null),e.dataTransfer.dropEffect=p=E(e),n.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&a)return x(),p=null,n.preventDefault(e)},this.onDrop=function(e){if(h){var t=e.dataTransfer;if(f)switch(p){case"move":u=u.contains(h.row,h.column)?{start:h,end:h}:i.moveText(u,h);break;case"copy":u=i.moveText(u,h,!0)}else{var o=t.getData("Text");u={start:h,end:i.session.insert(h,o)},i.focus(),p=null}return x(),n.preventDefault(e)}},n.addListener(y,"dragstart",this.onDragStart.bind(e),i),n.addListener(y,"dragend",this.onDragEnd.bind(e),i),n.addListener(y,"dragenter",this.onDragEnter.bind(e),i),n.addListener(y,"dragover",this.onDragOver.bind(e),i),n.addListener(y,"dragleave",this.onDragLeave.bind(e),i),n.addListener(y,"drop",this.onDrop.bind(e),i);var S=null;function _(){null==S&&(S=setTimeout((function(){null!=S&&a&&x()}),20))}function k(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function E(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function r(e,t,n,o){return Math.sqrt(Math.pow(n-e,2)+Math.pow(o-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(i.prototype),exports.DragdropHandler=i})),define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("./mouse_event").MouseEvent,n=require("../lib/event"),o=require("../lib/dom");exports.addTouchListeners=function(e,i){var r,s,a,l,c,d,u,h,p,f="scroll",g=0,m=0,v=0,y=0;function b(){var e=window.navigator&&window.navigator.clipboard,t=!1,n=function(n){var r,s,a=n.target.getAttribute("action");if("more"==a||!t)return t=!t,r=i.getCopyText(),s=i.session.getUndoManager().hasUndo(),void p.replaceChild(o.buildDom(t?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),p.firstChild);"paste"==a?e.readText().then((function(e){i.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(i.getCopyText()):document.execCommand("copy")),i.execCommand(a)),p.firstChild.style.display="none",t=!1,"openCommandPalette"!=a&&i.focus()};p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),i.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),n(e)},onclick:n},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],i.container)}function w(){p||b();var e=i.selection.cursor,t=i.renderer.textToScreenCoordinates(e.row,e.column),n=i.renderer.textToScreenCoordinates(0,0).pageX,o=i.renderer.scrollLeft,r=i.container.getBoundingClientRect();p.style.top=t.pageY-r.top-3+"px",t.pageX-r.left<r.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=n+o-r.left+"px"),p.style.display="",p.firstChild.style.display="none",i.on("input",C)}function C(e){p&&(p.style.display="none"),i.off("input",C)}function x(){c=null,clearTimeout(c);var e=i.selection.getRange(),t=e.contains(u.row,u.column);!e.isEmpty()&&t||(i.selection.moveToPosition(u),i.selection.selectWord()),f="wait",w()}n.addListener(e,"contextmenu",(function(e){h&&i.textInput.getElement().focus()}),i),n.addListener(e,"touchstart",(function(e){var n=e.touches;if(c||n.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");h=i.$mouseHandler.isMousePressed=!0;var o=i.renderer.layerConfig.lineHeight,d=i.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var b=n[0],w=b.clientX,C=b.clientY;Math.abs(r-w)+Math.abs(s-C)>o&&(a=-1),r=e.clientX=w,s=e.clientY=C,v=y=0;var S=new t(e,i);if(u=S.getDocumentPosition(),p-a<500&&1==n.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),i.selection.moveToPosition(u);var e=m>=2?i.selection.getLineRange(u.row):i.session.getBracketRange(u);e&&!e.isEmpty()?i.selection.setRange(e):i.selection.selectWord(),f="wait"}();else{m=0;var _=i.selection.cursor,k=i.selection.isEmpty()?_:i.selection.anchor,E=i.renderer.$cursorLayer.getPixelPosition(_,!0),A=i.renderer.$cursorLayer.getPixelPosition(k,!0),T=i.renderer.scroller.getBoundingClientRect(),L=i.renderer.layerConfig.offset,R=i.renderer.scrollLeft,M=function(e,t){return(e/=d)*e+(t=t/o-.75)*t};if(e.clientX<T.left)return void(f="zoom");var D=M(e.clientX-T.left-E.left+R,e.clientY-T.top-E.top+L),O=M(e.clientX-T.left-A.left+R,e.clientY-T.top-A.top+L);D<3.5&&O<3.5&&(f=D>O?"cursor":"anchor"),f=O<3.5?"anchor":D<3.5?"cursor":"scroll",c=setTimeout(x,450)}a=p}),i),n.addListener(e,"touchend",(function(e){h=i.$mouseHandler.isMousePressed=!1,d&&clearInterval(d),"zoom"==f?(f="",g=0):c?(i.selection.moveToPosition(u),g=0,w()):"scroll"==f?(g+=60,d=setInterval((function(){g--<=0&&(clearInterval(d),d=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=i.session.getScrollTop();i.renderer.scrollBy(10*v,10*y),e==i.session.getScrollTop()&&(g=0)}),10),C()):w(),clearTimeout(c),c=null}),i),n.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var n=e.touches;if(!(n.length>1||"zoom"==f)){var o=n[0],a=r-o.clientX,d=s-o.clientY;if("wait"==f){if(!(a*a+d*d>4))return e.preventDefault();f="cursor"}r=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var u=e.timeStamp,h=u-l;if(l=u,"scroll"==f){var p=new t(e,i);p.speed=1,p.wheelX=a,p.wheelY=d,10*Math.abs(a)<Math.abs(d)&&(a=0),10*Math.abs(d)<Math.abs(a)&&(d=0),0!=h&&(v=a/h,y=d/h),i._emit("mousewheel",p),p.propagationStopped||(v=y=0)}else{var g=new t(e,i).getDocumentPosition();"cursor"==f?i.selection.moveCursorToPosition(g):"anchor"==f&&i.selection.setSelectionAnchor(g.row,g.column),i.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),i)}})),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(require,exports,e){"use strict";var t=require("../lib/event"),n=require("../lib/useragent"),o=require("./default_handlers").DefaultHandlers,i=require("./default_gutter_handler").GutterHandler,r=require("./mouse_event").MouseEvent,s=require("./dragdrop_handler").DragdropHandler,a=require("./touch_handler").addTouchListeners,l=require("../config"),c=function(){function e(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var r=this;this.editor=e,new o(this),new i(this),new s(this);var l=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},c=e.renderer.getMouseEventTarget();t.addListener(c,"click",this.onMouseEvent.bind(this,"click"),e),t.addListener(c,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),t.addMultiMouseDownListener([c,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),t.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),a(e.container,e);var d=e.renderer.$gutter;t.addListener(d,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),t.addListener(d,"click",this.onMouseEvent.bind(this,"gutterclick"),e),t.addListener(d,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),t.addListener(d,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),t.addListener(c,"mousedown",l,e),t.addListener(d,"mousedown",l,e),n.isIE&&e.renderer.scrollBarV&&(t.addListener(e.renderer.scrollBarV.element,"mousedown",l,e),t.addListener(e.renderer.scrollBarH.element,"mousedown",l,e)),e.on("mousemove",(function(t){if(!r.state&&!r.$dragDelay&&r.$dragEnabled){var n=e.renderer.screenToTextCoordinates(t.x,t.y),o=e.session.selection.getRange(),i=e.renderer;!o.isEmpty()&&o.insideStart(n.row,n.column)?i.setCursorStyle("default"):i.setCursorStyle("")}}),e)}return e.prototype.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new r(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new r(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new r(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,o){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var a=this,l=function(e){if(e){if(n.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,o&&o(e),a.mouseEvent=new r(e,a.editor),a.$mouseMoved=!0}},c=function(e){i.off("beforeEndOperation",u),clearInterval(h),i.session&&d(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),i.endOperation()},d=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(n.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var u=function(e){a.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};i.on("beforeEndOperation",u),i.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=t.capture(this.editor.container,l,c);var h=setInterval(d,20)},e.prototype.cancelContextMenu=function(){var e=function(n){n&&n.domEvent&&"contextmenu"!=n.domEvent.type||(this.editor.off("nativecontextmenu",e),n&&n.domEvent&&t.stopEvent(n.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();c.prototype.releaseMouse=null,l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:n.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),exports.MouseHandler=c})),define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=function(e){e.on("click",(function(n){var o=n.getDocumentPosition(),i=e.session,r=i.getFoldAt(o.row,o.column,1);r&&(n.getAccelKey()?i.removeFold(r):i.expandFold(r),n.stop());var s=n.domEvent&&n.domEvent.target;s&&t.hasCssClass(s,"ace_inline_button")&&t.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,o=e.session;o.foldWidgets&&o.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,o=e.session,i=o.getParentFoldRangeData(n,!0),r=i.range||i.firstRange;if(r){n=r.start.row;var s=o.getFoldAt(n,o.getLine(n).length,1);s?o.removeFold(s):(o.addFold("...",r),e.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}t.stop()}}))};exports.FoldHandler=n})),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(require,exports,e){"use strict";var t=require("../lib/keys"),n=require("../lib/event"),o=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},e.prototype.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},e.prototype.$callKeyboardHandlers=function(e,t,o,i){for(var r,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((r=this.$handlers[l].handleKeyboard(this.$data,e,t,o,i))&&r.command&&((s="null"==r.command||a.exec(r.command,this.$editor,r.args,i))&&i&&-1!=e&&1!=r.passEvent&&1!=r.command.passEvent&&n.stopEvent(i),s)););return s||-1!=e||(r={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),s},e.prototype.onCommandKey=function(e,n,o){var i=t.keyCodeToString(o);return this.$callKeyboardHandlers(n,i,o,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();exports.KeyBinding=o})),define("ace/lib/bidiutil",["require","exports","module"],(function(require,exports,e){"use strict";var t=0,n=0,o=!1,i=!1,r=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],l=11,c=18,d=[c,c,c,c,c,c,c,c,c,6,5,6,8,5,c,c,c,c,c,c,c,c,c,c,c,c,c,c,5,5,5,6,8,4,4,l,l,l,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,c,c,c,c,c,c,5,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,9,4,l,l,l,l,4,4,4,4,0,4,4,c,4,4,l,l,2,2,4,0,4,4,4,2,0,4,4,4,4,4],u=[8,8,8,8,8,8,8,8,8,8,8,c,c,c,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,l,l,l,l,l,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function h(e,o,r){if(!(n<e))if(1!=e||1!=t||i)for(var s,a,l,c,d=r.length,u=0;u<d;){if(o[u]>=e){for(s=u+1;s<d&&o[s]>=e;)s++;for(a=u,l=s-1;a<l;a++,l--)c=r[a],r[a]=r[l],r[l]=c;u=s}u++}else r.reverse()}function p(e,n,s,a){var d,u,h,p,f=n[a];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,!0,1;case 8:return 4;case 9:return a<1||a+1>=n.length||2!=(d=s[a-1])&&3!=d||2!=(u=n[a+1])&&3!=u?4:(o&&(u=3),u==d?u:4);case 10:return 2==(d=a>0?s[a-1]:5)&&a+1<n.length&&2==n[a+1]?2:4;case l:if(a>0&&2==s[a-1])return 2;if(o)return 4;for(p=a+1,h=n.length;p<h&&n[p]==l;)p++;return p<h&&2==n[p]?2:4;case 12:for(h=n.length,p=a+1;p<h&&12==n[p];)p++;if(p<h){var g=e[a],m=g>=1425&&g<=2303||64286==g;if(d=n[p],m&&(1==d||7==d))return 1}return a<1||5==(d=n[a-1])?4:s[a-1];case 5:return o=!1,i=!0,t;case 6:return r=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case c:return 4}}function f(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?l:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?u[255&t]:254==n&&t>=65136?7:4}exports.L=0,exports.R=1,exports.EN=2,exports.ON_R=3,exports.AN=4,exports.R_H=5,exports.B=6,exports.RLE=7,exports.DOT="Â·",exports.doBidiReorder=function(e,l,d){if(e.length<2)return{};var u=e.split(""),g=new Array(u.length),m=new Array(u.length),v=[];t=d?1:0,function(e,l,c,d){var u=t?a:s,h=null,g=null,m=null,v=0,y=null,b=-1,w=null,C=null,x=[];if(!d)for(w=0,d=[];w<c;w++)d[w]=f(e[w]);for(n=t,o=!1,!1,i=!1,r=!1,C=0;C<c;C++){if(h=v,x[C]=g=p(e,d,x,C),y=240&(v=u[h][g]),v&=15,l[C]=m=u[v][5],y>0)if(16==y){for(w=b;w<C;w++)l[w]=1;b=-1}else b=-1;if(u[v][6])-1==b&&(b=C);else if(b>-1){for(w=b;w<C;w++)l[w]=m;b=-1}5==d[C]&&(l[C]=0),n|=m}if(r)for(w=0;w<c;w++)if(6==d[w]){l[w]=t;for(var S=w-1;S>=0&&8==d[S];S--)l[S]=t}}(u,v,u.length,l);for(var y=0;y<g.length;g[y]=y,y++);h(2,v,g),h(1,v,g);for(y=0;y<g.length-1;y++)3===l[y]?v[y]=exports.AN:1===v[y]&&(l[y]>7&&l[y]<13||4===l[y]||l[y]===c)?v[y]=exports.ON_R:y>0&&"Ù"===u[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(u[y])&&(v[y-1]=v[y]=exports.R_H,y++);u[u.length-1]===exports.DOT&&(v[u.length-1]=exports.B),"â«"===u[0]&&(v[0]=exports.RLE);for(y=0;y<g.length;y++)m[y]=v[g[y]];return{logicalFromVisual:g,bidiLevels:m}},exports.hasBidiCharacters=function(e,t){for(var n=!1,o=0;o<e.length;o++)t[o]=f(e.charAt(o)),n||1!=t[o]&&7!=t[o]&&3!=t[o]||(n=!0);return n},exports.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(require,exports,e){"use strict";var t=require("./lib/bidiutil"),n=require("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,i=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=t,this.charWidths=[],this.EOL="Â¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="Â¶",this.RLE="â«",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,o=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===o;)o=n,e++;else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,o){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[e];r&&(void 0===o&&(o=this.getSplitIndex()),o>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[t.L],this.line=o<r.length?this.line.substring(r[o-1],r[o]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[o]),o==r.length&&(this.line+=this.showInvisibles?i:t.DOT))}else this.line+=this.showInvisibles?i:t.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,o){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(o+l):2,l+=s-1,n.stringRepeat(t.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==t.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];t.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=t.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var n=this.characterWidth=e.$characterSize.width,o=e.$measureCharWidth("×");this.charWidths[t.L]=this.charWidths[t.EN]=this.charWidths[t.ON_R]=n,this.charWidths[t.R]=this.charWidths[t.AN]=o,this.charWidths[t.R_H]=.45*o,this.charWidths[t.B]=this.charWidths[t.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},e.prototype.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),o=e.selection.getSelectionAnchor().row;o<=n.row;o++)t||e.session.getLine(o).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(o).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:o},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(o,0,1)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,o=e>n?this.session.getOverwrite()?e:e-1:n,i=t.getVisualFromLogicalIdx(o,this.bidiMap),r=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=n&&r[i]%2!=0&&i++;for(var a=0;a<i;a++)s+=this.charWidths[r[a]];return!this.session.getOverwrite()&&e>n&&r[i]%2==0&&(s+=this.charWidths[r[i]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},e.prototype.getSelections=function(e,t){var n,o=this.bidiMap,i=o.bidiLevels,r=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,d=!1,u=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<i.length;p++)h=o.logicalFromVisual[p],n=i[p],(c=h>=a&&h<l)&&!d?u=s:!c&&d&&r.push({left:u,width:s-u}),s+=this.charWidths[n],d=c;if(c&&p===i.length&&r.push({left:u,width:s-u}),this.isRtlDir)for(var f=0;f<r.length;f++)r[f].left+=this.rtlLineOffset;return r},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),o=0,i=this.bidiMap.bidiLevels,r=this.charWidths[i[o]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+r/2;){if(n+=r,o===i.length-1){r=0;break}r=this.charWidths[i[++o]]}return o>0&&i[o-1]%2!=0&&i[o]%2==0?(e<n&&o--,t=this.bidiMap.logicalFromVisual[o]):o>0&&i[o-1]%2==0&&i[o]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[o]:this.bidiMap.logicalFromVisual[o-1]):this.isRtlDir&&o===i.length-1&&0===r&&i[o-1]%2==0||!this.isRtlDir&&0===o&&i[o]%2!=0?t=1+this.bidiMap.logicalFromVisual[o]:(o>0&&i[o-1]%2!=0&&0!==r&&o--,t=this.bidiMap.logicalFromVisual[o]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent},e}();exports.BidiHandler=i})),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./lib/lang"),o=require("./lib/event_emitter").EventEmitter,i=require("./range").Range,r=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),
t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?i.fromPoints(t,t):this.isBackwards()?i.fromPoints(t,e):i.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,o=t?e.start:e.end;this.$setSelection(n.row,n.column,o.row,o.column)},e.prototype.$setSelection=function(e,t,n,o){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,o),this.$isEmpty=!i.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},e.prototype.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n,o="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(o);return r?(o=r.start.row,n=r.end.row):n=o,!0===t?new i(o,0,n,this.session.getLine(n).length):new i(o,0,n+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var o=e.column,i=e.column+t;return n<0&&(o=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(o,i).split(" ").length-1==t},e.prototype.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),o=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,o.row,o.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(o.column+=i[0].length),this.moveCursorToPosition(o)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var o=n.search(/\s+$/);o>0&&(t.column=o)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),o=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(o)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,o=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(o)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},e.prototype.moveCursorLongWordLeft=function(){var e,t=this.lead.row,o=this.lead.column;if(e=this.session.getFoldAt(t,o,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,o,-1);null==i&&(i=this.doc.getLine(t).substring(0,o));var r=n.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(o-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),o<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(r)&&(o-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,o)}},e.prototype.$shortWordEndIndex=function(e){var t,n=0,o=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&o.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,o.test(t)){if(n>2){n--;break}for(;(t=e[n])&&o.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),o=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var r=this.doc.getLength();do{e++,o=this.doc.getLine(e)}while(e<r&&/^\s*$/.test(o));/^\s+/.test(o)||(o=""),t=0}var s=this.$shortWordEndIndex(o);this.moveCursorTo(e,t+s)},e.prototype.moveCursorShortWordLeft=function(){var e,t=this.lead.row,o=this.lead.column;if(e=this.session.getFoldAt(t,o,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,o);if(0===o){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));o=i.length,/\s+$/.test(i)||(i="")}var r=n.stringReverse(i),s=this.$shortWordEndIndex(r);return this.moveCursorTo(t,o-s)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n,o=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(o.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(o.column),o.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=o.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?o.column=this.$desiredColumn:this.$desiredColumn=o.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var r=this.session.screenToDocumentPosition(o.row+e,o.column,n);0!==e&&0===t&&r.row===this.lead.row&&(r.column,this.lead.column),this.moveCursorTo(r.row,r.column+t,0===t)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var o=this.session.getFoldAt(e,t,1);o&&(e=o.start.row,t=o.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var o=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(o.row,o.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return i.fromPoints(t,n)}catch(e){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},e.prototype.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=i.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();r.prototype.setSelectionAnchor=r.prototype.setAnchor,r.prototype.getSelectionAnchor=r.prototype.getAnchor,r.prototype.setSelectionRange=r.prototype.setRange,t.implement(r.prototype,o),exports.Selection=r})),define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(require,exports,e){"use strict";var t=require("./lib/report_error").reportError,n=2e3,o=function(){function e(e){for(var t in this.splitRegex,this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],o=[],i=0,r=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(r.defaultToken=c.defaultToken),c.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),c.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var d=c.regex,u=new RegExp("(?:("+d+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?d=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(u=1,d=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),r[i]=l,i+=u,o.push(d),c.onMatch||(c.onMatch=null)}}o.length||(r[0]=0,o.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+o.join(")|(")+")|($)",s)}}return e.prototype.$setMaxTokenCount=function(e){n=0|e},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var o=[],i=0,r=n.length;i<r;i++)t[i]&&(o[o.length]={type:n[i],value:t[i]});return o},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],o=this.tokenArray,i=0,r=o.length;i<r;i++)t[i+1]&&(n[n.length]={type:o[i],value:t[i+1]});return n},e.prototype.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},e.prototype.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,o=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,r,s,a,l){return o?o="]"!=a:a?o=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):r&&(n++,1!=r.length&&(i.stack=n,i.start=l)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},e.prototype.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var o=t.slice(0);"#tmp"===(t=o[0])&&(o.shift(),t=o.shift())}else o=[];var i=t||"start",r=this.states[i];r||(i="start",r=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],d=0,u=0,h={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>d){var v=e.substring(d,m-g.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=r[s[y]]).onMatch?f.onMatch(g,i,o,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,o),(r=this.states[i])||(this.reportError("state doesn't exist",i),i="start",r=this.states[i]),s=this.matchMappings[i],d=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(d=m);break}if(g)if("string"==typeof p)f&&!1===f.merge||h.type!==p?(h.type&&c.push(h),h={type:p,value:g}):h.value+=g;else if(p){h.type&&c.push(h),h={type:null,value:""};for(y=0;y<p.length;y++)c.push(p[y])}if(d==e.length)break;if(d=m,u++>n){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});d<e.length;)h.type&&c.push(h),h={value:e.substring(d,d+=500),type:"overflow"};i="start",o=[];break}}return h.type&&c.push(h),o.length>1&&o[0]!==i&&o.unshift("#tmp",i),{tokens:c,state:o.length?o:i}},e}();o.prototype.reportError=t,exports.Tokenizer=o})),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(require,exports,e){"use strict";var t,n=require("../lib/deep_copy").deepCopy;t=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(e,t){if(t)for(var n in e){for(var o=e[n],i=0;i<o.length;i++){var r=o[i];(r.next||r.onMatch)&&("string"==typeof r.next&&0!==r.next.indexOf(t)&&(r.next=t+r.next),r.nextState&&0!==r.nextState.indexOf(t)&&(r.nextState=t+r.nextState))}this.$rules[t+n]=o}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,o,i,r){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],s)i.push(t+l);if(this.addRules(s,t),o){var c=Array.prototype[r?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],n(o))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,o=this.$rules;Object.keys(o).forEach((function i(r){var s=o[r];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var d=l.next||l.push;if(d&&Array.isArray(d)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),o[u]&&(u+=n++)),o[u]=d,l.next=u,i(u)}else"pop"==d&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)o[h]?o[h].push&&o[h].push.apply(o[h],l.rules[h]):o[h]=l.rules[h];var p="string"==typeof l?l:l.include;if(p&&("$self"===p&&(p="start"),c=Array.isArray(p)?p.map((function(e){return o[e]})):o[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,o){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var r=e[t].split(o||"|"),s=r.length;s--;){var a=r[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}.call(t.prototype),exports.TextHighlightRules=t})),define("ace/mode/behaviour",["require","exports","module"],(function(require,exports,e){"use strict";var t;t=function(){this.$behaviours={}},function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}.call(t.prototype),exports.Behaviour=t})),define("ace/token_iterator",["require","exports","module","ace/range"],(function(require,exports,e){"use strict";var t=require("./range").Range,n=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var o=e.getTokenAt(t,n);this.$tokenIndex=o?o.index:-1}return e.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new t(this.$row,n,this.$row,n+e.value.length)},e}();exports.TokenIterator=n})),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(require,exports,e){"use strict";var t,n,o=require("../../lib/oop"),i=require("../behaviour").Behaviour,r=require("../../token_iterator").TokenIterator,s=require("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},d={'"':'"',"'":"'"},u=function(e){var n=-1;if(e.multiSelect&&(n=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[n])return t=c[n];t=c[n]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(e,t,n,o){var i=e.end.row-e.start.row;return{text:n+t+o,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}};(n=function(e){e=e||{},this.add("braces","insertion",(function(o,i,r,a,l){var c=r.getCursorPosition(),d=a.doc.getLine(c.row);if("{"==l){u(r);var p=r.getSelectionRange(),f=a.doc.getTextRange(p);if(""!==f&&"{"!==f&&r.getWrapBehavioursEnabled())return h(p,f,"{","}");if(n.isSaneInsertion(r,a))return/[\]\}\)]/.test(d[c.column])||r.inMultiSelectMode||e.braces?(n.recordAutoInsert(r,a,"}"),{text:"{}",selection:[1,1]}):(n.recordMaybeInsert(r,a,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(u(r),"}"==d.substring(c.column,c.column+1))if(null!==a.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&n.isAutoInsertedClosing(c,d,l))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){u(r);var g="";if(n.isMaybeInsertedClosing(c,d)&&(g=s.stringRepeat("}",t.maybeInsertedBrackets),n.clearMaybeInsertedClosing()),"}"===d.substring(c.column,c.column+1)){var m=a.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!m)return null;var v=this.$getIndent(a.getLine(m.row))}else{if(!g)return void n.clearMaybeInsertedClosing();v=this.$getIndent(d)}var y=v+a.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}n.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,n,o,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){if(u(o),"}"==i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;t.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,o,i,r){if("("==r){u(o);var s=o.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&o.getWrapBehavioursEnabled())return h(s,a,"(",")");if(n.isSaneInsertion(o,i))return n.recordAutoInsert(o,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){u(o);var l=o.getCursorPosition(),c=i.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&n.isAutoInsertedClosing(l,c,r))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,o,i){var r=o.doc.getTextRange(i);if(!i.isMultiLine()&&"("==r&&(u(n),")"==o.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(e,t,o,i,r){if("["==r){u(o);var s=o.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&o.getWrapBehavioursEnabled())return h(s,a,"[","]");if(n.isSaneInsertion(o,i))return n.recordAutoInsert(o,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){u(o);var l=o.getCursorPosition(),c=i.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&n.isAutoInsertedClosing(l,c,r))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,o,i){var r=o.doc.getTextRange(i);if(!i.isMultiLine()&&"["==r&&(u(n),"]"==o.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,o,i){var r=o.$mode.$quotes||d;if(1==i.length&&r[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;u(n);var s=i,a=n.getSelectionRange(),l=o.doc.getTextRange(a);if(!(""===l||1==l.length&&r[l])&&n.getWrapBehavioursEnabled())return h(a,l,s,s);if(!l){var c=n.getCursorPosition(),p=o.doc.getLine(c.row),f=p.substring(c.column-1,c.column),g=p.substring(c.column,c.column+1),m=o.getTokenAt(c.row,c.column),v=o.getTokenAt(c.row,c.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var C=o.$mode.tokenRe;C.lastIndex=0;var x=C.test(f);C.lastIndex=0;var S=C.test(g),_=o.$mode.$pairQuotesAfter;if(!(_&&_[s]&&_[s].test(f))&&x||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var k=p[c.column-2];if(f==s&&(k==s||C.test(k)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,o,i){var r=o.$mode.$quotes||d,s=o.doc.getTextRange(i);if(!i.isMultiLine()&&r.hasOwnProperty(s)&&(u(n),o.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==s))return i.end.column++,i})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,o,i){if("doc-start"===e&&("\n"===i||"\r\n"===i)&&n.selection.isEmpty()){var r=n.getCursorPosition(),s=o.doc.getLine(r.row),a=o.doc.getLine(r.row+1),l=this.$getIndent(s);if(/\s*\*/.test(a))return/^\s*\*/.test(s)?{text:i+l+"* ",selection:[1,3+l.length,1,3+l.length]}:{text:i+l+" * ",selection:[1,3+l.length,1,3+l.length]};if(/\/\*\*/.test(s.substring(0,r.column)))return{text:i+l+" * "+i+" "+l+"*/",selection:[1,4+l.length,1,4+l.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),o=new r(t,n.row,n.column);if(!this.$matchTokenType(o.getCurrentToken()||"text",a)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new r(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",a))return!1}return o.stepForward(),o.getCurrentTokenRow()!==n.row||this.$matchTokenType(o.getCurrentToken()||"text",l)},n.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},n.recordAutoInsert=function(e,n,o){var i=e.getCursorPosition(),r=n.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,t.autoInsertedLineEnd[0])||(t.autoInsertedBrackets=0),t.autoInsertedRow=i.row,t.autoInsertedLineEnd=o+r.substr(i.column),t.autoInsertedBrackets++},n.recordMaybeInsert=function(e,n,o){var i=e.getCursorPosition(),r=n.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(t.maybeInsertedBrackets=0),t.maybeInsertedRow=i.row,t.maybeInsertedLineStart=r.substr(0,i.column)+o,t.maybeInsertedLineEnd=r.substr(i.column),t.maybeInsertedBrackets++},n.isAutoInsertedClosing=function(e,n,o){return t.autoInsertedBrackets>0&&e.row===t.autoInsertedRow&&o===t.autoInsertedLineEnd[0]&&n.substr(e.column)===t.autoInsertedLineEnd},n.isMaybeInsertedClosing=function(e,n){return t.maybeInsertedBrackets>0&&e.row===t.maybeInsertedRow&&n.substr(e.column)===t.maybeInsertedLineEnd&&n.substr(0,e.column)==t.maybeInsertedLineStart},n.popAutoInsertedClosing=function(){t.autoInsertedLineEnd=t.autoInsertedLineEnd.substr(1),t.autoInsertedBrackets--},n.clearMaybeInsertedClosing=function(){t&&(t.maybeInsertedBrackets=0,t.maybeInsertedRow=-1)},o.inherits(n,i),exports.CstyleBehaviour=n})),define("ace/unicode",["require","exports","module"],(function(require,exports,e){"use strict";for(var t=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],n=0,o=[],i=0;i<t.length;i+=2)o.push(n+=t[i]),t[i+1]&&o.push(45,n+=t[i+1]);exports.wordChars=String.fromCharCode.apply(null,o)})),define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(require,exports,e){"use strict";var t,n=require("../config"),o=require("../tokenizer").Tokenizer,i=require("./text_highlight_rules").TextHighlightRules,r=require("./behaviour/cstyle").CstyleBehaviour,s=require("../unicode"),a=require("../lib/lang"),l=require("../token_iterator").TokenIterator,c=require("../range").Range;t=function(){this.HighlightRules=i},function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,o){var i=t.doc,r=!0,s=!0,l=1/0,c=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else g=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),d=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var o=n[1].length,r=n[0].length;h(e,o,r)||" "!=n[0][r-1]||r--,i.removeInLine(t,o,r)}};var u=p+" ",h=(v=function(e,t){r&&!/\S/.test(e)||(h(e,l,l)?i.insertInLine({row:t,column:l},u):i.insertInLine({row:t,column:l},p))},b=function(e,t){return g.test(e)},function(e,t,n){for(var o=0;t--&&" "==e.charAt(t);)o++;if(o%c!=0)return!1;for(o=0;" "==e.charAt(n++);)o++
;return c>2?o%c!=c-1:o%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),m=new RegExp("(?:"+a.escapeRegExp(f)+")\\s*$"),v=function(e,t){b(e,t)||r&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},f),i.insertInLine({row:t,column:l},p))},y=function(e,t){var n;(n=e.match(m))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&i.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var o=t.getTokens(n),i=0;i<o.length;i++)if("comment"===o[i].type)return!0}}function w(e){for(var t=n;t<=o;t++)e(i.getLine(t),t)}var C=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<l&&(l=n),s&&!b(e,t)&&(s=!1)):C>e.length&&(C=e.length)})),l==1/0&&(l=C,r=!1,s=!1),d&&l%c!=0&&(l=Math.floor(l/c)*c),w(s?y:v)},this.toggleBlockComment=function(e,t,n,o){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var r,s,a=(g=new l(t,o.row,o.column)).getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var u,h;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(i.start))){var p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;u=new c(p,f,p,f+i.start.length);break}a=g.stepBackward()}var g;for(a=(g=new l(t,o.row,o.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(i.end))){p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;h=new c(p,f,p,f+i.end.length);break}a=g.stepForward()}h&&t.remove(h),u&&(t.remove(u),r=u.start.row,s=-i.start.length)}else s=i.start.length,r=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);d.start.row==r&&(d.start.column+=s),d.end.row==r&&(d.end.column+=s),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var o=e[t],i=o.prototype.$id,r=n.$modes[i];r||(n.$modes[i]=r=new o),n.$modes[t]||(n.$modes[t]=r),this.$embeds.push(t),this.$modes[t]=r}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],a=function(e){var t,n,o;t=l,n=s[e],o=t[n],t[s[e]]=function(){return this.$delegator(n,arguments,o)}},l=this;for(t=0;t<s.length;t++)a(t)},this.$delegator=function(e,t,n){var o=t[0]||"start";if("string"!=typeof o){if(Array.isArray(o[2])){var i=o[2][o[2].length-1];if(s=this.$modes[i])return s[e].apply(s,[o[1]].concat([].slice.call(t,1)))}o=o[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s,a=o.split(this.$embeds[r]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[r]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,o,i){if(this.$behaviour){var r=this.$behaviour.getBehaviours();for(var s in r)if(r[s][t]){var a=r[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var o in t)for(var i=t[o],r=0,s=i.length;r<s;r++)if("string"==typeof i[r].token)/keyword|support|storage/.test(i[r].token)&&n.push(i[r].regex);else if("object"==typeof i[r].token)for(var a=0,l=i[r].token.length;a<l;a++)if(/keyword|support|storage/.test(i[r].token[a])){o=i[r].regex.match(/\(.+?\)/g)[a];n.push(o.substr(1,o.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,o){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}.call(t.prototype),exports.Mode=t})),define("ace/apply_delta",["require","exports","module"],(function(require,exports,e){"use strict";exports.applyDelta=function(e,t,n){var o=t.start.row,i=t.start.column,r=e[o]||"";switch(t.action){case"insert":if(1===t.lines.length)e[o]=r.substring(0,i)+t.lines[0]+r.substring(i);else{var s=[o,1].concat(t.lines);e.splice.apply(e,s),e[o]=r.substring(0,i)+e[o],e[o+t.lines.length-1]+=r.substring(i)}break;case"remove":var a=t.end.column,l=t.end.row;o===l?e[o]=r.substring(0,i)+r.substring(a):e.splice(o,l-o+1,r.substring(0,i)+e[l].substring(a))}}})),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./lib/event_emitter").EventEmitter,o=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,n){var o="insert"==e.action,r=(o?1:-1)*(e.end.row-e.start.row),s=(o?1:-1)*(e.end.column-e.start.column),a=e.start,l=o?a:e.end;if(i(t,a,n))return{row:t.row,column:t.column};if(i(l,t,!n))return{row:t.row+r,column:t.column+(t.row==l.row?s:0)};return{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},e.prototype.setPosition=function(e,t,n){var o;if(o=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=o.row||this.column!=o.column){var i={row:this.row,column:this.column};this.row=o.row,this.column=o.column,this._signal("change",{old:i,value:o})}},e.prototype.detach=function(){this.document.off("change",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();function i(e,t,n){var o=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&o}o.prototype.$insertRight=!1,t.implement(o.prototype,n),exports.Anchor=o})),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./apply_delta").applyDelta,o=require("./lib/event_emitter").EventEmitter,i=require("./range").Range,r=require("./anchor").Anchor,s=function(){function e(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new r(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},e.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},e.prototype.getLine=function(e){return this.$lines[e]||""},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),o=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:o,action:"insert",lines:[t]},!0),this.clonePos(o)},e.prototype.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var o=this.getLine(e);return null==t&&(t=o.length),{row:e,column:t=Math.min(Math.max(t,0),o.length)}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),o={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:o,action:"insert",lines:t}),this.clonePos(o)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var o=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:o,end:i,action:"remove",lines:this.getLinesForRange({start:o,end:i})},!0),this.clonePos(o)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,o=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=o?t+1:t,l=o?0:this.getLine(a).length,c=new i(r,s,a,l),d=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),d},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(e,t){return e instanceof i||(e=i.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var o="insert"==e.action;(o?e.lines.length<=1&&!e.lines[0]:!i.comparePoints(e.start,e.end))||(o&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(n(this.$lines,e,t),this._signal("change",e)))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,o=n.length-t+1,i=e.start.row,r=e.start.column,s=0,a=0;s<o;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(i+s,r),end:this.pos(i+a,r=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=i+s,e.start.column=r,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,i=t||0,r=n.length;i<r;i++)if((e-=n[i].length+o)<0)return{row:i,column:e+n[i].length+o};return{row:r-1,column:e+n[r-1].length+o}},e.prototype.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,i=0,r=Math.min(e.row,n.length),s=t||0;s<r;++s)i+=n[s].length+o;return i+e.column},e.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},e}();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",t.implement(s.prototype,o),exports.Document=s})),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./lib/event_emitter").EventEmitter,o=function(){function e(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,o=-1,i=n.doc,r=t;n.lines[t];)t++;var s=i.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),o=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==o&&(o=t),r<=o&&n.fireUpdateEvent(r,o)}}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var o=Array(n+1);o.unshift(t,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],o=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=o.state+""?(this.states[e]=o.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=o.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();t.implement(o.prototype,n),exports.BackgroundTokenizer=o})),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(require,exports,e){"use strict";var t=require("./lib/lang"),n=require("./range").Range,o=function(){function e(e,t,n){void 0===n&&(n="text"),this.setRegexp(e),this.clazz=t,this.type=n}return e.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},e.prototype.update=function(e,o,i,r){if(this.regExp)for(var s=r.firstRow,a=r.lastRow,l={},c=s;c<=a;c++){var d=this.cache[c];null==d&&((d=t.getMatchOffsets(i.getLine(c),this.regExp)).length>this.MAX_RANGES&&(d=d.slice(0,this.MAX_RANGES)),d=d.map((function(e){return new n(c,e.offset,c,e.offset+e.length)})),this.cache[c]=d.length?d:"");for(var u=d.length;u--;){var h=d[u].toScreenRange(i),p=h.toString();l[p]||(l[p]=!0,o.drawSingleLineMarker(e,h,this.clazz,r))}}},e}();o.prototype.MAX_RANGES=500,exports.SearchHighlight=o})),define("ace/undomanager",["require","exports","module","ace/range"],(function(require,exports,e){"use strict";var t=function(){function e(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var o=this.$undoStack.length;o>this.$undoDepth-1&&this.$undoStack.splice(0,o-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,o=n.length;o--;){var i=n[o][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){for(var n=this.selections,o=n.length;o--;){var i=n[o];if(i.rev<e)return t&&(i=n[o+1]),i}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,o=null,i=0,r=n.length;r--;){var s=n[r][0];if(s.id<t&&!o&&(o=r+1),s.id<=e){i=r+1;break}}return n.slice(i,o)},e.prototype.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var o=e[n];if(o&&!o[0].ignore){for(;n<t-1;){var i=l(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var o=n.pop(),i=null;return o&&(i=e.undoChanges(o,t),this.$redoStack.push(o),this.$syncRev()),this.$fromUndo=!1,i}},e.prototype.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;i++)p(e,o[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var o=this.$redoStack.pop(),i=null;return o&&(i=e.redoChanges(o,t),this.$undoStack.push(o),this.$syncRev()),this.$fromUndo=!1,i},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?r(e):r(this.$undoStack)+"\n---\n"+r(this.$redoStack)},e}();t.prototype.hasUndo=t.prototype.canUndo,t.prototype.hasRedo=t.prototype.canRedo,t.prototype.isClean=t.prototype.isAtBookmark,t.prototype.markClean=t.prototype.bookmark;var n=require("./range").Range,o=n.comparePoints;n.comparePoints;function i(e){return{row:e.row,column:e.column}}function r(e){if(e=e||this,Array.isArray(e))return e.map(r).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(s).join("\n"):s(e.value)),e.start&&(t+=s(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function s(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function a(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function l(e,t){for(var n=e.length;n--;)for(var o=0;o<t.length;o++)if(!a(e[n],t[o])){for(;n<e.length;){for(;o--;)a(t[o],e[n]);o=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function c(e,t){var i="insert"==e.action,r="insert"==t.action;if(i&&r)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(i&&!r)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,n.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!i&&r)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,n.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!i&&!r)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=h(e,t.start)),o(e.end,t.end)>0&&(a=h(e,t.end)),u(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){u(e.start,t.start,t.end,n),u(e.end,t.start,t.end,n)}function u(e,t,n,o){e.row==(1==o?t:n).row&&(e.column+=o*(n.column-t.column)),e.row+=o*(n.row-t.row)}function h(e,t){var n=e.lines,o=e.end;e.end=i(t);var r=e.end.row-e.start.row,s=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:i(t),end:o,lines:s,action:e.action}}function p(e,t){t=function(e){return{start:i(e.start),end:i(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var o=e[n],r=0;r<o.length;r++){var s=c(o[r],t);t=s[0],2!=s.length&&(s[2]?(o.splice(r+1,1,s[1],s[2]),r++):s[1]||(o.splice(r,1),r--))}o.length||e.splice(n,1)}return e}exports.UndoManager=t})),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(require,exports,e){"use strict";var t=require("../range").Range,n=function(){function e(e,n){this.foldData=e,Array.isArray(n)?this.folds=n:n=this.folds=[n];var o=n[n.length-1];this.range=new t(n[0].start.row,n[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var o,i,r=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(i=(o=s[l]).range.compareStart(t,n)))return void e(null,t,n,r,a);if(!e(null,o.start.row,o.start.column,r,a)&&e(o.placeholder,o.start.row,o.start.column,r)||0===i)return;a=!o.sameRow,r=o.end.column}e(null,t,n,r,a)},e.prototype.getNextFoldTo=function(e,t){for(var n,o,i=0;i<this.folds.length;i++){if(-1==(o=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===o)return{fold:n,kind:"inside"}}return null},e.prototype.addRemoveChars=function(e,t,n){var o,i,r=this.getNextFoldTo(e,t);if(r)if(o=r.fold,"inside"==r.kind&&o.start.column!=t&&o.start.row!=e)window.console&&window.console.log(e,t,o);else if(o.start.row==e){var s=(i=this.folds).indexOf(o);for(0===s&&(this.start.column+=n);s<i.length;s++){if((o=i[s]).start.column+=n,!o.sameRow)return;o.end.column+=n}this.end.column+=n}},e.prototype.split=function(t,n){var o=this.getNextFoldTo(t,n);if(!o||"inside"==o.kind)return null;var i=o.fold,r=this.folds,s=this.foldData,a=r.indexOf(i),l=r[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new e(s,r=r.splice(a,r.length-a));return s.splice(s.indexOf(this)+1,0,c),c},e.prototype.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var o=this.foldData;o.splice(o.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},e.prototype.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var o=this.folds[n];if((e-=o.start.column-t)<0)return{row:o.start.row,column:o.start.column+e};if((e-=o.placeholder.length)<0)return o.start;t=o.end.column}return{row:this.end.row,column:this.end.column+e}},e}();exports.FoldLine=n})),define("ace/range_list",["require","exports","module","ace/range"],(function(require,exports,e){"use strict";var t=require("./range").Range.comparePoints,n=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,n,o){for(var i=this.ranges,r=o||0;r<i.length;r++){var s=i[r],a=t(e,s.end);if(!(a>0)){var l=t(e,s.start);return 0===a?n&&0!==l?-r-2:r:l>0||0===l&&!n?r:-r-1}}return-r-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var o=this.pointIndex(e.end,t,n);return o<0?o=-o-1:o++,this.ranges.splice(n,o-n,e)},e.prototype.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){for(var e,n=[],o=this.ranges,i=(o=o.sort((function(e,n){return t(e.start,n.start)})))[0],r=1;r<o.length;r++){e=i,i=o[r];var s=t(e.end,i.start);s<0||(0!=s||e.isEmpty()||i.isEmpty())&&(t(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),o.splice(r,1),n.push(i),i=e,r--)}return this.ranges=o,n},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var o=this.pointIndex({row:e,column:0});o<0&&(o=-o-1);var i=this.pointIndex({row:t,column:0},o);i<0&&(i=-i-1);for(var r=[],s=o;s<i;s++)r.push(n[s]);return r},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},e.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},e.prototype.$onChange=function(e){for(var t=e.start,n=e.end,o=t.row,i=n.row,r=this.ranges,s=0,a=r.length;s<a;s++){if((d=r[s]).end.row>=o)break}if("insert"==e.action)for(var l=i-o,c=-t.column+n.column;s<a;s++){if((d=r[s]).start.row>o)break;if(d.start.row==o&&d.start.column>=t.column&&(d.start.column==t.column&&this.$bias<=0||(d.start.column+=c,d.start.row+=l)),d.end.row==o&&d.end.column>=t.column){if(d.end.column==t.column&&this.$bias<0)continue;d.end.column==t.column&&c>0&&s<a-1&&d.end.column>d.start.column&&d.end.column==r[s+1].start.column&&(d.end.column-=c),d.end.column+=c,d.end.row+=l}}else for(l=o-i,c=t.column-n.column;s<a;s++){if((d=r[s]).start.row>i)break;d.end.row<i&&(o<d.end.row||o==d.end.row&&t.column<d.end.column)?(d.end.row=o,d.end.column=t.column):d.end.row==i?d.end.column<=n.column?(l||d.end.column>t.column)&&(d.end.column=t.column,d.end.row=t.row):(d.end.column+=c,d.end.row+=l):d.end.row>i&&(d.end.row+=l),d.start.row<i&&(o<d.start.row||o==d.start.row&&t.column<d.start.column)?(d.start.row=o,d.start.column=t.column):d.start.row==i?d.start.column<=n.column?(l||d.start.column>t.column)&&(d.start.column=t.column,d.start.row=t.row):(d.start.column+=c,d.start.row+=l):d.start.row>i&&(d.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){var d;(d=r[s]).start.row+=l,d.end.row+=l}},e}();n.prototype.comparePoints=t,exports.RangeList=n})),define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=function(e){function t(t,n){var o=e.call(this)||this;return o.foldLine=null,o.placeholder=n,o.range=t,o.start=t.start,o.end=t.end,o.sameRow=t.start.row==t.end.row,o.subFolds=o.ranges=[],o}return n(t,e),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},t.prototype.clone=function(){var e=new t(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,i(t.start,n),i(t.end,n);for(var o=e.start.row,r=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(o,r));s++);var l=this.subFolds[s],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}o=e.range.end.row,r=e.range.end.column;var d=s;for(a=-1;d<this.subFolds.length&&1==(a=this.subFolds[d].range.compare(o,r));d++);0==a&&d++;for(var u=this.subFolds.splice(s,d-s,e),h=0==a?u.length-1:u.length,p=c;p<h;p++)e.addSubFold(u[p]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return function(e,t){r(e.start,t),r(e.end,t)}(e,this.start)},t}(require("../range_list").RangeList);function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}exports.Fold=o})),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(require,exports,e){"use strict"
;var t=require("../range").Range,n=require("./fold_line").FoldLine,o=require("./fold").Fold,i=require("../token_iterator").TokenIterator,r=require("../mouse/mouse_event").MouseEvent;exports.Folding=function(){this.getFoldAt=function(e,t,n){var o=this.getFoldLine(e);if(!o)return null;for(var i=o.folds,r=0;r<i.length;r++){var s=i[r].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return i[r]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,o=this.$foldData,i=[];t.column+=1,n.column-=1;for(var r=0;r<o.length;r++){var s=o[r].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=o[r].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var o=0;o<t[n].folds.length;o++)e.push(t[n].folds[o]);return e},this.getFoldStringAt=function(e,t,n,o){if(!(o=o||this.getFoldLine(e)))return null;for(var i,r,s={end:{column:0}},a=0;a<o.folds.length;a++){var l=(r=o.folds[a]).range.compareEnd(e,t);if(-1==l){i=this.getLine(r.start.row).substring(s.end.column,r.start.column);break}if(0===l)return null;s=r}return i||(i=this.getLine(r.start.row).substring(s.end.column)),-1==n?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,o=0;for(t&&(o=n.indexOf(t)),-1==o&&(o=0);o<n.length;o++){var i=n[o];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,o=0;for(t&&(o=n.indexOf(t)),-1==o&&(o=0);o<n.length;o++){var i=n[o];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,o=t-e+1,i=0;i<n.length;i++){var r=n[i],s=r.end.row,a=r.start.row;if(s>=t){a<t&&(a>=e?o-=t-a:o=0);break}s>=e&&(o-=a>=e?s-a:s-e+1)}return o},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var i,r=this.$foldData,s=!1;e instanceof o?i=e:(i=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,d=i.end.column,u=this.getFoldAt(a,l,1),h=this.getFoldAt(c,d,-1);if(u&&h==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),h&&!h.range.isEnd(c,d)&&this.removeFold(h);var p=this.getFoldsInRange(i.range);p.length>0&&(this.removeFolds(p),i.collapseChildren||p.forEach((function(e){i.addSubFold(e)})));for(var f=0;f<r.length;f++){var g=r[f];if(c==g.start.row){g.addFold(i),s=!0;break}if(a==g.end.row){if(g.addFold(i),s=!0,!i.sameRow){var m=r[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new n(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,o=t.end.row,i=this.$foldData,r=t.folds;if(1==r.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))r.pop(),t.end.row=r[r.length-1].end.row,t.end.column=r[r.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))r.shift(),t.start.row=r[0].start.row,t.start.column=r[0].start.column;else if(e.sameRow)r.splice(r.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(r=s.folds).shift(),s.start.row=r[0].start.row,s.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,o):this.$updateRowLengthCache(n,o)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,n){var o,i;if(null==e)o=new t(0,0,this.getLength(),0),null==n&&(n=!0);else if("number"==typeof e)o=new t(e,0,e,this.getLine(e).length);else if("row"in e)o=t.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach((function(e){i=i.concat(this.unfold(e))}),this),i;o=e}for(var r=i=this.getFoldsInRangeList(o);1==i.length&&t.comparePoints(i[0].start,o.start)<0&&t.comparePoints(i[0].end,o.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(o);if(0!=n?this.removeFolds(i):this.expandFolds(i),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,o,i){null==o&&(o=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var r=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<o)){if(t==o){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:r.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,o){var i,r=this.getFoldLine(e);return r?this.getFoldDisplayLine(r,e,t,n,o):(i=this.doc.getLine(e)).substring(o||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var o=t.folds.map((function(e){return e.clone()}));return new n(e,o)}))},this.toggleFold=function(e){var t,n,o=this.selection.getRange();if(o.isEmpty()){var i=o.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==o.comparePoint(n)?o.end=n:(o.start=n,o.start.column++,o.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==o.comparePoint(n)?o.end=n:o.start=n,o.start.column++):o=this.getCommentFoldRange(i.row,i.column)||o}else{var r=this.getFoldsInRange(o);if(e&&r.length)return void this.expandFolds(r);1==r.length&&(t=r[0])}if(t||(t=this.getFoldAt(o.start.row,o.start.column)),t&&t.range.toString()==o.toString())this.expandFold(t);else{var s="...";if(!o.isMultiLine()){if((s=this.getTextRange(o)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,o)}},this.getCommentFoldRange=function(e,n,o){var r=new i(this,e,n),s=r.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var l=new RegExp(a),c=new t;if(1!=o){do{s=r.stepBackward()}while(s&&l.test(s.type)&&!/^comment.end/.test(s.type));s=r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(s.type)?s.value.length:2),r=new i(this,e,n),-1!=o){var d=-1;do{if(s=r.stepForward(),-1==d){var u=this.getState(r.$row);l.test(u)||(d=r.$row)}else if(r.$row>d)break}while(s&&l.test(s.type)&&!/^comment.start/.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(s.type)||(c.end.column+=s.value.length-2),c}},this.foldAll=function(e,t,n,o){null==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var r=e=e||0;r<t;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]&&(!o||o(r))){var s=this.getFoldWidgetRange(r);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(r=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),o=0;o<n.length;o++){var i=n[o];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var o,i=e-1;i>=0;){var r=n[i];if(null==r&&(r=n[i]=this.getFoldWidget(i)),"start"==r){var s=this.getFoldWidgetRange(i);if(o||(o=s),s&&s.end.row>=e)break}i--}return{range:-1!==i&&s,firstRange:o}},this.onFoldWidgetClick=function(e,t){t instanceof r&&(t=t.domEvent);var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var o=t.target||t.srcElement;o&&/ace_fold-widget/.test(o.className)&&(o.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),o=this.getLine(e),i="end"===n?-1:1,r=this.getFoldAt(e,-1===i?0:o.length,i);if(r)return t.children||t.all?this.removeFold(r):this.expandFold(r),r;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(r=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(r.range))return this.removeFold(r),r;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var o=this.getParentFoldRangeData(t,!0);if(n=o.range||o.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var o=Array(n+1);o.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(require,exports,e){"use strict";var t=require("../token_iterator").TokenIterator,n=require("../range").Range;exports.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var o=n.match(/([\(\[\{])|([\)\]\}])/);return o?o[1]?this.$findClosingBracket(o[1],e):this.$findOpeningBracket(o[2],e):null},this.getBracketRange=function(e){var t,o=this.getLine(e.row),i=!0,r=o.charAt(e.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=o.charAt(e.column),e={row:e.row,column:e.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=n.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=n.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var o=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,r=!t&&o.charAt(e.column-1),s=r&&r.match(i);if(s||(r=(void 0===t||t)&&o.charAt(e.column),e={row:e.row,column:e.column+1},s=r&&r.match(i)),!s)return null;var a=new n(e.row,e.column-1,e.row,e.column),l=s[1]?this.$findClosingBracket(s[1],e):this.$findOpeningBracket(s[2],e);return l?[a,new n(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,n,o){var i=this.$brackets[e],r=1,s=new t(this,n.row,n.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){o||(o=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=n.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var d=c.charAt(l);if(d==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(r+=1);l-=1}do{a=s.stepBackward()}while(a&&!o.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,n,o){var i=this.$brackets[e],r=1,s=new t(this,n.row,n.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){o||(o=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=n.column-s.getCurrentTokenColumn();;){for(var c=a.value,d=c.length;l<d;){var u=c.charAt(l);if(u==i){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(r+=1);l+=1}do{a=s.stepForward()}while(a&&!o.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var n=new t(this,e.row,e.column),o=this.$findTagName(n);if(o)return"<"===n.stepBackward().value?this.$findClosingTag(n,o):this.$findOpeningTag(n,o)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,o=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=o?e.stepBackward():e.stepForward())&&("/>"===t.value?o=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var o,i=t.value,r=t.value,s=0,a=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(o=t,t=e.stepForward()){if(">"===t.value&&!c){var d=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(r===(i=t.value))if("<"===o.value)s++;else if("</"===o.value&&--s<0){e.stepBackward();var u=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var h=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var p=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(r===i&&"/>"===t.value&&--s<0)p=h=u=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),d=new n(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(t&&s>=0);if(a&&d&&u&&p&&l&&h)return{openTag:new n(a.start.row,a.start.column,d.end.row,d.end.column),closeTag:new n(u.start.row,u.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:h}},this.$findOpeningTag=function(e,t){var o=e.getCurrentToken(),i=t.value,r=0,s=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new n(s,a,s,l);e.stepForward();var d=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var u=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=o,s=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,o=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===o.value){if(++r>0){var h=new n(s,a,s,l),p=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new n(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===o.value&&r--}else if("/>"===t.value){for(var g=0,m=o;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){r--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var v=0;v<g;v++)e.stepForward()}}while(o&&r<=0);return p&&f&&c&&u&&h&&d?{openTag:new n(p.start.row,p.start.column,f.end.row,f.end.column),closeTag:new n(c.start.row,c.start.column,u.end.row,u.end.column),openTagName:h,closeTagName:d}:void 0}}}})),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./lib/lang"),o=require("./bidihandler").BidiHandler,i=require("./config"),r=require("./lib/event_emitter").EventEmitter,s=require("./selection").Selection,a=require("./mode/text").Mode,l=require("./range").Range,c=require("./document").Document,d=require("./background_tokenizer").BackgroundTokenizer,u=require("./search_highlight").SearchHighlight,h=require("./undomanager").UndoManager,p=function(){function e(t,n){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new a).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",(function(e){r._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new c(t)),this.setDocument(t),this.selection=new s(this),this.$bidiHandler=new o(this),i.resetOptions(this),this.setMode(n),i._signal("session",this),this.destroyed=!1}return e.prototype.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},e.prototype.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){for(var n=0,o=e.length-1;n<=o;){var i=n+o>>1,r=e[i];if(t>r)n=i+1;else{if(!(t<r))return i;o=i-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=new h;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var o=new e(t.value);return t.folds.forEach((function(e){o.addFold("...",l.fromPoints(e.start,e.end))})),o.setAnnotations(t.annotations),o.setBreakpoints(t.breakpoints),o.setMode(t.mode),o.setScrollLeft(t.scrollLeft),o.setScrollTop(t.scrollTop),o.setUndoManager(n),o.selection.fromJSON(t.selection),o},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n,o=this.bgTokenizer.getTokens(e),i=0;if(null==t){var r=o.length-1;i=this.getLine(e).length}else for(r=0;r<o.length&&!((i+=o[r].value.length)>=t);r++);return(n=o[r])?(n.index=r,n.start=i-n.value.length,n):null},e.prototype.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=n.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?n.stringRepeat(" ",this.getTabSize()):"\t"},e.prototype.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption("tabSize",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption("overwrite",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},e.prototype.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.addMarker=function(e,t,n,o){var i=this.$markerId++,r={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!o,id:i};return o?(this.$frontMarkers[i]=r,this._signal("changeFrontMarker")):(this.$backMarkers[i]=r,this._signal("changeBackMarker")),i},e.prototype.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new u(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,o){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new l(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",o),i},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),o=!1;if(t>0&&(o=!!n.charAt(t-1).match(this.tokenRe)),o||(o=!!n.charAt(t).match(this.tokenRe)),o)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var r=t;if(r>0){do{r--}while(r>=0&&n.charAt(r).match(i));r++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new l(e,r,e,s)},e.prototype.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),o=this.getLine(n.end.row);o.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption("useWorker",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},e.prototype.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,o=n.path}else o=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[o]&&!n)return this.$onChangeMode(this.$modes[o]),void(t&&t());this.$modeId=o,i.loadModule(["mode",o],function(e){if(this.$modeId!==o)return t&&t();this.$modes[o]&&!n?this.$onChangeMode(this.$modes[o]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[o]=e,e.$id=o),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},e.prototype.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var o=e.getTokenizer();if(void 0!==o.on){var i=this.onReloadTokenizer.bind(this);o.on("update",i)}this.bgTokenizer.setTokenizer(o),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){i.warn("Could not load worker",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,o=0,i=0,r=this.$foldData[i],s=r?r.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=r.end.row+1)>=a)break;s=(r=this.$foldData[i++])?r.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>o&&(o=n[l])}this.screenWidth=o}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var o=e[n];"insert"==o.action||"remove"==o.action?this.doc.revertDelta(o):o.folds&&this.addFolds(o.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},e.prototype.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var o=e[n];"insert"!=o.action&&"remove"!=o.action||this.doc.$safeApplyDelta(o)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var o,i,r=0;r<e.length;r++){var s=e[r];s.start&&(o?n(s)?(i=s.start,-1==o.compare(i.row,i.column)&&o.setStart(i),i=s.end,1==o.compare(i.row,i.column)&&o.setEnd(i)):(i=s.start,-1==o.compare(i.row,i.column)&&(o=l.fromPoints(s.start,s.start))):o=n(s)?l.fromPoints(s.start,s.end):l.fromPoints(s.start,s.start))}return o},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var o=this.getTextRange(e),i=this.getFoldsInRange(e),r=l.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(d=s?-e.end.column:e.start.column-e.end.column)&&(r.start.row==e.end.row&&r.start.column>e.end.column&&(r.start.column+=d),r.end.row==e.end.row&&r.end.column>e.end.column&&(r.end.column+=d)),s&&r.start.row>=e.end.row&&(r.start.row+=s,r.end.row+=s)}if(r.end=this.insert(r.start,o),i.length){var a=e.start,c=r.start,d=(s=c.row-a.row,c.column-a.column);this.addFolds(i.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=d),e.end.row==a.row&&(e.end.column+=d),e.start.row+=s,e.end.row+=s,e})))}return r},e.prototype.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var o=e;o<=t;o++)this.doc.insertInLine({row:o,column:0},n)},e.prototype.outdentRows=function(e){for(var t=e.collapseRows(),n=new l(0,0,0,0),o=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var r=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<o&&" "==r.charAt(s);++s);s<o&&"\t"==r.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var o=i-e}else if(n>0){var i
;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;o=i-t}else{e=this.$clipRowToDocument(e);o=(t=this.$clipRowToDocument(t))-e+1}var r=new l(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(r).map((function(e){return(e=e.clone()).start.row+=o,e.end.row+=o,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+o,a),s.length&&this.addFolds(s),o},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var o=this.$constrainWrapLimit(e,n.min,n.max);return o!=this.$wrapLimit&&o>1&&(this.$wrapLimit=o,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,o=e.start,i=e.end,r=o.row,s=i.row,a=s-r,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(r,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var d=0;if(g=this.getFoldLine(i.row)){g.addRemoveChars(i.row,i.column,o.column-i.column),g.shiftRow(-a);var u=this.getFoldLine(r);u&&u!==g&&(u.merge(g),g=u),d=c.indexOf(g)+1}for(;d<c.length;d++){(g=c[d]).start.row>=i.row&&g.shiftRow(-a)}s=r}else{var h=Array(a);h.unshift(r,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);c=this.$foldData,d=0;if(g=this.getFoldLine(r)){var f=g.range.compareInside(o.row,o.column);0==f?(g=g.split(o.row,o.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,i.column-o.column)):-1==f&&(g.addRemoveChars(r,0,i.column-o.column),g.shiftRow(a)),d=c.indexOf(g)+1}for(;d<c.length;d++){var g;(g=c[d]).start.row>=r&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(r))&&g.addRemoveChars(r,o.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),l},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n,o,i=this.doc.getAllLines(),r=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,i.length-1);l<=t;)(o=this.getFoldLine(l,o))?(n=[],o.walk(function(e,t,o,r){var s;if(null!=e){(s=this.$getDisplayTokens(e,n.length))[0]=m;for(var a=1;a<s.length;a++)s[a]=v}else s=this.$getDisplayTokens(i[t].substring(r,o),n.length);n=n.concat(s)}.bind(this),o.end.row,i[o.end.row].length+1),s[o.start.row]=this.$computeWrapSplits(n,a,r),l=o.end.row+1):(n=this.$getDisplayTokens(i[l]),s[l]=this.$computeWrapSplits(n,a,r),l++)},e.prototype.$computeWrapSplits=function(e,t,n){if(0==e.length)return[];var o=[],i=e.length,r=0,s=0,a=this.$wrapAsCode,l=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===l?0:Math.floor(t/2);function d(t){for(var i=t-r,d=r;d<t;d++){var h=e[d];12!==h&&2!==h||(i-=1)}o.length||(u=function(){var t=0;if(0===c)return t;if(l)for(var o=0;o<e.length;o++){var i=e[o];if(i==b)t+=1;else{if(i!=w){if(i==C)continue;break}t+=n}}return a&&!1!==l&&(t+=n),Math.min(t,c)}(),o.indent=u),s+=i,o.push(s),r=t}for(var u=0;i-r>t-u;){var h=r+t-u;if(e[h-1]>=b&&e[h]>=b)d(h);else if(e[h]!=m&&e[h]!=v){for(var p=Math.max(h-(t-(t>>2)),r-1);h>p&&e[h]<m;)h--;if(a){for(;h>p&&e[h]<m;)h--;for(;h>p&&e[h]==y;)h--}else for(;h>p&&e[h]<b;)h--;h>p?d(++h):(e[h=r+t]==g&&h--,d(h-u))}else{for(;h!=r-1&&e[h]!=m;h--);if(h>r){d(h);continue}for(h=r+t;h<e.length&&e[h]==v;h++);if(h==e.length)break;d(h)}}return o},e.prototype.$getDisplayTokens=function(e,t){var n,o=[];t=t||0;for(var i=0;i<e.length;i++){var r=e.charCodeAt(i);if(9==r){n=this.getScreenTabSize(o.length+t),o.push(w);for(var s=1;s<n;s++)o.push(C)}else 32==r?o.push(b):r>39&&r<48||r>57&&r<64?o.push(y):r>=4352&&x(r)?o.push(f,g):o.push(f)}return o},e.prototype.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var o,i;for(null==t&&(t=1/0),n=n||0,i=0;i<e.length&&(9==(o=e.charCodeAt(i))?n+=this.getScreenTabSize(n):o>=4352&&x(o)?n+=2:n+=1,!(n>t));i++);return[n,i]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},e.prototype.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var o,i,r=0,s=0,a=0,l=0,c=this.$screenRowCache,d=this.$getRowCacheIndex(c,e),u=c.length;if(u&&d>=0){a=c[d],r=this.$docRowCache[d];var h=e>c[u-1]}else h=!u;for(var p=this.getLength()-1,f=this.getNextFoldLine(r),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(r))>e||r>=p);)a+=l,++r>g&&(r=f.end.row+1,g=(f=this.getNextFoldLine(r,f))?f.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(a));if(f&&f.start.row<=r)o=this.getFoldDisplayLine(f),r=f.start.row;else{if(a+l<=e||r>p)return{row:p,column:this.getLine(p).length};o=this.getLine(r),f=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[r];y&&(i=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],o=o.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,r,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(o,t-m)[1],this.$useWrapMode&&s>=i&&(s=i-1),f?f.idxToPosition(s):{row:r,column:s}},e.prototype.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var o,i=0,r=null;(o=this.getFoldAt(e,t,1))&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),d=l.length;if(d&&c>=0){a=l[c],i=this.$screenRowCache[c];var u=e>l[d-1]}else u=!d;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;a<e;){if(a>=p){if((s=h.end.row+1)>e)break;p=(h=this.getNextFoldLine(s,h))?h.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),r=h.start.row):(f=this.getLine(e).substring(0,t),r=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var v=0;f.length>=m[v];)i++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(i+=this.lineWidgets[a].rowsAbove),{row:i,column:g+this.$getStringScreenWidth(f)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,o=0,i=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);o<n;){var r=this.$wrapData[o];e+=r?r.length+1:1,++o>i&&(o=t.end.row+1,i=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,o){if(0===n)return[0,0];var i,r;for(n||(n=1/0),o=o||0,r=0;r<t.length&&!((o+="\t"===(i=t.charAt(r))?this.getScreenTabSize(o):e.getCharacterWidth(i))>n);r++);return[o,r]})},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},e}();p.$uid=0,p.prototype.$modes=i.$modes,p.prototype.getValue=p.prototype.toString,p.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},p.prototype.$overwrite=!1,p.prototype.$mode=null,p.prototype.$modeId=null,p.prototype.$scrollTop=0,p.prototype.$scrollLeft=0,p.prototype.$wrapLimit=80,p.prototype.$useWrapMode=!1,p.prototype.$wrapLimitRange={min:null,max:null},p.prototype.lineWidgets=null,p.prototype.isFullWidth=x,t.implement(p.prototype,r);var f=1,g=2,m=3,v=4,y=9,b=10,w=11,C=12;function x(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}require("./edit_session/folding").Folding.call(p.prototype),require("./edit_session/bracket_match").BracketMatch.call(p.prototype),i.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),exports.EditSession=p})),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(require,exports,e){"use strict";var t=require("./lib/lang"),n=require("./lib/oop"),o=require("./range").Range,i=function(){function e(){this.$options={}}return e.prototype.set=function(e){return n.mixin(this.$options,e),this},e.prototype.getOptions=function(){return t.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))||(i=null,!1)})),i},e.prototype.findAll=function(e){var n=this.$options;if(!n.needle)return[];this.$assembleRegExp(n);var i=n.range,r=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=n.re;if(n.$isMultiLine){var l,c=a.length,d=r.length-c;e:for(var u=a.offset||0;u<=d;u++){for(var h=0;h<c;h++)if(-1==r[u+h].search(a[h]))continue e;var p=r[u],f=r[u+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===u&&l.end.column>g||(s.push(l=new o(u,g,u+c-1,m)),c>2&&(u=u+c-2))}}else for(var v=0;v<r.length;v++){var y=t.getMatchOffsets(r[v],a);for(h=0;h<y.length;h++){var b=y[h];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(i){var w=i.start.column,C=i.end.column;for(v=0,h=s.length-1;v<h&&s[v].start.column<w&&0==s[v].start.row;)v++;for(var x=i.end.row-i.start.row;v<h&&s[h].end.column>C&&s[h].end.row==x;)h--;for(s=s.slice(v,h+1),v=0,h=s.length;v<h;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},e.prototype.replace=function(e,t){var n=this.$options,o=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(o){var i=o.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(o,t),n.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var s=e[r];s&&s.toLowerCase()!=s?t[r]=t[r].toUpperCase():t[r]=t[r].toLowerCase()}t=t.join("")}return t}},e.prototype.$assembleRegExp=function(e,n){if(e.needle instanceof RegExp)return e.re=e.needle;var o=e.needle;if(!e.needle)return e.re=!1;e.regExp||(o=t.escapeRegExp(o));var i=e.caseSensitive?"gm":"gmi";try{new RegExp(o,"u"),e.$supportsUnicodeFlag=!0,i+="u"}catch(t){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(o=function(e,n){var o=t.supportsLookbehind();function i(e,t){return void 0===t&&(t=!0),(o&&n.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||n.regExp?o&&n.$supportsUnicodeFlag?t?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var r=Array.from(e),s=r[0],a=r[r.length-1];return i(s)+e+i(a,!1)}(o,e)),e.$isMultiLine=!n&&/[\n\r]/.test(o),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(o,i);try{var r=new RegExp(o,i)}catch(e){r=!1}return e.re=r},e.prototype.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),o=[],i=0;i<n.length;i++)try{o.push(new RegExp(n[i],t))}catch(e){return!1}return o},e.prototype.$matchIterator=function(e,n){var o=this.$assembleRegExp(n);if(!o)return!1;var i=1==n.backwards,r=0!=n.skipCurrent,s=o.unicode,a=n.range,l=n.start;l||(l=a?a[i?"end":"start"]:e.selection.getRange()),l.start&&(l=l[r!=i?"end":"start"]);var c=a?a.start.row:0,d=a?a.end.row:e.getLength()-1;if(i)var u=function(e){var t=l.row;if(!p(t,l.column,e)){for(t--;t>=c;t--)if(p(t,Number.MAX_VALUE,e))return;if(0!=n.wrap)for(t=d,c=l.row;t>=c;t--)if(p(t,Number.MAX_VALUE,e))return}};else u=function(e){var t=l.row;if(!p(t,l.column,e)){for(t+=1;t<=d;t++)if(p(t,0,e))return;if(0!=n.wrap)for(t=c,d=l.row;t<=d;t++)if(p(t,0,e))return}};if(n.$isMultiLine)var h=o.length,p=function(t,n,r){var s=i?t-h+1:t;if(!(s<0||s+h>e.getLength())){var a=e.getLine(s),l=a.search(o[0]);if(!(!i&&l<n||-1===l)){for(var c=1;c<h;c++)if(-1==(a=e.getLine(s+c)).search(o[c]))return;var d=a.match(o[h-1])[0].length;if(!(i&&d>n))return!!r(s,l,s+h-1,d)||void 0}}};else if(i)p=function(n,i,r){var a,l=e.getLine(n),c=[],d=0;for(o.lastIndex=0;a=o.exec(l);){var u=a[0].length;if(d=a.index,!u){if(d>=l.length)break;o.lastIndex=d+=t.skipEmptyMatch(l,d,s)}if(a.index+u>i)break;c.push(a.index,u)}for(var h=c.length-1;h>=0;h-=2){var p=c[h-1];if(r(n,p,n,p+(u=c[h])))return!0}};else p=function(n,i,r){var a,l,c=e.getLine(n);for(o.lastIndex=i;l=o.exec(c);){var d=l[0].length;if(r(n,a=l.index,n,a+d))return!0;if(!d&&(o.lastIndex=a+=t.skipEmptyMatch(c,a,s),a>=c.length))return!1}};return{forEach:u}},e}();exports.Search=i})),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=require("../lib/keys"),i=require("../lib/useragent"),r=o.KEY_MODS,s=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var o=this.commandKeyBinding;for(var i in o){var r=o[i];if(r==e)delete o[i];else if(Array.isArray(r)){var s=r.indexOf(e);-1!=s&&(r.splice(s,1),1==r.length&&(o[i]=r[0]))}}},e.prototype.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var o="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=r[t.hashId]+t.key;o+=(o?" ":"")+n,this._addCommandToBinding(o,"chainKeys")}),this),o+=" "}var s=this.parseKeys(e),a=r[s.hashId]+s.key;this._addCommandToBinding(o+a,t,n)}),this)},e.prototype._addCommandToBinding=function(e,t,n){var o,i=this.commandKeyBinding;if(t)if(!i[e]||this.$singleCommand)i[e]=t;else{Array.isArray(i[e])?-1!=(o=i[e].indexOf(t))&&i[e].splice(o,1):i[e]=[i[e]],"number"!=typeof n&&(n=a(t));var r=i[e];for(o=0;o<r.length;o++){if(a(r[o])>n)break}r.splice(o,0,t)}else delete i[e]},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=o[n];if(o.FUNCTION_KEYS[i])n=o.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=t.length;s--;){var a=o.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;r|=a}return{key:n,hashId:r}},e.prototype.findKeyCommand=function(e,t){var n=r[e]+t;return this.commandKeyBinding[n]},e.prototype.handleKeyboard=function(e,t,n,o){if(!(o<0)){var i=r[t]+n,s=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||o>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:s}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},e.prototype.getStatusText=function(e,t){return t.$keyChain||""},e}();function a(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var l=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.$singleCommand=!0,o}return n(t,e),t}(s);l.call=function(e,t,n){s.prototype.$init.call(e,t,n,!0)},s.call=function(e,t,n){s.prototype.$init.call(e,t,n,!1)},exports.HashHandler=l,exports.MultiHashHandler=s})),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=require("../lib/oop"),i=require("../keyboard/hash_handler").MultiHashHandler,r=require("../lib/event_emitter").EventEmitter,s=function(e){function t(t,n){var o=e.call(this,n,t)||this;return o.byName=o.commands,o.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),o}return n(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var o=e.length;o--;)if(this.exec(e[o],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},t.prototype.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))},t}(i);o.implement(s.prototype,r),exports.CommandManager=s})),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(require,exports,e){"use strict";var t=require("../lib/lang"),n=require("../config"),o=require("../range").Range;function i(e,t){return{win:e,mac:t}}exports.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){n.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(e){n.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(e){n.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){n.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",
bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){n.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,n){e.insert(t.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:i("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(e){for(var n=e.selection.isBackwards(),i=n?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=n?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),c=i.row+1;c<=r.row+1;c++){var d=t.stringTrimLeft(t.stringTrimRight(e.session.doc.getLine(c)));0!==d.length&&(d=" "+d),l+=d}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(s=e.session.doc.getLine(i.row).length>s?s+1:s,e.selection.moveCursorTo(i.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:i("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var r=1;r<9;r++)exports.commands.push({name:"foldToLevel"+r,description:"Fold To Level "+r,level:r,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("./lib/dom"),n=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},e.prototype.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var o=e.data,i=o.start.row,r=o.end.row,s="add"==e.action,a=i+1;a<r;a++)n[a]&&(n[a].hidden=s);n[r]&&(s?n[i]?n[r].hidden=s:n[i]=n[r]:(n[i]==n[r]&&(n[i]=void 0),n[r].hidden=s))}},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,o=e.end.row-n;if(0===o);else if("remove"==e.action){var i=t.splice(n+1,o);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var r=new Array(o);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,r.unshift(n,0),t.splice.apply(t,r),this.$updateRows()}}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var n=this.editor.renderer;e.html&&!e.el&&(e.el=t.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=t.createElement("div"),e.el.textContent=e.text),e.el&&(t.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&t.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",n.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var o=this.session.getFoldAt(e.row,0);if(e.$fold=o,o){var i=this.session.lineWidgets;e.row!=o.end.row||i[o.start.row]?e.hidden=!0:i[o.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],o=[];n;)o.push(n),n=n.$oldWidget;return o},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,o=t.layerConfig;if(n&&n.length){for(var i=1/0,r=0;r<n.length;r++){var s=n[r];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/o.characterWidth));var a=s.h/o.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,o=this.session.lineWidgets;if(o){for(var i=Math.min(this.firstRow,n.firstRow),r=Math.max(this.lastRow,n.lastRow,o.length);i>0&&!o[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=r;s++){var a=o[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}},e}();exports.LineWidgets=n})),define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(require,exports,e){"use strict";var t=require("../lib/keys"),n=require("../mouse/default_gutter_handler").GutterTooltip,o=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new n(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===t.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=t.enter)return;e.preventDefault();var n=this.editor.getCursorPosition().row;return this.editor.isRowVisible(n)||this.editor.scrollToLine(n,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return null===t&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===n?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-e)<Math.abs(t-e)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new i(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==t.tab){if(e.keyCode===t.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==t.up)if(e.keyCode!==t.down){if(e.keyCode===t.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===t.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==t.enter&&e.keyCode!==t.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var n=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==n&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(n),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var o=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),i=this.annotationTooltip.getElement().style;i.left=o.right+"px",i.top=o.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},e.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n},e.prototype.$getFoldWidget=function(e){return this.lines.get(e).element.childNodes[1]},e.prototype.$getAnnotation=function(e){return this.lines.get(e).element.childNodes[2]},e.prototype.$findNearestFoldWidget=function(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusAnnotation=function(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveFoldWidgetDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveAnnotationUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$moveAnnotationDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$switchLane=function(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){if(this.lines.get(t).row==e)return t}return null},e}();exports.GutterKeyboardHandler=o;var i=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return t.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},e.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},e}();exports.GutterKeyboardEvent=i})),define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(require,exports,e){"use strict";var t=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=require("./lib/oop"),o=require("./lib/dom"),i=require("./lib/lang"),r=require("./lib/useragent"),s=require("./keyboard/textinput").TextInput,a=require("./mouse/mouse_handler").MouseHandler,l=require("./mouse/fold_handler").FoldHandler,c=require("./keyboard/keybinding").KeyBinding,d=require("./edit_session").EditSession,u=require("./search").Search,h=require("./range").Range,p=require("./lib/event_emitter").EventEmitter,f=require("./commands/command_manager").CommandManager,g=require("./commands/default_commands").commands,m=require("./config"),v=require("./token_iterator").TokenIterator,y=require("./line_widgets").LineWidgets,b=require("./keyboard/gutter_handler").GutterKeyboardHandler,w=require("./config").nls,C=require("./clipboard"),x=require("./lib/keys"),S=function(){function e(t,n,o){this.session,this.$toDestroy=[];var h=t.getContainerElement();this.container=h,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new f(r.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new l(this)),this.keyBinding=new c(this),this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=i.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||o&&o.session||new d("")),m.resetOptions(this),o&&this.setOptions(o),m._signal("editor",this)}return e.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=i.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},e.prototype.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var o=this.selection.getRange(),i=this.renderer.layerConfig;(o.start.row>=i.lastRow||o.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var r=this.selection.toJSON();this.curOp.selectionAfter=r,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(r),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,o=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),o=o&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else o=o&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(o=!1),o?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},e.prototype.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;m.loadModule(["keybinding",e],(function(o){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(o&&o.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){
return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e){this.renderer.setStyle(e)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption("fontSize",e)},e.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),o=e.getKeyboardHandler(),i=o&&o.$getDirectionForHighlight&&o.$getDirectionForHighlight(e),r=t.getMatchingBracketRanges(n,i);if(!r){var s=new v(t,n.row,n.column).getCurrentToken();if(s&&/\b(?:tag-open|tag-name)/.test(s.type)){var a=t.getMatchingTags(n);a&&(r=[a.openTagName,a.closeTagName])}}if(!r&&t.$mode.getMatching&&(r=t.$mode.getMatching(e.session)),r){var l="ace_bracket";Array.isArray(r)?1==r.length&&(l="ace_error_bracket"):r=[r],2==r.length&&(0==h.comparePoints(r[0].end,r[1].start)?r=[h.fromPoints(r[0].start,r[1].end)]:0==h.comparePoints(r[0].start,r[1].end)&&(r=[h.fromPoints(r[1].start,r[0].end)])),t.$bracketHighlight={ranges:r,markerIds:r.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},e.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},e.prototype.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},e.prototype.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),o=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",o)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,o=t.end.column,i=e.getLine(t.start.row),r=i.substring(n,o);if(!(r.length>5e3)&&/[\w\d]/.test(r)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:r}),a=i.substring(n-1,o+1);if(s.test(a))return s}}},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var o=this.selection.getAllRanges(),i=0;i<o.length;i++){var r=o[i];i&&o[i-1].start.row==r.start.row||(e+=this.session.getLine(r.start.row)+t)}}var s={text:e};return this._signal("copy",s),C.lineMode=!!n&&s.text,s.text},e.prototype.onCopy=function(){this.commands.exec("copy",this)},e.prototype.onCut=function(){this.commands.exec("cut",this)},e.prototype.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},e.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===C.lineMode,o=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?o.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){o.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges,s=!(2!=i.length||i[0]&&i[1]);if(i.length!=r.length||s)return this.commands.exec("insertstring",this,t);for(var a=r.length;a--;){var l=r[a];l.isEmpty()||o.remove(l),o.insert(l.start,i[a])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,o=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var r=o.transformAction(n.getState(i.row),"insertion",this,n,e);r&&(e!==r.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=r.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=h.fromPoints(i,i)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,d=n.getState(i.row),u=(a=n.getLine(i.row),o.checkOutdent(d,a,e));if(n.insert(i,e),r&&r.selection&&(2==r.selection.length?this.selection.setSelectionRange(new h(i.row,c+r.selection[0],i.row,c+r.selection[1])):this.selection.setSelectionRange(new h(i.row+r.selection[0],r.selection[1],i.row+r.selection[2],r.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var p=o.getNextLineIndent(d,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},p)}u&&o.autoOutdent(d,n,i.row)}},e.prototype.autoIndent=function(){var e,t,n=this.session,o=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var i=this.getSelectionRange();e=i.start.row,t=i.end.row}for(var r,s,a,l="",c="",d="",u=n.getTabString(),p=e;p<=t;p++)p>0&&(l=n.getState(p-1),c=n.getLine(p-1),d=o.getNextLineIndent(l,c,u)),r=n.getLine(p),d!==(s=o.$getIndent(r))&&(s.length>0&&(a=new h(p,0,p,s.length),n.remove(a)),d.length>0&&n.insert({row:p,column:0},d)),o.autoOutdent(l,n,p)},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},e.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},e.prototype.setDragDelay=function(e){this.setOption("dragDelay",e)},e.prototype.getDragDelay=function(){return this.getOption("dragDelay")},e.prototype.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},e.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},e.prototype.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption("readOnly",e)},e.prototype.getReadOnly=function(){return this.getOption("readOnly")},e.prototype.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},e.prototype.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,o=n.getState(t.start.row),i=n.getMode().transformAction(o,"deletion",this,n,t);if(0===t.end.column){var r=n.getTextRange(t);if("\n"==r[r.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.session.widgetManager||(this.session.widgetManager=new y(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,o,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),o=new h(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),o=new h(e.row,t-2,e.row,t)),this.session.replace(o,n),this.session.selection.moveToPosition(o.end)}}},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){d=this.$getSelectedRows();return void e.indentRows(d.first,d.last,"\t")}}var o=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=i.stringRepeat(" ",l);else{for(l=a%s;" "==o[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var d=this.$getSelectedRows();e.indentRows(d.first,d.last,"\t")},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],o=e.first;o<=e.last;o++)n.push(t.getLine(o));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new h(0,0,0,0);for(o=e.first;o<=e.last;o++){var r=t.getLine(o);i.start.row=o,i.end.row=o,i.end.column=r.length,t.replace(i,n[o-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var o=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(o);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,o=new h(t,n-1,t,n),i=this.session.getTextRange(o);if(!isNaN(parseFloat(i))&&isFinite(i)){var r=this.getNumberAt(t,n);if(r){var s=r.value.indexOf(".")>=0?r.start+r.value.indexOf(".")+1:r.end,a=r.start+r.value.length-s,l=parseFloat(r.value);l*=Math.pow(10,a),s!==r.end&&n<s?e*=Math.pow(10,r.end-n-1):e*=Math.pow(10,r.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),d=new h(t,r.start,t,r.end);this.session.replace(d,c),this.moveCursorTo(t,Math.max(r.start+1,n+c.length-r.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),o=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-o-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,i){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+o),c.selection.selectTo(e,l+o)),a=l}));for(var d,u=this.$toggleWordPairs,h=0;h<u.length;h++)for(var p=u[h],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+i.escapeRegExp(p[f])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+i.escapeRegExp(m[1])+")($|\\s)","g"))&&(d=n.replace(new RegExp(i.escapeRegExp(p[f]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(d),d="")}},e.prototype.findLinkAt=function(e,n){var o,i,r=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),s=n;s<0&&(s=0);var a,l=0,c=0;try{for(var d=t(r),u=d.next();!u.done;u=d.next()){var h=u.value;if(c=l+h.length,s>=l&&s<=c&&h.match(/((?:https?|ftp):\/\/[\S]+)/)){a=h.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return a},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),o=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var r=o?n.start:n.end,s=t.insert(r,t.getTextRange(n));n.start=r,n.end=s,e.setSelectionRange(n,o)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,o,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var r=i.toOrientedRange();n=this.$getSelectedRows(r),o=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(o=0),r.moveBy(o,0),i.fromOrientedRange(r)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,d=0;d<c;d++){var u=d;s[d].moveBy(a,0);for(var h=(n=this.$getSelectedRows(s[d])).first,p=n.last;++d<c;){l&&s[d].moveBy(l,0);var f=this.$getSelectedRows(s[d]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(d--,a=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(u=d+1);u<=d;)s[u].moveBy(a,0),u++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,o=this.renderer.layerConfig,i=e*Math.floor(o.height/o.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var r=n.scrollTop;n.scrollBy(0,i*o.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(r)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,o){this.renderer.scrollToLine(e,t,n,o)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),o=new v(this.session,n.row,n.column),i=o.getCurrentToken(),r=0;i&&-1!==i.type.indexOf("tag-name")&&(i=o.stepBackward());var s=i||o.stepForward();if(s){var a,l,c=!1,d={},u=n.column-s.start,p={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;u<s.value.length&&!c;u++)if(p[s.value[u]])switch(l=p[s.value[u]]+"."+s.type.replace("rparen","lparen"),isNaN(d[l])&&(d[l]=0),s.value[u]){case"(":case"[":case"{":d[l]++;break;case")":case"]":case"}":d[l]--,-1===d[l]&&(a="bracket",c=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(d[s.value])&&(d[s.value]=0),"<"===i.value&&r>1?d[s.value]++:"</"===i.value&&d[s.value]--,-1===d[s.value]&&(a="tag",c=!0));c||(i=s,r++,s=o.stepForward(),u=0)}while(s&&!c);if(a){var f,g;if("bracket"===a)(f=this.session.getBracketRange(n))||(g=(f=new h(o.getCurrentTokenRow(),o.getCurrentTokenColumn()+u-1,o.getCurrentTokenRow(),o.getCurrentTokenColumn()+u-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(f=this.session.getBracketRange(g)));else if("tag"===a){if(!s||-1===s.type.indexOf("tag-name"))return;if(0===(f=new h(o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2,o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(f=m.closeTag).start:(f=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?f.end:f.start))}g=g||f.start}(g=f&&f.cursor||g)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),o=0;return n?(this.$tryReplace(n,e)&&(o=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),o):o},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),o=0;if(!n.length)return o;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=n.length-1;r>=0;--r)this.$tryReplace(n[r],e)&&o++;return this.selection.setSelectionRange(i),o},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,o){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var r=this.$search.find(this.session);return t.preventScroll?r:r?(this.revealRange(r,o),r):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e)
;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,o=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var r=this.on("changeSelection",(function(){o=!0})),s=this.renderer.on("beforeRender",(function(){o&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(o&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,r=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=r.top-s.offset;null!=(o=r.top>=0&&a+t.top<0||!(r.top<s.height&&r.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=r.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(o)),o=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",r),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},e.prototype.prompt=function(e,t,n){var o=this;m.loadModule("ace/ext/prompt",(function(i){i.prompt(o,e,t,n)}))},e}();S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],n.implement(S.prototype,p),m.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?_.attach(this):_.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},o=function(e){if(e.target==this.renderer.scroller&&e.keyCode===x.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(r.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",w("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",w("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",o.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",w("editor")),this.renderer.$gutter.setAttribute("aria-label",w("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new b(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",o.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"Â·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};exports.Editor=S})),define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){t.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var o=t.firstRowScreen*t.lineHeight,i=Math.floor(o/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var n=t.createFragment(this.element),o=0;o<e.length;o++)n.appendChild(e[o].element);this.element.appendChild(n)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var n=t.createFragment(this.element),o=0;o<e.length;o++)n.appendChild(e[o].element);this.element.firstChild?this.element.insertBefore(n,this.element.firstChild):this.element.appendChild(n)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},e.prototype.createCell=function(e,n,o,i){var r=this.cellCache.pop();if(!r){var s=t.createElement("div");i&&i(s),this.element.appendChild(s),r={element:s,text:"",row:e}}return r.row=e,r},e}();exports.Lines=n})),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=require("../lib/oop"),o=require("../lib/lang"),i=require("../lib/event_emitter").EventEmitter,r=require("./lines").Lines,s=require("../config").nls,a=function(){function e(e){this.element=t.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new r(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[],type:[]});var s=n.text,a=n.type;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&(r.text.push(s),r.type.push(a));var l=n.className;l?r.className=l:"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},e.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var o=new Array(n+1);o.unshift(t,1),this.$annotations.splice.apply(this.$annotations,o)}}},e.prototype.update=function(e){this.config=e;var t=this.session,n=e.firstRow,o=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=o,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var i=t.getNextFoldLine(n),r=i?i.start.row:1/0,s=null,a=-1,c=n;;){if(c>r&&(c=i.end.row+1,r=(i=t.getNextFoldLine(c,i))?i.start.row:1/0),c>o){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=c:(s=this.$lines.createCell(c,e,this.session,l),this.$lines.push(s)),this.$renderCell(s,e,i,c),c++}this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,o=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+o-1);var r=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(r+=s.left+s.right)===this.gutterWidth||isNaN(r)||(this.gutterWidth=r,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",r))},e.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},e.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var o=t[n];if(o.row>=this.$cursorRow){if(o.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;o=t[n-1]}o.element.className="ace_gutter-active-line "+o.element.className,this.$cursorCell=o;break}}}}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),o=this.oldLastRow;if(this.oldLastRow=n,!t||o<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(o>n)for(i=this.session.getFoldedRowCount(n+1,o);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>o&&this.$lines.push(this.$renderLines(e,o+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,n){for(var o=[],i=t,r=this.session.getNextFoldLine(i),s=r?r.start.row:1/0;i>s&&(i=r.end.row+1,s=(r=this.session.getNextFoldLine(i,r))?r.start.row:1/0),!(i>n);){var a=this.$lines.createCell(i,e,this.session,l);this.$renderCell(a,e,r,i),o.push(a),i++}return o},e.prototype.$renderCell=function(e,n,o,i){var r=e.element,a=this.session,l=r.childNodes[0],c=r.childNodes[1],d=r.childNodes[2],u=d.firstChild,h=a.$firstLineNumber,p=a.$breakpoints,f=a.$decorations,g=a.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&a.foldWidgets,v=o?o.start.row:Number.MAX_VALUE,y=n.lineHeight+"px",b=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",w=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",C=(g?g.getText(a,i):i+h).toString();if(this.$highlightGutterLine&&(i==this.$cursorRow||o&&i<this.$cursorRow&&i>=v&&this.$cursorRow<=o.end.row)&&(b+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),p[i]&&(b+=p[i]),f[i]&&(b+=f[i]),this.$annotations[i]&&i!==v&&(b+=this.$annotations[i].className),m){var x=m[i];null==x&&(x=m[i]=a.getFoldWidget(i))}if(x){var S="ace_fold-widget ace_"+x,_="start"==x&&i==v&&i<o.end.row;if(_){S+=" ace_closed";for(var k="",E=!1,A=i+1;A<=o.end.row;A++)if(this.$annotations[A]){if(" ace_error"===this.$annotations[A].className){E=!0,k=" ace_error_fold";break}" ace_warning"!==this.$annotations[A].className||(E=!0,k=" ace_warning_fold")}b+=k}else S+=" ace_open";c.className!=S&&(c.className=S),t.setStyle(c.style,"height",y),t.setStyle(c.style,"display","inline-block"),c.setAttribute("role","button"),c.setAttribute("tabindex","-1");var T=a.getFoldWidgetRange(i);T?c.setAttribute("aria-label",s("Toggle code folding, rows $0 through $1",[T.start.row+1,T.end.row+1])):o?c.setAttribute("aria-label",s("Toggle code folding, rows $0 through $1",[o.start.row+1,o.end.row+1])):c.setAttribute("aria-label",s("Toggle code folding, row $0",[i+1])),_?(c.setAttribute("aria-expanded","false"),c.setAttribute("title",s("Unfold code"))):(c.setAttribute("aria-expanded","true"),c.setAttribute("title",s("Fold code")))}else c&&(t.setStyle(c.style,"display","none"),c.setAttribute("tabindex","0"),c.removeAttribute("role"),c.removeAttribute("aria-label"));return E&&this.$showFoldedAnnotations?(d.className="ace_gutter_annotation",u.className=w,u.className+=k,t.setStyle(u.style,"height",y),t.setStyle(d.style,"display","block"),t.setStyle(d.style,"height",y),d.setAttribute("aria-label",s("Read annotations row $0",[C])),d.setAttribute("tabindex","-1"),d.setAttribute("role","button")):this.$annotations[i]?(d.className="ace_gutter_annotation",u.className=w,this.$useSvgGutterIcons?u.className+=this.$annotations[i].className:r.classList.add(this.$annotations[i].className.replace(" ","")),t.setStyle(u.style,"height",y),t.setStyle(d.style,"display","block"),t.setStyle(d.style,"height",y),d.setAttribute("aria-label",s("Read annotations row $0",[C])),d.setAttribute("tabindex","-1"),d.setAttribute("role","button")):(t.setStyle(d.style,"display","none"),d.removeAttribute("aria-label"),d.removeAttribute("role"),d.setAttribute("tabindex","0")),C!==l.data&&(l.data=C),r.className!=b&&(r.className=b),t.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,n,a)+"px"),t.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,n,a)+"px"),e.text=C,"none"===d.style.display&&"none"===c.style.display?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?t.addCssClass(this.element,"ace_folding-enabled"):t.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=t.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0},e}();function l(e){var n=document.createTextNode("");e.appendChild(n);var o=t.createElement("span");e.appendChild(o);var i=t.createElement("span");e.appendChild(i);var r=t.createElement("span");return i.appendChild(r),e}a.prototype.$fixedWidth=!1,a.prototype.$highlightGutterLine=!0,a.prototype.$renderer="",a.prototype.$showLineNumbers=!0,a.prototype.$showFoldWidgets=!0,n.implement(a.prototype,i),exports.Gutter=a})),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("../range").Range,n=require("../lib/dom"),o=function(){function e(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var o=this.markers[n];if(o.range){var i=o.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),o.renderer){var r=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;o.renderer(t,i,s,r,e)}else"fullLine"==o.type?this.drawFullLineMarker(t,i,o.clazz,e):"screenLine"==o.type?this.drawScreenLineMarker(t,i,o.clazz,e):i.isMultiLine()?"text"==o.type?this.drawTextMarker(t,i,o.clazz,e):this.drawMultiLineMarker(t,i,o.clazz,e):this.drawSingleLineMarker(t,i,o.clazz+" ace_start ace_br15",e)}else o.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,n,o,i,r){for(var s=this.session,a=n.start.row,l=n.end.row,c=a,d=0,u=0,h=s.getScreenLastRowColumn(c),p=new t(c,n.start.column,c,u);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?n.start.column:s.getRowWrapIndent(c),p.end.column=h,d=u,u=h,h=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:n.end.column,this.drawSingleLineMarker(e,p,o+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&n.start.column?1:0)|(d<u?2:0)|(u>h?4:0)|(c==l?8:0)),i,c==l?0:1,r)},e.prototype.drawMultiLineMarker=function(e,t,n,o,i){var r=this.$padding,s=o.lineHeight,a=this.$getTop(t.start.row,o),l=r+t.start.column*o.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",o,null,i)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",o,null,i)}else{a=this.$getTop(t.end.row,o);var d=t.end.column*o.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+d+"px;top:"+a+"px;left:"+r+"px;"+(i||""))}if(!((s=(t.end.row-t.start.row-1)*o.lineHeight)<=0)){a=this.$getTop(t.start.row+1,o);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(u?" ace_br"+u:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+r+"px;"+(i||""))}},e.prototype.drawSingleLineMarker=function(e,t,n,o,i,r){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,o,i,r);var s=o.lineHeight,a=(t.end.column+(i||0)-t.start.column)*o.characterWidth,l=this.$getTop(t.start.row,o),c=this.$padding+t.start.column*o.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(r||""))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,o,i,r){var s=o.lineHeight,a=this.$getTop(t.start.row,o),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+(e.width+(i||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(r||""))}),this)},e.prototype.drawFullLineMarker=function(e,t,n,o,i){var r=this.$getTop(t.start.row,o),s=o.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,o)-r),this.elt(n,"height:"+s+"px;top:"+r+"px;left:0;right:0;"+(i||""))},e.prototype.drawScreenLineMarker=function(e,t,n,o,i){var r=this.$getTop(t.start.row,o),s=o.lineHeight;this.elt(n,"height:"+s+"px;top:"+r+"px;left:0;right:0;"+(i||""))},e}();o.prototype.$padding=0,exports.Marker=o})),define("ace/layer/text_util",["require","exports","module"],(function(require,exports,e){var t=new Set(["text","rparen","lparen"]);exports.isTextToken=function(e){return t.has(e)}})),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(require,exports,e){"use strict";var t=require("../lib/oop"),n=require("../lib/dom"),o=require("../lib/lang"),i=require("./lines").Lines,r=require("../lib/event_emitter").EventEmitter,s=require("../config").nls,a=require("./text_util").isTextToken,l=function(){function e(e){this.dom=n,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new i(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+s,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var o=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),r=this.element.childNodes,s=0,a=e.firstRow;a<o;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(o)){o=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,d=(a=o,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>d&&(a=l.end.row+1,d=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>i);){var u=r[s++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==d&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=h&&(c=!0,u.style.height=h)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,o=t?t.lastRow:-1;if(!t||o<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,o){for(var i=[],r=t,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;r>a&&(r=s.end.row+1,a=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(r>o);){var l=this.$lines.createCell(r,e,this.session),c=l.element;this.dom.removeChildren(c),n.setStyle(c.style,"height",this.$lines.computeLineHeight(r,e,this.session)+"px"),n.setStyle(c.style,"top",this.$lines.computeLineTop(r,e,this.session)+"px"),this.$renderLine(c,r,r==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),r++}return i},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,o=this.$lines;o.getLength();)o.pop();o.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,i){
for(var r,l=this,c=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,d=this.dom.createFragment(this.element),u=0;r=c.exec(i);){var h=r[1],p=r[2],f=r[3],g=r[4],m=r[5];if(l.showSpaces||!p){var v=u!=r.index?i.slice(u,r.index):"";if(u=r.index+r[0].length,v&&d.appendChild(this.dom.createTextNode(v,this.element)),h){var y=l.session.getScreenTabSize(t+r.index);d.appendChild(l.$tabStrings[y].cloneNode(!0)),t+=y-1}else if(p){if(l.showSpaces)(w=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",w.textContent=o.stringRepeat(l.SPACE_CHAR,p.length),d.appendChild(w);else d.appendChild(this.dom.createTextNode(p,this.element))}else if(f){(w=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",w.textContent=o.stringRepeat(l.SPACE_CHAR,f.length),d.appendChild(w)}else if(g){t+=1,(w=this.dom.createElement("span")).style.width=2*l.config.characterWidth+"px",w.className=l.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",w.textContent=l.showSpaces?l.SPACE_CHAR:g,d.appendChild(w)}else if(m){t+=1,(w=this.dom.createElement("span")).style.width=2*l.config.characterWidth+"px",w.className="ace_cjk",w.textContent=m,d.appendChild(w)}}}if(d.appendChild(this.dom.createTextNode(u?i.slice(u):i,this.element)),a(n.type))e.appendChild(d);else{var b="ace_"+n.type.replace(/\./g," ace_"),w=this.dom.createElement("span");"fold"==n.type&&(w.style.width=n.value.length*this.config.characterWidth+"px",w.setAttribute("title",s("Unfold code"))),w.className=b,w.appendChild(d),e.appendChild(w)}return t+i.length},e.prototype.renderIndentGuide=function(e,t,n){var o=t.search(this.$indentGuideRe);if(o<=0||o>=n)return t;if(" "==t[0]){for(var i=(o-=o%this.tabSize)/this.tabSize,r=0;r<i;r++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(o)}if("\t"==t[0]){for(r=0;r<o;r++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(o)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,o=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:o,start:t.row},this.session.$bracketHighlight)for(var i=this.session.$bracketHighlight.ranges,r=0;r<i.length;r++)if(t.row!==i[r].start.row){this.$highlightIndentGuideMarker.end=i[r].start.row,t.row>i[r].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(r=t.row+1;r<e.length;r++){var s=e[r],a=/^\s*/.exec(s)[0].length;if(""!==s&&(this.$highlightIndentGuideMarker.end=r,a<=n))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var o=0;o<n.length;o++)if(n[o].classList&&n[o].classList.contains("ace_indent-guide-active")){n[o].classList.remove("ace_indent-guide-active");break}}},e.prototype.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var o=n[t-1];o&&o.classList&&o.classList.contains("ace_indent-guide")&&o.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var o=e[n];if(this.$highlightIndentGuideMarker.end&&o.row>=this.$highlightIndentGuideMarker.start+1){if(o.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(o,t)}}else for(n=e.length-1;n>=0;n--){o=e[n];if(this.$highlightIndentGuideMarker.end&&o.row<this.$highlightIndentGuideMarker.start){if(o.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(o,t)}}}},e.prototype.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},e.prototype.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var d=t[c],u=d.value;if(0==c&&this.displayIndentGuides){if(i=u.length,!(u=this.renderIndentGuide(l,u,s)))continue;i-=u.length}if(i+u.length<s)a=this.$renderToken(l,a,d,u),i+=u.length;else{for(;i+u.length>=s;)a=this.$renderToken(l,a,d,u.substring(0,s-i)),u=u.substring(s-i),i=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("Â ",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=u.length&&(i+=u.length,a=this.$renderToken(l,a,d,u))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},e.prototype.$renderSimpleLine=function(e,t){for(var n=0,o=0;o<t.length;o++){var i=t[o],r=i.value;if(0!=o||!this.displayIndentGuides||(r=this.renderIndentGuide(e,r))){if(n+r.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}}},e.prototype.$renderOverflowMessage=function(e,t,n,o,i){n&&this.$renderToken(e,t,n,o.slice(0,this.MAX_LINE_LENGTH-t));var r=this.dom.createElement("span");r.className="ace_inline_button ace_keyword ace_toggle_wrap",r.textContent=i?"<hide>":"<click to see more...>",e.appendChild(r)},e.prototype.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var o=this.$getFoldLineTokens(t,n);else o=this.session.getTokens(t);var i=e;if(o.length){var r=this.session.getRowSplitData(t);if(r&&r.length){this.$renderWrappedLine(e,o,r);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,o)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(s)}},e.prototype.$getFoldLineTokens=function(e,t){var n=this.session,o=[];var i=n.getTokens(e);return t.walk((function(e,t,r,s,a){null!=e?o.push({type:"fold",value:e}):(a&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,r=0;r+e[i].value.length<t;)if(r+=e[i].value.length,++i==e.length)return;for(r!=t&&((s=e[i].value.substring(t-r)).length>n-t&&(s=s.substring(0,n-t)),o.push({type:e[i].type,value:s}),r=t+s.length,i+=1);r<n&&i<e.length;){var s;(s=e[i].value).length+r>n?o.push({type:e[i].type,value:s.substring(0,n-r)}):o.push(e[i]),r+=s.length,i+=1}}(i,s,r))}),t.end.row,this.session.getLine(t.end.row).length),o},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();l.prototype.EOF_CHAR="Â¶",l.prototype.EOL_CHAR_LF="Â¬",l.prototype.EOL_CHAR_CRLF="Â¤",l.prototype.EOL_CHAR=l.prototype.EOL_CHAR_LF,l.prototype.TAB_CHAR="â",l.prototype.SPACE_CHAR="Â·",l.prototype.$padding=0,l.prototype.MAX_LINE_LENGTH=1e4,l.prototype.showInvisibles=!1,l.prototype.showSpaces=!1,l.prototype.showTabs=!1,l.prototype.showEOL=!1,l.prototype.displayIndentGuides=!0,l.prototype.$highlightIndentGuides=!0,l.prototype.$tabStrings=[],l.prototype.destroy={},l.prototype.onChangeTabSize=l.prototype.$computeTabString,t.implement(l.prototype,r),exports.Text=l})),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=function(){function e(e){this.element=t.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),t.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){for(var n=this.cursors,o=n.length;o--;)t.setStyle(n[o].style,"opacity",e?"":"0")},e.prototype.$startCssAnimation=function(){for(var e=this.cursors,n=e.length;n--;)e[n].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&t.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,t.removeCssClass(this.element,"ace_animate-blinking")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,t.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=t.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,t.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,t.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,t.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&t.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),t.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var n=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),n()}),this.blinkInterval),n()}else this.$stopCssAnimation()},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var n=this.session.$selectionMarkers,o=0,i=0;void 0!==n&&0!==n.length||(n=[{cursor:null}]);o=0;for(var r=n.length;o<r;o++){var s=this.getPixelPosition(n[o].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&o>1)){var a=this.cursors[i++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,n[o],this.session):this.isCursorInView(s,e)?(t.setStyle(l,"display","block"),t.translate(a,s.left,s.top),t.setStyle(l,"width",Math.round(e.characterWidth)+"px"),t.setStyle(l,"height",e.lineHeight+"px")):t.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?t.addCssClass(this.element,"ace_overwrite-cursors"):t.removeCssClass(this.element,"ace_overwrite-cursors"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();n.prototype.$padding=0,n.prototype.drawCursor=null,exports.Cursor=n})),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=require("./lib/oop"),i=require("./lib/dom"),r=require("./lib/event"),s=require("./lib/event_emitter").EventEmitter,a=32768,l=function(){function e(e,t){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="Â ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();o.implement(l.prototype,s);var c=function(e){function t(t,n){var o=e.call(this,t,"-v")||this;return o.scrollTop=0,o.scrollHeight=0,n.$scrollbarWidth=o.width=i.scrollbarWidth(t.ownerDocument),o.inner.style.width=o.element.style.width=(o.width||15)+5+"px",o.$minWidth=0,o}return n(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var d=function(e){function t(t,n){var o=e.call(this,t,"-h")||this;return o.scrollLeft=0,o.height=n.$scrollbarWidth,o.inner.style.height=o.element.style.height=(o.height||15)+5+"px",o}return n(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(l);exports.ScrollBar=c,exports.ScrollBarV=c,exports.ScrollBarH=d,exports.VScrollBar=c,exports.HScrollBar=d})),define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),o=require("./lib/oop"),i=require("./lib/dom"),r=require("./lib/event"),s=require("./lib/event_emitter").EventEmitter;i.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(){function e(e,t){this.element=i.createElement("div"),this.element.className="ace_sb"+t,this.inner=i.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();o.implement(a.prototype,s);var l=function(e){function t(t,n){var o=e.call(this,t,"-v")||this;return o.scrollTop=0,o.scrollHeight=0,o.parent=t,o.width=o.VScrollWidth,o.renderer=n,o.inner.style.width=o.element.style.width=(o.width||15)+"px",o.$minWidth=0,o}return n(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===r.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,o=t.clientY,i=t.clientY,s=this.thumbTop;r.capture(this.inner,(function(e){o=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==o){var e=n.scrollTopFromThumbTop(s+o-i);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return r.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),r.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},t}(a);l.prototype.setInnerHeight=l.prototype.setScrollHeight;var c=function(e){function t(t,n){var o=e.call(this,t,"-h")||this;return o.scrollLeft=0,o.scrollWidth=0,o.height=o.HScrollHeight,o.inner.style.height=o.element.style.height=(o.height||12)+"px",o.renderer=n,o}return n(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===r.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,o=t.clientX,i=t.clientX,s=this.thumbLeft;r.capture(this.inner,(function(e){o=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==o){var e=n.scrollLeftFromThumbLeft(s+o-i);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return r.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),r.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},t}(a);c.prototype.setInnerWidth=c.prototype.setScrollWidth,exports.ScrollBar=l,exports.ScrollBarV=l,exports.ScrollBarH=c,exports.VScrollBar=l,exports.HScrollBar=c})),define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(require,exports,e){"use strict";var t=require("./lib/event"),n=function(){function e(e,n){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=n||window;var o=this;this._flush=function(e){o.pending=!1;var n=o.changes;if(n&&(t.blockIdle(100),o.changes=0,o.onRender(n)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(t.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(e){var t=this.changes;return this.changes=0,t},e}();exports.RenderLoop=n})),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(require,exports,e){var t=require("../lib/oop"),n=require("../lib/dom"),o=require("../lib/lang"),i=require("../lib/event"),r=require("../lib/useragent"),s=require("../lib/event_emitter").EventEmitter,a=512,l="function"==typeof ResizeObserver,c=200,d=function(){function e(e){this.el=n.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=n.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=n.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",a),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",r.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},e.prototype.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=i.onIdle((function t(){e.checkForSizeChanges(),i.onIdle(t,500)}),500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/a};return 0===t.width||0===t.height?null:t},e.prototype.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,a),this.$main.getBoundingClientRect().width/a},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement):1},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=n.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},e.prototype.transformCoordinates=function(e,t){e&&(e=r(1/this.$getZoom(this.el),e));function n(e,t,n){var o=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/o,(+e[1]*n[0]-e[0]*n[1])/o]}function o(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function r(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),d=s(this.els[2]),u=s(this.els[3]),h=n(o(u,l),o(u,d),o(i(l,d),i(u,a))),p=r(1+h[0],o(l,a)),f=r(1+h[1],o(d,a));if(t){var g=t,m=h[0]*g[0]/c+h[1]*g[1]/c+1,v=i(r(g[0],p),r(g[1],f));return i(r(1/m/c,v),a)}var y=o(e,a),b=n(o(p,r(h[0],y)),o(f,r(h[1],y)),y);return r(c,b)},e}();d.prototype.$characterSize={width:0,height:0},t.implement(d.prototype,s),exports.FontMetrics=d})),define("ace/css/editor-css",["require","exports","module"],(function(require,exports,e){
e.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'})),define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,e){"use strict";var t=require("../lib/dom"),n=require("../lib/oop"),o=require("../lib/event_emitter").EventEmitter,i=function(){function e(e,n){this.canvas=t.createElement("canvas"),this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var o=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),o){var i={info:1,warning:2,error:3};o.forEach((function(e){e.priority=i[e.type]||null})),o=o.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var r=this.renderer.session.$foldData,s=0;s<o.length;s++){var a=o[s].row,l=this.compensateFoldRows(a,r),c=Math.round((a-l)*this.lineHeight*this.heightRatio),d=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(u-d<this.minDecorationHeight){var h=(d+u)/2|0;h<this.halfMinDecorationHeight?h=this.halfMinDecorationHeight:h+this.halfMinDecorationHeight>this.canvasHeight&&(h=this.canvasHeight-this.halfMinDecorationHeight),d=Math.round(h-this.halfMinDecorationHeight),u=Math.round(h+this.halfMinDecorationHeight)}n.fillStyle=t[o[s].type]||null,n.fillRect(0,c,this.canvasWidth,u-d)}}var p=this.renderer.session.selection.getCursor();if(p){l=this.compensateFoldRows(p.row,r),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var o=0;o<t.length;o++)e>t[o].start.row&&e<t[o].end.row?n+=e-t[o].start.row:e>=t[o].end.row&&(n+=t[o].end.row-t[o].start.row);return n},e}();n.implement(i.prototype,o),exports.Decorator=i})),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(require,exports,e){"use strict";var t=require("./lib/oop"),n=require("./lib/dom"),o=require("./lib/lang"),i=require("./config"),r=require("./layer/gutter").Gutter,s=require("./layer/marker").Marker,a=require("./layer/text").Text,l=require("./layer/cursor").Cursor,c=require("./scrollbar").HScrollBar,d=require("./scrollbar").VScrollBar,u=require("./scrollbar_custom").HScrollBar,h=require("./scrollbar_custom").VScrollBar,p=require("./renderloop").RenderLoop,f=require("./layer/font_metrics").FontMetrics,g=require("./lib/event_emitter").EventEmitter,m=require("./css/editor-css"),v=require("./layer/decorators").Decorator,y=require("./lib/useragent");n.importCssString(m,"ace_editor.css",!1);var b=function(){function e(e,t){var o=this;this.container=e||n.createElement("div"),n.addCssClass(this.container,"ace_editor"),n.HI_DPI&&n.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==i.get("useStrictCSP")&&i.set("useStrictCSP",!1),this.$gutter=n.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=n.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=n.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var u=this.$textLayer=new a(this.content);this.canvas=u.element,this.$markerFront=new s(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(e){o.$scrollAnimation||o.session.setScrollTop(e.data-o.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){o.$scrollAnimation||o.session.setScrollLeft(e.data-o.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){o.updateCharacterSize(),o.onResize(!0,o.gutterWidth,o.$size.width,o.$size.height),o._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),i.resetOptions(this),i._signal("renderer",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),n.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},e.prototype.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},e.prototype.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,o){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;o||(o=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var r=this.$updateCachedSize(e,t,n,o);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!o)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(r|this.$changes,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0),
this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},e.prototype.$updateCachedSize=function(e,t,o,i){i-=this.$extraHeight||0;var r=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(i&&(e||s.height!=i)&&(s.height=i,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(s.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),o&&(e||s.width!=o)){r|=this.CHANGE_SIZE,s.width=o,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,n.setStyle(this.scrollBarH.element.style,"left",t+"px"),n.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,o-t-this.scrollBarV.getWidth()-this.margin.h),n.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";n.setStyle(this.scrollBarH.element.style,"right",l),n.setStyle(this.scroller.style,"right",l),n.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(s.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)}return s.$dirty=!o||!i,r&&this._signal("resize",a),r},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},e.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},e.prototype.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},e.prototype.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},e.prototype.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},e.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},e.prototype.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},e.prototype.getShowGutter=function(){return this.getOption("showGutter")},e.prototype.setShowGutter=function(e){return this.setOption("showGutter",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=n.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=n.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var o=this.$cursorLayer.$pixelPos;if(o){t&&t.markerRange&&(o=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,r=o.top,s=o.left;r-=i.offset;var a=t&&t.useTextareaForIME||y.isMobile?this.lineHeight:1;if(r<0||r>i.height-a)n.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var d=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(d)[0]}else r+=this.lineHeight+2;else r+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,n.setStyle(e,"height",a+"px"),n.setStyle(e,"width",l+"px"),n.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(r,c))}}}else n.translate(this.textarea,-100,0)}},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,o){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|o,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,o){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|o,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var o=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),o.firstRow!=this.layerConfig.firstRow&&o.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(o.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}o=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),n.translate(this.content,-this.scrollLeft,-o.offset);var r=o.width+2*this.$padding+"px",s=o.minHeight+"px";n.setStyle(this.content.style,"width",r),n.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(n.translate(this.content,-this.scrollLeft,-o.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(o),this.$showGutter&&this.$gutterLayer.update(o),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o),this.$markerBack.update(o),this.$markerFront.update(o),this.$cursorLayer.update(o),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(o):this.$textLayer.scrollLines(o),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(o):this.$gutterLayer.scrollLines(o)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o),this.$markerBack.update(o),this.$markerFront.update(o),this.$cursorLayer.update(o),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(o),this.$showGutter&&this.$gutterLayer.update(o),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(o),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(o),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(o),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(o)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(o),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(o),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(o),this._signal("afterRender",e)}else this.$changes|=e},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var o=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||o!=this.$vScroll){o!=this.$vScroll&&(this.$vScroll=o,this.scrollBarV.setVisible(o));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,o=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),r=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==r;s&&(this.$horizScroll=r,this.scrollBarH.setVisible(r));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;o+=c;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,o-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+d.right)));var u=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-o+c<0||this.scrollTop>d.top),h=a!==u;h&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var p,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+f,g=this.scrollTop-p*b;var C=0;return(this.layerConfig.width!=i||s)&&(C=this.CHANGE_H_SCROLL),(s||h)&&(C|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:o,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),C},e.prototype.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var o=this.$cursorLayer.getPixelPosition(e),i=o.left,r=o.top,s=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>r?(t&&l+s>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):l+this.$size.scrollerHeight-a<r+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,d=2*this.layerConfig.characterWidth;i-d<c?((i-=d)<this.$padding+d&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):(i+=d,c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0))}},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),o=this.$size.scrollerHeight-this.lineHeight,i=n.top-o*(t||0);return this.session.setScrollTop(i),i},e.prototype.$calcSteps=function(e,t){var n=0,o=this.STEPS,i=[],r=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<o;++n)i.push(r(n/this.STEPS,e,t-e));return i},e.prototype.scrollToLine=function(e,t,n,o){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var r=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(r,o)},e.prototype.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var o=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0])==n)return}var r=o.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:r},clearInterval(this.$timer),o.session.setScrollTop(r.shift()),o.session.$scrollTop=n,this.$timer=setInterval((function(){if(!o.$stopAnimation)return o.session?void(r.length?(o.session.setScrollTop(r.shift()),o.session.$scrollTop=n):null!=n?(o.session.$scrollTop=-1,o.session.setScrollTop(n),n=null):s()):clearInterval(o.$timer);s()}),10)}}function s(){o.$timer=clearInterval(o.$timer),o.$scrollAnimation=null,o.$stopAnimation=!1,t&&t()}},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var o=this.$fontMetrics.transformCoordinates([e,t]);e=o[1]-this.gutterWidth-this.margin.left,t=o[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,r=i/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(r):Math.round(r);return{row:s,column:a,side:r-a>0?1:-1,offsetX:i}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var o=this.$fontMetrics.transformCoordinates([e,t]);e=o[1]-this.gutterWidth-this.margin.left,t=o[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,r=i/this.characterWidth,s=this.$blockCursor?Math.floor(r):Math.round(r),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),i)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),o=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,e)?this.session.$bidiHandler.getPosLeft(o.column):Math.round(o.column*this.characterWidth)),r=o.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+r-this.scrollTop}},e.prototype.visualizeFocus=function(){n.addCssClass(this.container,"ace_focus")},e.prototype.visualizeBlur=function(){n.removeCssClass(this.container,"ace_focus")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(n.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),n.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,o=t||{row:n.row,column:n.column};this.removeGhostText();var i=e.split("\n");if(this.addToken(i[0],"ghost_text",o.row,o.column),this.$ghostText={text:e,position:{row:o.row,column:o.column}},i.length>1){this.$ghostTextWidget={text:i.slice(1).join("\n"),row:o.row,column:o.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var r=this.$cursorLayer.getPixelPosition(o,!0),s=this.container.getBoundingClientRect().height,a=i.length*this.lineHeight;if(a<s-r.top)return;a<s?this.scrollBy(0,(i.length-1)*this.lineHeight):this.scrollBy(0,r.top)}},e.prototype.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},e.prototype.addToken=function(e,t,n,o){var i=this.session;i.bgTokenizer.lines[n]=null;var r={type:t,value:e},s=i.getTokens(n);if(null!=o&&s.length)for(var a=0,l=0;l<s.length;l++){var c=s[l];if(o<=(a+=c.value.length)){var d=c.value.length-(a-o),u=c.value.slice(0,d),h=c.value.slice(d);s.splice(l,1,{type:c.type,value:u},r,{type:c.type,value:h});break}}else s.push(r);this.updateLines(n,n)},e.prototype.removeExtraToken=function(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){var o=this;if(this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var r=e||this.$options.theme.initialValue;i.loadModule(["theme",r],s)}function s(i){if(o.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(o.$themeId=i.$id),n.importCssString(i.cssText,i.cssClass,o.container),o.theme&&n.removeCssClass(o.container,o.theme.cssClass);var r="padding"in i?i.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$theme=i.cssClass,o.theme=i,n.addCssClass(o.container,i.cssClass),n.setCssClass(o.container,"ace_dark",i.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){n.setCssClass(this.container,e,!1!==t)},e.prototype.unsetStyle=function(e){n.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){n.setStyle(this.scroller.style,"cursor",e)},e.prototype.setMouseCursor=function(e){n.setStyle(this.scroller.style,"cursor",e)},e.prototype.attachToShadowRoot=function(){n.importCssString(m,"ace_editor.css",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new v(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new d(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))},e.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=o.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.width,o=t[0].contentRect.height;Math.abs(e.$size.width-n)>1||Math.abs(e.$size.height-o)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},e}();b.prototype.CHANGE_CURSOR=1,b.prototype.CHANGE_MARKER=2,b.prototype.CHANGE_GUTTER=4,b.prototype.CHANGE_SCROLL=8,b.prototype.CHANGE_LINES=16,b.prototype.CHANGE_TEXT=32,b.prototype.CHANGE_SIZE=64,b.prototype.CHANGE_MARKER_BACK=128,b.prototype.CHANGE_MARKER_FRONT=256,b.prototype.CHANGE_FULL=512,b.prototype.CHANGE_H_SCROLL=1024,b.prototype.$changes=0,b.prototype.$padding=null,b.prototype.$frozen=!1,b.prototype.STEPS=8,t.implement(b.prototype,g),i.defineOptions(b.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){n.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),exports.VirtualRenderer=b})),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(require,exports,e){"use strict";var t=require("../lib/oop"),n=require("../lib/net"),o=require("../lib/event_emitter").EventEmitter,i=require("../config");function r(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(i.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+n.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return o.append(t),o.getBlob("application/javascript")}}(e),o=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(o)}return new Worker(e)}var s=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){t.implement(this,o),this.$createWorkerFromOldConfig=function(e,t,n,o,s){if(require.nameToUrl&&!require.toUrl&&(require.toUrl=require.nameToUrl),i.get("packaged")||!require.toUrl)o=o||i.moduleUrl(t,"worker");else{var a=this.$normalizePath;o=o||a(require.toUrl("ace/worker/worker.js",null,"_"));var l={};e.forEach((function(e){l[e]=a(require.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=r(o),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:l,module:t,classname:n}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return n.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var o=this.callbackId++;this.callbacks[o]=n,t.push(o)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},
this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(s.prototype);exports.UIWorkerClient=function(e,t,n){var r=null,a=!1,l=Object.create(o),c=[],d=new s({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),r&&(a?setTimeout(u):u())}});d.setEmitSync=function(e){a=e};var u=function(){var e=c.shift();e.command?r[e.command].apply(r,e.args):e.event&&l._signal(e.event,e.data)};return l.postMessage=function(e){d.onMessage({data:e})},l.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},l.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},i.loadModule(["worker",t],(function(e){for(r=new e[n](l);c.length;)u()})),d},exports.WorkerClient=s,exports.createWorker=r})),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(require,exports,e){"use strict";var t=require("./range").Range,n=require("./lib/event_emitter").EventEmitter,o=require("./lib/oop"),i=function(){function e(e,t,n,o,i,r){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=o,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,n=this.doc,o=this.session;this.selectionBefore=o.selection.toJSON(),o.selection.inMultiSelectMode&&o.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=o.addMarker(new t(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(t){var o=n.createAnchor(t.row,t.column);o.$insertRight=!0,o.detach(),e.others.push(o)})),o.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,n=this;this.othersActive=!0,this.others.forEach((function(o){o.markerId=e.addMarker(new t(o.row,o.column,o.row,o.column+n.length),n.othersClass,null,!1)}))}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var n=e;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var o="insert"===e.action?n.end.column-n.start.column:n.start.column-n.end.column,i=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,r=n.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=o),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+r};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+r};this.doc.remove(new t(a.row,a.column,a.row,a.column-o))}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var e=this,n=this.session,o=function(o,i){n.removeMarker(o.markerId),o.markerId=n.addMarker(new t(o.row,o.column,o.row,o.column+e.length),i,null,!1)};o(this.pos,this.mainClass);for(var i=this.others.length;i--;)o(this.others[i],this.othersClass)}},e.prototype.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();o.implement(i.prototype,n),exports.PlaceHolder=i})),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(require,exports,e){var t=require("../lib/event"),n=require("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}exports.onMouseDown=function(e){var i=e.domEvent,r=i.altKey,s=i.shiftKey,a=i.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&n.isMac&&(c=i.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||r||l){if(0===c){var d,u=e.editor,h=u.selection,p=u.inMultiSelectMode,f=e.getDocumentPosition(),g=h.getCursor(),m=e.inSelection()||h.isEmpty()&&o(f,g),v=e.x,y=e.y,b=u.session,w=u.renderer.pixelToScreenCoordinates(v,y),C=w;if(u.$mouseHandler.$enableJumpToDef)a&&r||l&&r?d=s?"block":"add":r&&u.$blockSelectEnabled&&(d="block");else if(l&&!r){if(d="add",!p&&s)return}else r&&u.$blockSelectEnabled&&(d="block");if(d&&n.isMac&&i.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==d){if(!p&&m)return;if(!p){var x=h.toOrientedRange();u.addSelectionMarker(x)}var S=h.rangeList.rangeAtPoint(f);u.inVirtualSelectionMode=!0,s&&(S=null,x=h.ranges[0]||x,u.removeSelectionMarker(x)),u.once("mouseup",(function(){var e=h.toOrientedRange();S&&e.isEmpty()&&o(S.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(x.cursor):x&&(u.removeSelectionMarker(x),h.addRange(x)),h.addRange(e)),u.inVirtualSelectionMode=!1}))}else if("block"==d){var _;e.stop(),u.inVirtualSelectionMode=!0;var k=[],E=function(){var e=u.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(C,e)&&o(t,h.lead)||(C=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(k),k=h.rectangularRangeBlock(C,w),u.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=u.$mouseHandler.$clickSelection.clone()),k.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};p&&!l?h.toSingleRange():!p&&l&&(_=h.toOrientedRange(),u.addSelectionMarker(_)),s?w=b.documentToScreenPosition(h.lead):h.moveToPosition(f),C={row:-1,column:-1};var A=E;t.capture(u.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){E(),clearInterval(T),u.removeSelectionMarkers(k),k.length||(k=[h.toOrientedRange()]),_&&(u.removeSelectionMarker(_),h.toSingleRange(_));for(var t=0;t<k.length;t++)h.addRange(k[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var T=setInterval((function(){A()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(require,exports,e){exports.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],exports.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var t=require("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new t(exports.multiSelectCommands)})),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(require,exports,e){var t=require("./range_list").RangeList,n=require("./range").Range,o=require("./selection").Selection,i=require("./mouse/multi_select_handler").onMouseDown,r=require("./lib/event"),s=require("./lib/lang"),a=require("./commands/multi_select_commands");exports.commands=a.defaultCommands.concat(a.multiSelectCommands);var l=new(0,require("./search").Search);var c=require("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(c.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var o=this.rangeList.add(e);return this.$onAddRange(e),o.length&&this.$onRemoveRange(o),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var o=this.ranges.indexOf(e[n]);this.ranges.splice(o,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new t,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],o=0;o<e.length;o++){var i=e[o],r=i.start.row,s=i.end.row;if(r===s)t.push(i.clone());else{for(t.push(new n(r,i.start.column,r,this.session.getLine(r).length));++r<s;)t.push(this.getLineRange(r,!0));t.push(new n(s,0,s,i.end.column))}0!=o||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(o=t.length;o--;)this.addRange(t[o])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],o=n.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(o,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],o=n.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(o,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),r=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,o){var i=[],r=e.column<t.column;if(r)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var d,u,h,p=e.row<t.row;if(p)var f=e.row,g=t.row;else f=t.row,g=e.row;s<0&&(s=0),f<0&&(f=0),f==g&&(o=!0);for(var m=f;m<=g;m++){var v=n.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(d&&(u=v.end,h=d,u.row==h.row&&u.column==h.column))break;d=v.end}v.cursor=r?v.start:v.end,i.push(v)}if(p&&i.reverse(),!o){for(var y=i.length-1;i[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;i[b].isEmpty();)b++;for(var w=y;w>=b;w--)i[w].isEmpty()&&i.splice(w,1)}return i}}.call(o.prototype);var d=require("./editor").Editor;function u(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=exports.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",i),e.commands.addCommands(a.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function o(t){n&&(e.renderer.setMouseCursor(""),n=!1)}r.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&o()}),e),r.addListener(t,"keyup",o,e),r.addListener(t,"blur",o,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var o=e[n];if(o.marker){this.session.removeMarker(o.marker);var i=t.indexOf(o);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?o=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?o=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),o=t.exec(n,e.args||{})):o=t.multiSelectAction(n,e.args||{});else{var o=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return o}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,d=(r?l:c).ranges;if(!d.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var h=new o(a);this.inVirtualSelectionMode=!0;for(var p=d.length;p--;){if(s)for(;p>0&&d[p].start.row==d[p-1].end.row;)p--;h.fromOrientedRange(d[p]),h.index=p,this.selection=a.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),h.toOrientedRange(d[p])}h.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],o=0;o<t.length;o++)n.push(this.session.getTextRange(t[o]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var o=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;o.row!=t.row||this.session.$clipPositionToDocument(o.row,o.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var o=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(o)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var r=this.multiSelect;n||r.toSingleRange(i[0]);for(var s=i.length;s--;)r.addRange(i[s],!0);return o&&r.rangeList.rangeAtPoint(o.start)&&r.addRange(o,!0),i.length},this.selectMoreLines=function(e,t){var o=this.selection.toOrientedRange(),i=o.cursor==o.end,r=this.session.documentToScreenPosition(o.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(r.row+e,r.column);if(o.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?o.end:o.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);i?(s=n.fromPoints(a,c)).cursor=s.start:(s=n.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var d=o.cursor}else this.selection.addRange(o);this.selection.addRange(s),d&&this.selection.substractPoint(d)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,o=n.ranges,i=o.length;i--;){if((a=o[i]).isEmpty()){var r=t.getWordRange(a.start.row,a.start.column);a.start.row=r.start.row,a.start.column=r.start.column,a.end.row=r.end.row,a.end.column=r.end.column}}n.mergeOverlappingRanges();var s=[];for(i=o.length;i--;){var a=o[i];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(i=o.length;i--;){var l=(a=o[i]).clone();t.replace(a,s[i]),a.start.row=l.start.row,a.start.column=l.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var o=this.session,i=o.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=o.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var r=o.getTextRange(i),s=function(e,t,n){return l.$options.wrap=!0,l.$options.needle=t,l.$options.backwards=-1==n,l.find(e)}(o,r,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,o=t.ranges,i=-1,r=o.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(o.length&&r.length!=o.length-1){r.forEach((function(e){t.substractPoint(e.cursor)}));var a=0,l=1/0,c=o.map((function(t){var n=t.cursor,o=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==o&&(o=0),n.column>a&&(a=n.column),o<l&&(l=o),o}));o.forEach((function(t,o){var i=t.cursor,r=a-i.column,d=c[o]-l;r>d?e.insert(i,s.stringRepeat(" ",r-d)):e.remove(new n(i.row,i.column,i.row,i.column-r+d)),t.start.column=t.end.column=a,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(o[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var d=this.selection.getRange(),u=d.start.row,h=d.end.row,p=u==h;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&++h<g);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(u,h);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(d.start.column=0,d.end.column=m[m.length-1].length),this.selection.setRange(d)}},this.$reAlignText=function(e,t){var n,o,i,r=!0,a=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,o=t[2].length,i=t[3].length,t):(n+o+i!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(r=!1),n>t[1].length&&(n=t[1].length),o<t[2].length&&(o=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?c:r?a?function(e){return e[2]?l(n+o-e[2].length)+e[2]+l(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?l(n)+e[2]+l(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function l(e){return s.stringRepeat(" ",e)}function c(e){return e[2]?l(n)+e[2]+l(o-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),exports.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},exports.MultiSelect=u,require("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){u(this),e?this.on("mousedown",i):this.off("mousedown",i)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(require,exports,e){"use strict";var t=require("../../range").Range,n=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var o=e.getLine(n);return this.foldingStartMarker.test(o)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,n,o){var i=/\S/,r=e.getLine(n),s=r.search(i);if(-1!=s){for(var a=o||r.length,l=e.getLength(),c=n,d=n;++n<l;){var u=e.getLine(n).search(i);if(-1!=u){if(u<=s){var h=e.getTokenAt(n,0);if(!h||"string"!==h.type)break}d=n}}if(d>c){var p=e.getLine(d).length;return new t(c,a,d,p)}}},this.openingBracketBlock=function(e,n,o,i,r){var s={row:o,column:i+1},a=e.$findClosingBracket(n,s,r);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),t.fromPoints(s,a)}},this.closingBracketBlock=function(e,n,o,i,r){var s={row:o,column:i},a=e.$findOpeningBracket(n,s);if(a)return a.column++,s.column--,t.fromPoints(a,s)}}).call(n.prototype)})),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(require,exports,e){"use strict";var t=require("../line_widgets").LineWidgets,n=require("../lib/dom"),o=require("../range").Range,i=require("../config").nls;exports.showErrorMarker=function(e,r){var s=e.session;s.widgetManager||(s.widgetManager=new t(s),s.widgetManager.attach(e));var a=e.getCursorPosition(),l=a.row,c=s.widgetManager.getWidgetsAtRow(l).filter((function(e){return"errorMarker"==e.type}))[0];c?c.destroy():l-=r;var d,u=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var o=0,i=e.length-1;o<=i;){var r=o+i>>1,s=n(t,e[r]);if(s>0)o=r+1;else{if(!(s<0))return r;i=r-1}}return-(o+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(s,l,r);if(u){var h=u[0];a.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,a.row=h.row,d=e.renderer.$gutterLayer.$annotations[a.row]}else{if(c)return;d={text:[i("Looks good!")],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var p={row:a.row,fixedWidth:!0,coverGutter:!0,el:n.createElement("div"),type:"errorMarker"},f=p.el.appendChild(n.createElement("div")),g=p.el.appendChild(n.createElement("div"));g.className="error_widget_arrow "+d.className;var m=e.renderer.$cursorLayer.getPixelPosition(a).left;g.style.left=m+e.renderer.gutterWidth-5+"px",p.el.className="error_widget_wrapper",f.className="error_widget "+d.className,f.innerHTML=d.text.join("<br>"),f.appendChild(n.createElement("div"));var v=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return p.destroy(),{command:"null"}};p.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(v),s.widgetManager.removeLineWidget(p),e.off("changeSelection",p.destroy),e.off("changeSession",p.destroy),e.off("mouseup",p.destroy),e.off("change",p.destroy))},e.keyBinding.addKeyboardHandler(v),e.on("changeSelection",p.destroy),e.on("changeSession",p.destroy),e.on("mouseup",p.destroy),e.on("change",p.destroy),e.session.widgetManager.addLineWidget(p),p.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:p.el.offsetHeight})},n.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(require,exports,e){"use strict";require("./loader_build")(exports);var t=require("./lib/dom"),n=require("./range").Range,o=require("./editor").Editor,i=require("./edit_session").EditSession,r=require("./undomanager").UndoManager,s=require("./virtual_renderer").VirtualRenderer;require("./worker/worker_client"),require("./keyboard/hash_handler"),require("./placeholder"),require("./multi_select"),require("./mode/folding/fold_mode"),require("./theme/textmate"),require("./ext/error_marker"),exports.config=require("./config"),exports.edit=function(e,n){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;r=a.value,e=t.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(r=e.textContent,e.innerHTML="");var l=exports.createEditSession(r),c=new o(new s(e),l,n),d={document:l,editor:c,onResize:c.resize.bind(c,null)};return a&&(d.textarea=a),c.on("destroy",(function(){d.editor.container.env=null})),c.container.env=c.env=d,c},exports.createEditSession=function(e,t){var n=new i(e,t);return n.setUndoManager(new r),n},exports.Range=n,exports.Editor=o,exports.EditSession=i,exports.UndoManager=r,exports.VirtualRenderer=s,exports.version=exports.config.version})),window.require(["ace/ace"],(function(e){e&&(e.config.init(!0),e.define=window.define);var t=function(){return this}();for(var n in t||"undefined"==typeof window||(t=window),t||"undefined"==typeof self||(t=self),t.ace||(t.ace=e),e)e.hasOwnProperty(n)&&(t.ace[n]=e[n]);t.ace.default=t.ace,"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t.ace)}));
//# sourceMappingURL=backend.min.js.map